/*! For license information please see xdsmjs-test.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.xdsmjs=e():t.xdsmjs=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=59)}([function(t,e,n){"use strict";var r={UNKNOWN:"UNKNOWN",PENDING:"PENDING",RUNNING:"RUNNING",DONE:"DONE",FAILED:"FAILED"};function o(t,e,n,o,i){var a=e||t,s=n||"function",u=o||r.UNKNOWN;if(void 0===r[u])throw Error("Unknown status '".concat(u,"' for node ").concat(a,"(id=").concat(t,")"));this.id=t,this.name=a,this.isMulti=s.search(/_multi$/)>=0,this.type=this.isMulti?s.substr(0,s.length-"_multi".length):s,this.status=u,this.subxdsm=i}function i(t,e,n,r,o,i){var a=this;if(this.id="link_".concat(t,"_").concat(e),"string"==typeof n){this.name=n,this.vars={},this.name.split(",").forEach((function(t,e){a.vars[e]=t.trim()}))}else{this.vars=n;var s=[];for(var u in this.vars)Object.prototype.hasOwnProperty.call(this.vars,u)&&s.push(this.vars[u]);this.name=s.join(", ")}this.row=r,this.col=o,this.iotype=r<o?"in":"out",this.isMulti=i}function a(t,e){var n=this,r=void 0===e||e;this.nodes=[],r&&(this.nodes=[new o("_U_","User","driver")]),this.edges=[],this.chains=[];var i=a.number(t.workflow),s=i.toNum;this.nodesByStep=i.toNode,t.nodes.forEach((function(t){var e=s[t.id];n.nodes.push(new o(t.id,e?"".concat(e,":").concat(t.name):t.name,t.type,t.status,t.subxdsm))}),this),this.uid=this.nodes[0].id,t.edges&&t.edges.forEach((function(t){n.addEdge(t.from,t.to,t.vars?t.vars:t.name)}),this),t.workflow&&this._makeChaining(t.workflow)}function s(t){var e,n=[];return t.forEach((function(t){if(t instanceof Array){if(Object.prototype.hasOwnProperty.call(t[0],"parallel")){if(!e)throw new Error("Bad workflow structure : cannot parallel loop without previous starting point.");n=n.slice(0,n.length-1).concat(t[0].parallel.map((function(t){return[e].concat(s([t]),e)})))}else n=e?n.concat(s(t),e):n.concat(s(t));e=n[n.length-1]}else if(Object.prototype.hasOwnProperty.call(t,"parallel"))n=e?n.slice(0,n.length-1).concat(t.parallel.map((function(t){return[e].concat(s([t]))}))):n.concat(t.parallel.map((function(t){return s([t])}))),e=void 0;else{for(var r=n.length-1,o=!1;r>=0&&n[r]instanceof Array;)n[r]=n[r].concat(t),r-=1,o=!0;o||n.push(t),e=t}})),n}o.prototype.isComposite=function(){return"mdo"===this.type||"sub-optimization"===this.type||"group"===this.type||"implicit-group"===this.type},o.prototype.getSubXdsmId=function(){if(this.isComposite()){var t=this.name.indexOf("_scn-");if(-1!==t)return console.log("Use of <name>_scn-<id> pattern in node.name to detect sub scenario 'scn-<id>' is deprecated. Use node.subxdsm property instead (i.e. node.subxdsm = <id>)"),this.name.substr(t+1);if(this.subxdsm)return this.subxdsm;console.log("".concat("Warning: Sub XDSM id not found. Bad type or name for node: ").concat(JSON.stringify(this)))}return null},i.prototype.addVar=function(t){if("string"==typeof t)""===this.name?this.name=t:this.name+=", ".concat(t),this.vars[this.vars.length]=t;else for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){this.vars[e]=t[e];var n=[];for(var r in this.vars)Object.prototype.hasOwnProperty.call(this.vars,r)&&n.push(this.vars[r]);this.name=n.join(", ")}},i.prototype.removeVar=function(t){var e=!1;for(var n in this.vars)n===t&&(this.vars.delete(n),e=!0);if(!e){var r={};for(var o in this.vars)this.vars[o]===t?e=!0:r[o]=this.vars[o];this.vars=r}if(e){var i=[];for(var a in this.vars)Object.prototype.hasOwnProperty.call(this.vars,a)&&i.push(this.vars[a]);this.name=i.join(", ")}},a.NODE_STATUS=r,a.prototype._makeChaining=function(t){var e=this;a.expand(t).forEach((function(t){if(t.length<2)throw new Error("Bad process chain (".concat(t.length,"elt)"));e.chains.push([]);var n=e.nodes.map((function(t){return t.id}));t.forEach((function(r,o){if(0!==o){var i=n.indexOf(t[o-1]);if(i<0)throw new Error("Process chain element (".concat(t[o-1],") not found"));var a=n.indexOf(t[o]);if(a<0)throw new Error("Process chain element (".concat(t[o],") not found"));i!==a&&e.chains[e.chains.length-1].push([i,a])}}),e)}),this)},a.prototype.idxOf=function(t){var e=this.nodes.map((function(t){return t.id})).indexOf(t);if(e<0)throw new Error("Graph.idxOf: ".concat(t," not found in ").concat(JSON.stringify(this.nodes)));return e},a.prototype.getNode=function(t){var e;return this.nodes.forEach((function(n){n.id===t&&(e=n)}),this),e},a.prototype.getNodeFromIndex=function(t){if(!(t>=0&&t<this.nodes.length))throw new Error("Index out of range : ".concat(t," not in [0, ").concat(this.nodes.length-1,"]"));return this.nodes[t]},a.prototype.addNode=function(t){this.nodes.push(new o(t.id,t.name,t.kind))},a.prototype.removeNode=function(t){var e=this,n=this.findEdgesOf(t);n.toRemove.forEach((function(t){var n=e.edges.indexOf(t);n>-1&&e.edges.splice(n,1)}),this),n.toShift.forEach((function(t){t.row>1&&(t.row-=1),t.col>1&&(t.col-=1)}),this),this.nodes.splice(t,1)},a.prototype.moveLeft=function(t){if(t>1){var e=this.nodes[t-1];this.nodes[t-1]=this.nodes[t],this.nodes[t]=e}},a.prototype.moveRight=function(t){if(t<this.nodes.length-1){var e=this.nodes[t+1];this.nodes[t+1]=this.nodes[t],this.nodes[t]=e}},a.prototype.addEdge=function(t,e,n){var r=this.idxOf(t),o=this.idxOf(e),a=this.nodes[r].isMulti||this.nodes[o].isMulti;this.edges.push(new i(t,e,n,r,o,a))},a.prototype.removeEdge=function(t,e){var n=this.findEdge(t,e);this.edges.splice(n.index,1)},a.prototype.addEdgeVar=function(t,e,n){var r=this.findEdge(t,e).element;r?(console.log(n),r.addVar(n)):this.addEdge(t,e,n)},a.prototype.removeEdgeVar=function(t,e,n){var r=this.findEdge(t,e),o=r.element,i=r.index;o&&o.removeVar(n),""===o.name&&this.edges.splice(i,1)},a.prototype.findEdgesOf=function(t){var e=[],n=[];return this.edges.forEach((function(r){r.row===t||r.col===t?e.push(r):(r.row>t||r.col>t)&&n.push(r)}),this),{toRemove:e,toShift:n}},a.prototype.findEdge=function(t,e){var n,r=-1,o=this.idxOf(t),i=this.idxOf(e);return this.edges.some((function(t,e){if(t.row===o&&t.col===i){if(n)throw Error("edge have be uniq between two nodes, but got: ".concat(JSON.stringify(n)," and ").concat(JSON.stringify(t)));return n=t,r=e,!0}return!1}),this),{element:n,index:r}},a._isPatchNeeded=function(t){for(var e=t.map((function(t){return t[t.length-1]})),n=e[0],r=0;r<e.length;r+=1)if(e[r]!==n)return!0;return!1},a._patchParallel=function(t){var e=this,n=[];t.forEach((function(t){t instanceof Array?n.push(t):a._isPatchNeeded(n)&&n.forEach((function(e){e.push(t)}),e)}),this)},a.expand=function(t){var e=s(t),n=[],r=[];return a._patchParallel(e),e.forEach((function(t){if(t instanceof Array)r.length>0&&(r.push(t[0]),n.push(r),r=[]),n.push(t);else{if(n.length>0&&0===r.length){var e=n[n.length-1],o=e[e.length-1];r.push(o)}r.push(t)}}),this),r.length>0&&n.push(r),n},a.number=function(t,e){var n=void 0===e?0:e,r={},o=[];function i(t,e){t in o?o[t].push(e):o[t]=[e]}function a(t,e,o){void 0===o?(n=String(e),i(e,t)):(n="".concat(o,"-").concat(e),i(o,t)),t in r?r[t]+=",".concat(n):r[t]=n}return function t(e,n){var r=0;if(e instanceof Array)if(0===e.length)r=n;else if(1===e.length)r=t(e[0],n);else{var o=e[0],i=e.slice(1),s=t(o,n);if(i[0]instanceof Array){var u=t(i[0],s);a(o,s,u),s=u+1,i.shift()}r=t(i,s)}else if(e instanceof Object&&"parallel"in e){var c=e.parallel.map((function(e){return t(e,n)}));r=Math.max.apply(null,c)}else a(e,n),r=n+1;return r}(t,n),{toNum:r,toNode:o}},e.a=a},,function(t,e,n){"use strict";function r(){}r.strParse=function(t,e){if(""===t)return[{base:"",sub:void 0,sup:void 0}];var n=t.split(",");if(!1===e)return n.map((function(t){return{base:t,sub:void 0,sup:void 0}}));var r=/_/g,o=/([0-9-]+:)?([&#;A-Za-z0-9-.]+)(_[&#;A-Za-z0-9-._]+)?(\^.+)?/;return n.map((function(t){var e,n,i;if((t.match(r)||[]).length>1){var a=t.match(/(.+)\^(.+)/);return a?{base:a[1],sub:void 0,sup:a[2]}:{base:t,sub:void 0,sup:void 0}}var s=t.match(o);if(!s)throw new Error("Labelizer.strParse: Can not parse '".concat(t,"'"));return e=(s[1]?s[1]:"")+s[2],s[3]&&(n=s[3].substring(1)),s[4]&&(i=s[4].substring(1)),{base:e,sub:n,sup:i}}),this)},r._createVarListLabel=function(t,e,n,o,i,a){r.strParse(e,i).every((function(e,r,i){var s=0,u=0;return o<1||r<5&&n.nodes()[0].getBBox().width<100?(n.append("tspan").html((function(){return a?"<a class='subxdsm-link' href=\"#".concat(a,'">').concat(e.base,"</a>"):e.base})),e.sub&&(s=10,n.append("tspan").attr("class","sub").attr("dy",s).html(e.sub)),e.sup&&(u=-10,n.append("tspan").attr("class","sup").attr("dx",-5).attr("dy",-s+u).html(e.sup),s=0),r<i.length-1&&n.append("tspan").attr("dy",-s-u).html(", "),!0):(n.append("tspan").attr("dy",-s-u).html("..."),t.classed("ellipsized",!0),!1)}),this)},r._createLinkNbLabel=function(t,e,n){var r=e.split(","),o="".concat(r.length," var");r.length>1&&(o+="s"),n.append("tspan").html(o),t.classed("ellipsized",!0)},r.labelize=function(){var t=0,e=!0,n=!1,o="node",i=!1;function a(a){a.each((function(s){var u=a.append("text");n&&"node"!==o?r._createLinkNbLabel(a,s.name,u):r._createVarListLabel(a,s.name,u,t,e,i)}))}return a.ellipsis=function(e){return arguments.length?(t=e,a):t},a.subSupScript=function(t){return arguments.length?(e=t,a):e},a.linkNbOnly=function(t){return arguments.length?(n=t,a):n},a.labelKind=function(t){return arguments.length?(o=t,a):o},a.subXdsmLink=function(t){return arguments.length?(i=t,a):i},a},r.tooltipize=function(){var t="",e=!1;function n(n){var o=[];e?r.strParse(t).forEach((function(t){var e=t.base;t.sub&&(e+="<sub>".concat(t.sub,"</sub>")),t.sup&&(e+="<sup>".concat(t.sup,"</sup>")),o.push(e)})):o=t.split(",");n.html(o.join(", "))}return n.text=function(e){return arguments.length?(t=e,n):t},n.subSupScript=function(t){return arguments.length?(e=t,n):e},n},e.a=r},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=s(p);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(9),o=n(16),i=o(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&i(t,".prototype.")>-1?o(n):n}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(27),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=s&&function(){var t={};try{for(var e in s(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),c=function(t,e,n,r){var o;(!(e in t)||"function"==typeof(o=r)&&"[object Function]"===i.call(o)&&r())&&(u?s(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},l=function(t,e){var n=arguments.length>2?arguments[2]:{},i=r(e);o&&(i=a.call(i,Object.getOwnPropertySymbols(e)));for(var s=0;s<i.length;s+=1)c(t,i[s],e[i[s]],n[i[s]])};l.supportsDescriptors=!!u,t.exports=l},function(t,e,n){"use strict";function r(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function o(){}var i=function(t){return null==t?o:function(){return this.querySelector(t)}},a=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)};function s(){return[]}var u=function(t){return null==t?s:function(){return this.querySelectorAll(t)}};var c=function(t){return function(){return this.matches(t)}};function l(t){return function(e){return e.matches(t)}}var f=Array.prototype.find;function p(){return this.firstElementChild}var d=Array.prototype.filter;function h(){return this.children}var y=function(t){return new Array(t.length)};function g(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}g.prototype={constructor:g,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var v=function(t){return function(){return t}};function m(t,e,n,r,o,i){for(var a,s=0,u=e.length,c=i.length;s<c;++s)(a=e[s])?(a.__data__=i[s],r[s]=a):n[s]=new g(t,i[s]);for(;s<u;++s)(a=e[s])&&(o[s]=a)}function b(t,e,n,r,o,i,a){var s,u,c,l=new Map,f=e.length,p=i.length,d=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(d[s]=c=a.call(u,u.__data__,s,e)+"",l.has(c)?o[s]=u:l.set(c,u));for(s=0;s<p;++s)c=a.call(t,i[s],s,i)+"",(u=l.get(c))?(r[s]=u,u.__data__=i[s],l.delete(c)):n[s]=new g(t,i[s]);for(s=0;s<f;++s)(u=e[s])&&l.get(d[s])===u&&(o[s]=u)}function w(t){return t.__data__}function _(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var x="http://www.w3.org/1999/xhtml",S={svg:"http://www.w3.org/2000/svg",xhtml:x,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},E=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),S.hasOwnProperty(e)?{space:S[e],local:t}:t};function A(t){return function(){this.removeAttribute(t)}}function O(t){return function(){this.removeAttributeNS(t.space,t.local)}}function k(t,e){return function(){this.setAttribute(t,e)}}function j(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function T(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function P(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var N=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function M(t){return function(){this.style.removeProperty(t)}}function R(t,e,n){return function(){this.style.setProperty(t,e,n)}}function D(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function B(t,e){return t.style.getPropertyValue(e)||N(t).getComputedStyle(t,null).getPropertyValue(e)}function q(t){return function(){delete this[t]}}function I(t,e){return function(){this[t]=e}}function L(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function U(t){return t.trim().split(/^|\s+/)}function C(t){return t.classList||new F(t)}function F(t){this._node=t,this._names=U(t.getAttribute("class")||"")}function G(t,e){for(var n=C(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function W(t,e){for(var n=C(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function z(t){return function(){G(this,t)}}function Y(t){return function(){W(this,t)}}function $(t,e){return function(){(e.apply(this,arguments)?G:W)(this,t)}}F.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function X(){this.textContent=""}function V(t){return function(){this.textContent=t}}function H(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function J(){this.innerHTML=""}function K(t){return function(){this.innerHTML=t}}function Z(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Q(){this.nextSibling&&this.parentNode.appendChild(this)}function tt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function et(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===x&&e.documentElement.namespaceURI===x?e.createElement(t):e.createElementNS(n,t)}}function nt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var rt=function(t){var e=E(t);return(e.local?nt:et)(e)};function ot(){return null}function it(){var t=this.parentNode;t&&t.removeChild(this)}function at(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function st(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ut(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function ct(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?e.length=o:delete this.__on}}}function lt(t,e,n){return function(){var r,o=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=e);this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},o?o.push(r):this.__on=[r]}}function ft(t,e,n){var r=N(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function pt(t,e){return function(){return ft(this,t,e)}}function dt(t,e){return function(){return ft(this,t,e.apply(this,arguments))}}var ht=[null];function yt(t,e){this._groups=t,this._parents=e}function gt(){return new yt([[document.documentElement]],ht)}yt.prototype=gt.prototype={constructor:yt,select:function(t){"function"!=typeof t&&(t=i(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var a,s,u=e[o],c=u.length,l=r[o]=new Array(c),f=0;f<c;++f)(a=u[f])&&(s=t.call(a,a.__data__,f,u))&&("__data__"in a&&(s.__data__=a.__data__),l[f]=s);return new yt(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:a(e)}}(t):u(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var s,c=e[i],l=c.length,f=0;f<l;++f)(s=c[f])&&(r.push(t.call(s,s.__data__,f,c)),o.push(s));return new yt(r,o)},selectChild:function(t){return this.select(null==t?p:function(t){return function(){return f.call(this.children,t)}}("function"==typeof t?t:l(t)))},selectChildren:function(t){return this.selectAll(null==t?h:function(t){return function(){return d.call(this.children,t)}}("function"==typeof t?t:l(t)))},filter:function(t){"function"!=typeof t&&(t=c(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,u=r[o]=[],l=0;l<s;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&u.push(i);return new yt(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,w);var n=e?b:m,r=this._parents,o=this._groups;"function"!=typeof t&&(t=v(t));for(var i=o.length,s=new Array(i),u=new Array(i),c=new Array(i),l=0;l<i;++l){var f=r[l],p=o[l],d=p.length,h=a(t.call(f,f&&f.__data__,l,r)),y=h.length,g=u[l]=new Array(y),_=s[l]=new Array(y),x=c[l]=new Array(d);n(f,p,g,_,x,h,e);for(var S,E,A=0,O=0;A<y;++A)if(S=g[A]){for(A>=O&&(O=A+1);!(E=_[O])&&++O<y;);S._next=E||null}}return(s=new yt(s,r))._enter=u,s._exit=c,s},enter:function(){return new yt(this._enter||this._groups.map(y),this._parents)},exit:function(){return new yt(this._exit||this._groups.map(y),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(o=e(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){if(!(t instanceof yt))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var u,c=e[s],l=n[s],f=c.length,p=a[s]=new Array(f),d=0;d<f;++d)(u=c[d]||l[d])&&(p[d]=u);for(;s<r;++s)a[s]=e[s];return new yt(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=_);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],u=s.length,c=o[i]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new yt(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,s=i.length;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=E(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?O:A:"function"==typeof e?n.local?P:T:n.local?j:k)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?M:"function"==typeof e?D:R)(t,e,null==n?"":n)):B(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?q:"function"==typeof e?L:I)(t,e)):this.node()[t]},classed:function(t,e){var n=U(t+"");if(arguments.length<2){for(var r=C(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?$:e?z:Y)(n,e))},text:function(t){return arguments.length?this.each(null==t?X:("function"==typeof t?H:V)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?J:("function"==typeof t?Z:K)(t)):this.node().innerHTML},raise:function(){return this.each(Q)},lower:function(){return this.each(tt)},append:function(t){var e="function"==typeof t?t:rt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:rt(t),r=null==e?ot:"function"==typeof e?e:i(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(it)},clone:function(t){return this.select(t?st:at)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=ut(t+""),a=i.length;if(!(arguments.length<2)){for(s=e?lt:ct,r=0;r<a;++r)this.each(s(i[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?dt:pt)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,o=t[e],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};var vt=gt,mt=function(t){return"string"==typeof t?new yt([[document.querySelector(t)]],[document.documentElement]):new yt([[t]],ht)},bt=n(0),wt=function(t){return"string"==typeof t?new yt([document.querySelectorAll(t)],[document.documentElement]):new yt([null==t?[]:a(t)],ht)},_t={value:()=>{}};function xt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new St(r)}function St(t){this._=t}function Et(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function At(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function Ot(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=_t,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}St.prototype=xt.prototype={constructor:St,on:function(t,e){var n,r=this._,o=Et(t+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<a;)if(n=(t=o[i]).type)r[n]=Ot(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Ot(r[n],t.name,null);return this}for(;++i<a;)if((n=(t=o[i]).type)&&(n=At(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new St(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var kt,jt,Tt=xt,Pt=0,Nt=0,Mt=0,Rt=0,Dt=0,Bt=0,qt="object"==typeof performance&&performance.now?performance:Date,It="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Lt(){return Dt||(It(Ut),Dt=qt.now()+Bt)}function Ut(){Dt=0}function Ct(){this._call=this._time=this._next=null}function Ft(t,e,n){var r=new Ct;return r.restart(t,e,n),r}function Gt(){Dt=(Rt=qt.now())+Bt,Pt=Nt=0;try{!function(){Lt(),++Pt;for(var t,e=kt;e;)(t=Dt-e._time)>=0&&e._call.call(null,t),e=e._next;--Pt}()}finally{Pt=0,function(){var t,e,n=kt,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:kt=e);jt=t,zt(r)}(),Dt=0}}function Wt(){var t=qt.now(),e=t-Rt;e>1e3&&(Bt-=e,Rt=t)}function zt(t){Pt||(Nt&&(Nt=clearTimeout(Nt)),t-Dt>24?(t<1/0&&(Nt=setTimeout(Gt,t-qt.now()-Bt)),Mt&&(Mt=clearInterval(Mt))):(Mt||(Rt=qt.now(),Mt=setInterval(Wt,1e3)),Pt=1,It(Gt)))}Ct.prototype=Ft.prototype={constructor:Ct,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Lt():+n)+(null==e?0:+e),this._next||jt===this||(jt?jt._next=this:kt=this,jt=this),this._call=t,this._time=n,zt()},stop:function(){this._call&&(this._call=null,this._time=1/0,zt())}};var Yt=function(t,e,n){var r=new Ct;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r},$t=Tt("start","end","cancel","interrupt"),Xt=[],Vt=function(t,e,n,r,o,i){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function i(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(i){var c,l,f,p;if(1!==n.state)return u();for(c in o)if((p=o[c]).name===n.name){if(3===p.state)return Yt(a);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete o[c]):+c<e&&(p.state=6,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete o[c])}if(Yt((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),c=0,l=-1;c<f;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=p);r.length=l+1}}function s(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(t,o);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=Ft(i,0,n.time)}(t,n,{name:e,index:r,group:o,on:$t,tween:Xt,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})};function Ht(t,e){var n=Kt(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Jt(t,e){var n=Kt(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Kt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var Zt,Qt=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},te=180/Math.PI,ee={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},ne=function(t,e,n,r,o,i){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*te,skewX:Math.atan(u)*te,scaleX:a,scaleY:s}};function re(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var s=[],u=[];return i=t(i),a=t(a),function(t,r,o,i,a,s){if(t!==o||r!==i){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Qt(t,o)},{i:u-2,x:Qt(r,i)})}else(o||i)&&a.push("translate("+o+e+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,u),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Qt(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(i.rotate,a.rotate,s,u),function(t,e,n,i){t!==e?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Qt(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(i.skewX,a.skewX,s,u),function(t,e,n,r,i,a){if(t!==n||e!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:Qt(t,n)},{i:s-2,x:Qt(e,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,u),i=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var oe=re((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ee:ne(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),ie=re((function(t){return null==t?ee:(Zt||(Zt=document.createElementNS("http://www.w3.org/2000/svg","g")),Zt.setAttribute("transform",t),(t=Zt.transform.baseVal.consolidate())?(t=t.matrix,ne(t.a,t.b,t.c,t.d,t.e,t.f)):ee)}),", ",")",")");function ae(t,e){var n,r;return function(){var o=Jt(this,t),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}o.tween=r}}function se(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=Jt(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:e,value:n},u=0,c=o.length;u<c;++u)if(o[u].name===e){o[u]=s;break}u===c&&o.push(s)}i.tween=o}}function ue(t,e,n){var r=t._id;return t.each((function(){var t=Jt(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Kt(t,r).value[e]}}var ce=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function le(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function fe(){}var pe=.7,de=1/pe,he="\\s*([+-]?\\d+)\\s*",ye="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ge="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ve=/^#([0-9a-f]{3,8})$/,me=new RegExp("^rgb\\("+[he,he,he]+"\\)$"),be=new RegExp("^rgb\\("+[ge,ge,ge]+"\\)$"),we=new RegExp("^rgba\\("+[he,he,he,ye]+"\\)$"),_e=new RegExp("^rgba\\("+[ge,ge,ge,ye]+"\\)$"),xe=new RegExp("^hsl\\("+[ye,ge,ge]+"\\)$"),Se=new RegExp("^hsla\\("+[ye,ge,ge,ye]+"\\)$"),Ee={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ae(){return this.rgb().formatHex()}function Oe(){return this.rgb().formatRgb()}function ke(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ve.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?je(e):3===n?new Me(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Te(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Te(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=me.exec(t))?new Me(e[1],e[2],e[3],1):(e=be.exec(t))?new Me(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=we.exec(t))?Te(e[1],e[2],e[3],e[4]):(e=_e.exec(t))?Te(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=xe.exec(t))?qe(e[1],e[2]/100,e[3]/100,1):(e=Se.exec(t))?qe(e[1],e[2]/100,e[3]/100,e[4]):Ee.hasOwnProperty(t)?je(Ee[t]):"transparent"===t?new Me(NaN,NaN,NaN,0):null}function je(t){return new Me(t>>16&255,t>>8&255,255&t,1)}function Te(t,e,n,r){return r<=0&&(t=e=n=NaN),new Me(t,e,n,r)}function Pe(t){return t instanceof fe||(t=ke(t)),t?new Me((t=t.rgb()).r,t.g,t.b,t.opacity):new Me}function Ne(t,e,n,r){return 1===arguments.length?Pe(t):new Me(t,e,n,null==r?1:r)}function Me(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Re(){return"#"+Be(this.r)+Be(this.g)+Be(this.b)}function De(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Be(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function qe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Le(t,e,n,r)}function Ie(t){if(t instanceof Le)return new Le(t.h,t.s,t.l,t.opacity);if(t instanceof fe||(t=ke(t)),!t)return new Le;if(t instanceof Le)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,s=i-o,u=(i+o)/2;return s?(a=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new Le(a,s,u,t.opacity)}function Le(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ue(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ce(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}ce(fe,ke,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ae,formatHex:Ae,formatHsl:function(){return Ie(this).formatHsl()},formatRgb:Oe,toString:Oe}),ce(Me,Ne,le(fe,{brighter:function(t){return t=null==t?de:Math.pow(de,t),new Me(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?pe:Math.pow(pe,t),new Me(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Re,formatHex:Re,formatRgb:De,toString:De})),ce(Le,(function(t,e,n,r){return 1===arguments.length?Ie(t):new Le(t,e,n,null==r?1:r)}),le(fe,{brighter:function(t){return t=null==t?de:Math.pow(de,t),new Le(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?pe:Math.pow(pe,t),new Le(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Me(Ue(t>=240?t-240:t+120,o,r),Ue(t,o,r),Ue(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Fe=t=>()=>t;function Ge(t,e){return function(n){return t+n*e}}function We(t){return 1==(t=+t)?ze:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Fe(isNaN(e)?n:e)}}function ze(t,e){var n=e-t;return n?Ge(t,n):Fe(isNaN(t)?e:t)}var Ye=function t(e){var n=We(e);function r(t,e){var r=n((t=Ne(t)).r,(e=Ne(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=ze(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function $e(t){return function(e){var n,r,o=e.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=Ne(e[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=t(i),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=i(t),r.g=a(t),r.b=s(t),r+""}}}$e((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,s=r<e-1?t[r+2]:2*i-o;return Ce((n-r/e)*e,a,o,i,s)}})),$e((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Ce((n-r/e)*e,o,i,a,s)}}));var Xe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ve=new RegExp(Xe.source,"g");var He=function(t,e){var n,r,o,i=Xe.lastIndex=Ve.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Xe.exec(t))&&(r=Ve.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Qt(n,r)})),i=Ve.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},Je=function(t,e){var n;return("number"==typeof e?Qt:e instanceof ke?Ye:(n=ke(e))?(e=n,Ye):He)(t,e)};function Ke(t){return function(){this.removeAttribute(t)}}function Ze(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qe(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function tn(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function en(t,e,n){var r,o,i;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===o?i:(o=s,i=e(r=a,u));this.removeAttribute(t)}}function nn(t,e,n){var r,o,i;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===o?i:(o=s,i=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function rn(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function on(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function an(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&on(t,o)),n}return o._value=e,o}function sn(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&rn(t,o)),n}return o._value=e,o}function un(t,e){return function(){Ht(this,t).delay=+e.apply(this,arguments)}}function cn(t,e){return e=+e,function(){Ht(this,t).delay=e}}function ln(t,e){return function(){Jt(this,t).duration=+e.apply(this,arguments)}}function fn(t,e){return e=+e,function(){Jt(this,t).duration=e}}function pn(t,e){if("function"!=typeof e)throw new Error;return function(){Jt(this,t).ease=e}}function dn(t,e,n){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Ht:Jt;return function(){var a=i(this,t),s=a.on;s!==r&&(o=(r=s).copy()).on(e,n),a.on=o}}var hn=vt.prototype.constructor;function yn(t){return function(){this.style.removeProperty(t)}}function gn(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function vn(t,e,n){var r,o;function i(){var i=e.apply(this,arguments);return i!==o&&(r=(o=i)&&gn(t,i,n)),r}return i._value=e,i}function mn(t){return function(e){this.textContent=t.call(this,e)}}function bn(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&mn(r)),e}return r._value=t,r}var wn=0;function _n(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function xn(){return++wn}var Sn=vt.prototype;_n.prototype=function(t){return vt().transition(t)}.prototype={constructor:_n,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=i(t));for(var r=this._groups,o=r.length,a=new Array(o),s=0;s<o;++s)for(var u,c,l=r[s],f=l.length,p=a[s]=new Array(f),d=0;d<f;++d)(u=l[d])&&(c=t.call(u,u.__data__,d,l))&&("__data__"in u&&(c.__data__=u.__data__),p[d]=c,Vt(p[d],e,n,d,p,Kt(u,n)));return new _n(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=u(t));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var c,l=r[s],f=l.length,p=0;p<f;++p)if(c=l[p]){for(var d,h=t.call(c,c.__data__,p,l),y=Kt(c,n),g=0,v=h.length;g<v;++g)(d=h[g])&&Vt(d,e,n,g,h,y);i.push(h),a.push(c)}return new _n(i,a,e,n)},filter:function(t){"function"!=typeof t&&(t=c(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,u=r[o]=[],l=0;l<s;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&u.push(i);return new _n(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var u,c=e[s],l=n[s],f=c.length,p=a[s]=new Array(f),d=0;d<f;++d)(u=c[d]||l[d])&&(p[d]=u);for(;s<r;++s)a[s]=e[s];return new _n(a,this._parents,this._name,this._id)},selection:function(){return new hn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=xn(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=Kt(a,e);Vt(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new _n(r,this._parents,t,n)},call:Sn.call,nodes:Sn.nodes,node:Sn.node,size:Sn.size,empty:Sn.empty,each:Sn.each,on:function(t,e){var n=this._id;return arguments.length<2?Kt(this.node(),n).on.on(t):this.each(dn(n,t,e))},attr:function(t,e){var n=E(t),r="transform"===n?ie:Je;return this.attrTween(t,"function"==typeof e?(n.local?nn:en)(n,r,ue(this,"attr."+t,e)):null==e?(n.local?Ze:Ke)(n):(n.local?tn:Qe)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=E(t);return this.tween(n,(r.local?an:sn)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?oe:Je;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var i=B(this,t),a=(this.style.removeProperty(t),B(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}(t,r)).on("end.style."+t,yn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,o,i;return function(){var a=B(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=B(this,t)),a===u?null:a===r&&u===o?i:(o=u,i=e(r=a,s))}}(t,r,ue(this,"style."+t,e))).each(function(t,e){var n,r,o,i,a="style."+e,s="end."+a;return function(){var u=Jt(this,t),c=u.on,l=null==u.value[a]?i||(i=yn(e)):void 0;c===n&&o===l||(r=(n=c).copy()).on(s,o=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,o,i=n+"";return function(){var a=B(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,vn(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(ue(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,bn(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,o=Kt(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==e?ae:se)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?un:cn)(e,t)):Kt(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ln:fn)(e,t)):Kt(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(pn(e,t)):Kt(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Jt(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},u={value:function(){0==--o&&i()}};n.each((function(){var n=Jt(this,r),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===o&&i()}))},[Symbol.iterator]:Sn[Symbol.iterator]};var En={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function An(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}vt.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,o,i=t.__transition,a=!0;if(i){for(o in e=null==e?null:e+"",i)(n=i[o]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete t.__transition}}(this,t)}))},vt.prototype.transition=function(t){var e,n;t instanceof _n?(e=t._id,t=t._name):(e=xn(),(n=En).time=Lt(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],u=s.length,c=0;c<u;++c)(a=s[c])&&Vt(a,t,e,c,s,n||An(a,e));return new _n(r,this._parents,t,e)};var On=n(2);function kn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kn(Object(n),!0).forEach((function(e){Tn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pn="xdsm",Nn="xdsm2";function Mn(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r}function Rn(t,e,n){this.graph=t,this.version=n.version||Nn;var r=mt(".".concat(this.version));this.svg=r.append("svg").attr("width",1e3).attr("height",500).attr("id",e),this.grid=[],this.nodes=[],this.edges=[],this.svgid=e,this.default_config={labelizer:{ellipsis:5,subSupScript:!0,showLinkNbOnly:!1},layout:{origin:{x:100,y:20},cellsize:{w:250,h:75},padding:20},withDefaultDriver:!0,withTitleTooltip:!0},this.config=jn(jn({},this.default_config),n),this.config.labelizer=jn(jn({},this.default_config.labelizer),n.labelizer),this.config.layout=jn(jn({},this.default_config.layout),n.layout),this.config.withTitleTooltip&&(this.tooltip=mt("body").append("div").attr("class","xdsm-tooltip").style("opacity",0)),this._initialize()}Rn.prototype.setVersion=function(t){this.version=t},Rn.prototype.addNode=function(t){this.graph.addNode(t),this.draw()},Rn.prototype.removeNode=function(t){this.graph.removeNode(t),this.draw()},Rn.prototype.hasWorkflow=function(){return 0!==this.graph.chains.length},Rn.prototype._initialize=function(){var t=this;t._createTitle(),t.nodeGroup=t.svg.append("g").attr("class","nodes"),t.edgeGroup=t.svg.append("g").attr("class","edges")},Rn.prototype.updateMdo=function(t){this.graph=new bt.a(t,this.config.withDefaultDriver),this.refresh()},Rn.prototype.refresh=function(){var t=this;t.svg.selectAll("g").remove(),t.nodeGroup=t.svg.append("g").attr("class","nodes"),t.edgeGroup=t.svg.append("g").attr("class","edges"),t.draw()},Rn.prototype.draw=function(){var t=this;t.nodes=t._createTextGroup("node",t.nodeGroup,t._customRect),t.edges=t._createTextGroup("edge",t.edgeGroup,t._customTrapz),t._createWorkflow(),t._createDataflow(),t._createBorder();var e=t.config.layout.cellsize.w*(t.graph.nodes.length+1),n=t.config.layout.cellsize.h*(t.graph.nodes.length+1);t.svg.attr("width",e).attr("height",n),t.svg.selectAll(".border").attr("height",n-4).attr("width",e-4)},Rn.prototype._createTextGroup=function(t,e,n){var r=this,o=e.selectAll(".".concat(t)).data(this.graph["".concat(t,"s")],(function(t){return t.id})),i=On.a.labelize().labelKind(t).ellipsis(r.config.labelizer.ellipsis).subSupScript(r.config.labelizer.subSupScript).linkNbOnly(r.config.labelizer.showLinkNbOnly),a=o.enter().append("g").attr("class",(function(e){var n="node"===t?e.type:"dataInter";return"dataInter"!==n||0!==e.row&&0!==e.col||(n="dataIO"),"id".concat(e.id," ").concat(t," ").concat(n)})).each((function(t){mt(this).call(i.subXdsmLink(t.subxdsm))})).each((function(t,e){var n=r.grid,o=mt(this);void 0===n[e]&&(n[e]=new Array(r.graph.nodes.length)),o.select("text").each((function(t,r){var i=mt(this),a=o.data()[0],s=void 0===a.row?e:a.row,u=void 0===a.col?e:a.col,c=i.nodes()[r].getBBox();n[s][u]=new Mn(-c.width/2,0,c.width,c.height),i.attr("width",(function(){return n[s][u].width})).attr("height",(function(){return n[s][u].height})).attr("x",(function(){return n[s][u].x})).attr("y",(function(){return n[s][u].y}))}))})).each((function(t,e){var o=mt(this);o.call(n.bind(r),t,e,0),t.isMulti&&(o.call(n.bind(r),t,e,1*Number(3)),o.call(n.bind(r),t,e,2*Number(3)))})).merge(o);o.exit().remove(),r.tooltip?wt(".ellipsized").on("mouseover",(function(t,e){r.tooltip.transition().duration(200).style("opacity",.9);var n=On.a.tooltipize().subSupScript(r.config.labelizer.subSupScript).text(e.name);r.tooltip.call(n).style("width","".concat(300,"px")).style("left","".concat(t.pageX,"px")).style("top","".concat(t.pageY-28,"px"))})).on("mouseout",(function(){r.tooltip.transition().duration(500).style("opacity",0)})):wt(".ellipsized").attr("title",(function(t){return t.name.split(",").join(", ")})),r._layoutText(a,n,(o.empty(),0))},Rn.prototype._layoutText=function(t,e,n){var r=this;t.transition().duration(n).attr("transform",(function(t,e){var n=void 0===t.col?e:t.col,o=void 0===t.row?e:t.row,i=r.config.layout.cellsize.w*n+r.config.layout.origin.x,a=r.config.layout.cellsize.h*o+r.config.layout.origin.y;return"translate(".concat(r.config.layout.origin.x+i,",").concat(r.config.layout.origin.y+a,")")}))},Rn.prototype._createWorkflow=function(){var t=this;this.svg.selectAll(".workflow").data([t.graph]).enter().insert("g",":first-child").attr("class","workflow").selectAll("g").data(t.graph.chains).enter().insert("g").attr("class","workflow-chain").selectAll("path").data((function(t){return t})).enter().append("path").attr("class",(function(t){return"link_".concat(t[0],"_").concat(t[1])})).attr("transform",(function(e){var n,r,o=Math.max(e[0],e[1]),i=Math.min(e[0],e[1]);return e[0]<e[1]?(n=t.config.layout.cellsize.w*o+t.config.layout.origin.x,r=t.config.layout.cellsize.h*i+t.config.layout.origin.y):(n=t.config.layout.cellsize.w*i+t.config.layout.origin.x,r=t.config.layout.cellsize.h*o+t.config.layout.origin.y),"translate(".concat(t.config.layout.origin.x+n,",").concat(t.config.layout.origin.y+r,")")})).attr("d",(function(e){var n=t.config.layout.cellsize.w*Math.abs(e[0]-e[1]),r=t.config.layout.cellsize.h*Math.abs(e[0]-e[1]),o=[];return e[0]<e[1]?(0!==e[0]&&o.push("".concat(-n,",0")),o.push("0,0"),0!==e[1]&&o.push("0,".concat(r))):(0!==e[0]&&o.push("".concat(n,",0")),o.push("0,0"),0!==e[1]&&o.push("0,".concat(-r))),"M".concat(o.join(" "))}))},Rn.prototype._createDataflow=function(){var t=this;t.svg.selectAll(".dataflow").data([t]).enter().insert("g",":first-child").attr("class","dataflow");var e=t.svg.select(".dataflow").selectAll("path").data(t.graph.edges,(function(t){return t.id}));e.enter().append("path").merge(e).transition().duration((e.empty(),0)).attr("transform",(function(e,n){var r=void 0===e.col?n:e.col,o=void 0===e.row?n:e.row,i=t.config.layout.cellsize.w*r+t.config.layout.origin.x,a=t.config.layout.cellsize.h*o+t.config.layout.origin.y;return"translate(".concat(t.config.layout.origin.x+i,",").concat(t.config.layout.origin.y+a,")")})).attr("d",(function(e){var n=t.config.layout.cellsize.w*Math.abs(e.col-e.row),r=t.config.layout.cellsize.h*Math.abs(e.col-e.row),o=[];return"in"===e.iotype?(0!==e.row&&o.push("".concat(-n,",0")),o.push("0,0"),0!==e.col&&o.push("0,".concat(r))):(0!==e.row&&o.push("".concat(n,",0")),o.push("0,0"),0!==e.col&&o.push("0,".concat(-r))),"M".concat(o.join(" "))})),e.exit().remove()},Rn.prototype._customRect=function(t,e,n,r){var o=this,i=o.grid;if(this.version!==Nn||"group"!==e.type&&"implicit-group"!==e.type&&"sub-optimization"!==e.type&&"mdo"!==e.type)t.insert("rect",":first-child").classed("shape",!0).attr("x",(function(){return i[n][n].x+r-o.config.layout.padding})).attr("y",(function(){return-i[n][n].height*(2/3)-o.config.layout.padding-r})).attr("width",(function(){return i[n][n].width+2*o.config.layout.padding})).attr("height",(function(){return i[n][n].height+2*o.config.layout.padding})).attr("rx",(function(){return"driver"===e.type||"optimization"===e.type||"mda"===e.type||"doe"===e.type?(i[n][n].height+2*o.config.layout.padding)/2:0})).attr("ry",(function(){return"driver"===e.type||"optimization"===e.type||"mda"===e.type||"doe"===e.type?(i[n][n].height+2*o.config.layout.padding)/2:0}));else{var a=i[n][n].x+r-o.config.layout.padding,s=-i[n][n].height*(2/3)-o.config.layout.padding-r,u=i[n][n].x+r+o.config.layout.padding+i[n][n].width,c=-i[n][n].height*(2/3)+o.config.layout.padding-r+i[n][n].height,l=10,f="".concat(a+l,",").concat(s," ").concat(u-l,",").concat(s," ").concat(u,",").concat(s+l," ").concat(u,",").concat(c-l," ").concat(u-l,",").concat(c," ").concat(a+l,",").concat(c," ").concat(a,",").concat(c-l," ").concat(a,",").concat(s+l);t.insert("polygon",":first-child").classed("shape",!0).attr("points",f)}},Rn.prototype._customTrapz=function(t,e,n,r){var o=this.grid;t.insert("polygon",":first-child").classed("shape",!0).attr("points",(function(t){var e=o[t.row][t.col].width,n=o[t.row][t.col].height;return["".concat(-5-e/2+r,", ").concat(-5-n*(2/3)-r," "),"".concat(e/2+5+r+5,", ").concat(-5-n*(2/3)-r," "),"".concat(e/2+5+r-5+5,", ").concat(5+n/3-r," "),"".concat(-5-e/2+r-5,", ").concat(5+n/3-r," ")].join(" ")}))},Rn.prototype._createTitle=function(){var t=this;t.svg.selectAll(".title").data([t.svgid]).enter().append("g").classed("title",!0).append("a").attr("id",t.svgid).append("text").text("root"===t.svgid?"":t.svgid).attr("transform","translate(".concat(t.config.layout.origin.x,", ").concat(t.config.layout.origin.y-5,")"))},Rn.prototype._createBorder=function(){this.svg.selectAll(".border").data([this]).enter().append("rect").classed("border",!0).attr("x",4).attr("y",4).style("stroke","black").style("fill","none").style("stroke-width",0)};var Dn=Rn;function Bn(t,e){this._xdsm=t,this._selection=null,this._prevSelection=null,this._callback=e,this.enable()}Bn.prototype.enable=function(){this._addEventHandler(".node"),this._addEventHandler(".edge")},Bn.prototype._addEventHandler=function(t){var e=this;wt(t).on("click",(function(){var t=mt('[data-xdsm-selected="true"]');e._unselect(t);var n=mt(this);(t.empty()||t.data()[0].id!==n.data()[0].id)&&e._select(n),e._callback(e.getFilter())}))},Bn.prototype._select=function(t){t.attr("data-xdsm-selected",!0),t.select(".shape").transition().duration(100).style("stroke-width","4px")},Bn.prototype._unselect=function(t){t.attr("data-xdsm-selected",null),t.select(".shape").transition().duration(100).style("stroke-width",null)},Bn.prototype.getFilter=function(){var t={fr:void 0,to:void 0},e=mt('[data-xdsm-selected="true"]');if(!e.empty()){var n=e.data()[0];n.iotype?(t.fr=this._xdsm.graph.getNodeFromIndex(n.row).id,t.to=this._xdsm.graph.getNodeFromIndex(n.col).id):(t.fr=n.id,t.to=n.id)}return t},Bn.prototype.setFilter=function(t){var e,n=this,r=mt('[data-xdsm-selected="true"]');t.fr===t.to?void 0!==t.fr&&(e=mt(".id".concat(t.fr)),n._select(e)):void 0!==t.fr&&void 0!==t.to&&(e=mt(".idlink_".concat(t.fr,"_").concat(t.to)),n._select(e)),(!e||e.empty()||!r.empty()&&r.data()[0].id!==e.data()[0].id)&&n._unselect(r)};var qn=Bn,In=700,Ln=Ne("seagreen"),Un=Ne("firebrick"),Cn=Ne("darkseagreen"),Fn=Ne("darkcyan");function Gn(t,e,n){this.rootId=e,void 0===e&&(this.rootId="root"),this.root=t[this.rootId],this.xdsms=t,this.duration=In,this.initialDelay=n||0,this._observers=[],this.reset()}Gn.STATUS={READY:"ready",RUNNING_STEP:"running_step",RUNNING_AUTO:"running_auto",STOPPED:"stopped",DONE:"done",DISABLED:"disabled"},Gn.prototype.reset=function(){this.curStep=0,this.subAnimations={},this._updateStatus(Gn.STATUS.READY)},Gn.prototype.start=function(){this._scheduleAnimation(),this._updateStatus(Gn.STATUS.RUNNING_AUTO)},Gn.prototype.stop=function(){this._reset("all"),this._updateStatus(Gn.STATUS.STOPPED)},Gn.prototype.stepPrev=function(){this._step("prev")},Gn.prototype.stepNext=function(){this._step("next")},Gn.prototype.setXdsmVersion=function(t){Object.values(this.xdsms).forEach((function(e){e.setVersion(t),e.refresh()}),this)},Gn.prototype._step=function(t){var e="prev"===t,n=this,r=n.xdsms[n.rootId].graph,o=r.nodesByStep,i=e?-1:1;if(!(!e&&n.done()||e&&n.ready())){if(!n._subAnimationInProgress())n.curStep+=i,n._reset(),o[n.curStep].forEach((function(t){n.running()&&o[n.curStep-i].forEach((function(r){e?n._pulseLink(0,t,r):n._pulseLink(0,r,t);var o="g.id".concat(r);n._pulseNode(0,o,"out")}));var r="g.id".concat(t);n._pulseNode(0,r,"in")}));o[n.curStep].some(n._isSubXdsm,this)&&o[n.curStep].forEach((function(e){if(n._isSubXdsm(e)){var o=r.getNode(e).getSubXdsmId();n.subAnimations[o]||(n.subAnimations[o]=new Gn(n.xdsms,o)),n.subAnimations[o]._step(t)}}),this),this.done()?this._updateStatus(Gn.STATUS.DONE):this.ready()?this._updateStatus(Gn.STATUS.READY):this._updateStatus(Gn.STATUS.RUNNING_STEP)}},Gn.prototype.running=function(){return!this.ready()&&!this.done()},Gn.prototype.ready=function(){return 0===this.curStep},Gn.prototype.done=function(){return this.curStep===this.root.graph.nodesByStep.length-1},Gn.prototype.isStatus=function(t){return this.status===t},Gn.prototype.addObserver=function(t){t&&this._observers.push(t)},Gn.prototype.renderNodeStatuses=function(){var t=this,e=t.xdsms[t.rootId].graph;e.nodes.forEach((function(n){var r="g.".concat(n.id);switch(n.status){case bt.a.NODE_STATUS.RUNNING:t._pulseNode(0,r,"in",Ln);break;case bt.a.NODE_STATUS.FAILED:t._pulseNode(0,r,"in",Un);break;case bt.a.NODE_STATUS.PENDING:t._pulseNode(0,r,"in",Cn);break;case bt.a.NODE_STATUS.DONE:t._pulseNode(0,r,"in",Fn)}if(t._isSubXdsm(n.id)){var o=e.getNode(n.id).getSubXdsmId();new Gn(t.xdsms,o).renderNodeStatuses()}}))},Gn.prototype._updateStatus=function(t){this.status=t,this._notifyObservers(t)},Gn.prototype._notifyObservers=function(){var t=this;this._observers.map((function(e){return e.update(t.status)}))},Gn.prototype._pulse=function(t,e,n,r){var o=r||Ln,i=mt("svg#".concat(this.rootId)).selectAll(e).transition().delay(t);"out"!==n&&(i=i.transition().duration(200).style("stroke-width","8px").style("stroke",o).style("fill",(function(t){return t.id?o.brighter():null}))),"in"!==n&&i.transition().duration(2100).style("stroke-width",null).style("stroke",null).style("fill",null)},Gn.prototype._pulseNode=function(t,e,n,r){this._pulse(t,"".concat(e," > rect"),n,r),this._pulse(t,"".concat(e," > polygon"),n,r)},Gn.prototype._pulseLink=function(t,e,n){var r=this.xdsms[this.rootId].graph,o=r.idxOf(e),i=r.idxOf(n);this._pulse(t,"path.link_".concat(o,"_").concat(i))},Gn.prototype._onAnimationStart=function(t){mt("svg#".concat(this.rootId)).select("g.title").select("text").transition().delay(t).style("fill",Ln),mt("svg#".concat(this.rootId)).select("rect.border").transition().delay(t).style("stroke-width","5px").duration(200).transition().duration(1e3).style("stroke","black").style("stroke-width","0px")},Gn.prototype._onAnimationDone=function(t){var e=this;mt("svg#".concat(this.rootId)).select("g.title").select("text").transition().delay(t).style("fill",null).on("end",(function(){e._updateStatus(Gn.STATUS.DONE)}))},Gn.prototype._isSubXdsm=function(t){var e="g.id".concat(t),n=mt("svg#".concat(this.rootId)).select(e);return n.classed("mdo")||n.classed("sub-optimization")||n.classed("group")||n.classed("implicit-group")},Gn.prototype._scheduleAnimation=function(){var t=this,e=this,n=this.initialDelay,r=e.xdsms[e.rootId].graph;return e._onAnimationStart(n),r.nodesByStep.forEach((function(o,i,a){var s=[];o.forEach((function(t){var o=n+i*In;if(i>0){a[i-1].forEach((function(n){e._pulseLink(o,n,t)}));var u="g.id".concat(t);if(e._isSubXdsm(t)){e._pulseNode(o,u,"in");var c=r.getNode(t).getSubXdsmId(),l=new Gn(e.xdsms,c,o+200)._scheduleAnimation();s.push(l),e._pulseNode(l+o+200,u,"out")}else e._pulseNode(o,u)}}),t),s.length>0&&(n+=Math.max.apply(null,s)),n+=200}),this),e._onAnimationDone(r.nodesByStep.length*In+n),r.nodesByStep.length*In},Gn.prototype._reset=function(t){var e=mt("svg#".concat(this.rootId));t&&(e=wt("svg")),e.selectAll("rect").transition().duration(0).style("stroke-width",null).style("stroke",null),e.selectAll("polygon").transition().duration(0).style("stroke-width",null).style("stroke",null),e.selectAll(".title > text").transition().duration(0).style("fill",null),e.selectAll(".node > rect").transition().duration(0).style("stroke-width",null).style("stroke",null).style("fill",null),e.selectAll(".node > polygon").transition().duration(0).style("stroke-width",null).style("stroke",null).style("fill",null),e.selectAll("path").transition().duration(0).style("stroke-width",null).style("stroke",null).style("fill",null)},Gn.prototype._resetPreviousStep=function(){var t=this;this.root.graph.nodesByStep[this.curStep-1].forEach((function(e){var n="g.id".concat(e);t._pulseNode(0,n,"out")}),this)},Gn.prototype._subAnimationInProgress=function(){var t=!1;for(var e in this.subAnimations)Object.prototype.hasOwnProperty.call(this.subAnimations,e)&&(t=t||this.subAnimations[e].running());return t};var Wn=Gn;function zn(t,e){var n=this;this.animation=t,this.defaultVersion=e||Nn;var r=mt(".xdsm-toolbar").append("div").classed("button_group",!0);r.append("button").attr("id","start").append("i").attr("class","icon-start"),r.append("button").attr("id","stop").append("i").attr("class","icon-stop"),r.append("button").attr("id","step-prev").append("i").attr("class","icon-step-prev"),r.append("button").attr("id","step-next").append("i").attr("class","icon-step-next"),r.append("label").text("XDSM").attr("id","xdsm-version-label"),r.append("select").attr("id","xdsm-version-toggle"),this.startButton=mt("button#start"),this.stopButton=mt("button#stop"),this.stepPrevButton=mt("button#step-prev"),this.stepNextButton=mt("button#step-next"),this.toggleVersionButton=mt("select#xdsm-version-toggle");var o={v1:Pn,v2:Nn};this.toggleVersionButton.selectAll("versions").data(["v1","v2"]).enter().append("option").text((function(t){return t})).attr("value",(function(t){return o[t]})).property("selected",(function(t){return e===o[t]})),this.startButton.on("click",(function(){n.animation.start()})),this.stopButton.on("click",(function(){n.animation.stop()})),this.stepPrevButton.on("click",(function(){n.animation.stepPrev()})),this.stepNextButton.on("click",(function(){n.animation.stepNext()})),this.toggleVersionButton.on("change",(function(){var t=mt("select#xdsm-version-toggle").property("value"),e=mt(".".concat(t));e.empty()&&t===Pn&&(e=mt(".".concat(Nn))).classed(Nn,!1).classed(Pn,!0),e.empty()&&t===Nn&&(e=mt(".".concat(Pn))).classed(Pn,!1).classed(Nn,!0),n.animation.setXdsmVersion(t)})),this.animation.addObserver(this),this.update(this.animation.status)}zn.prototype.update=function(t){switch(t){case Wn.STATUS.STOPPED:case Wn.STATUS.DONE:this.animation.reset();case Wn.STATUS.READY:this._enable(this.startButton),this._disable(this.stopButton),this._enable(this.stepNextButton),this._enable(this.stepPrevButton);break;case Wn.STATUS.RUNNING_AUTO:this._disable(this.startButton),this._enable(this.stopButton),this._disable(this.stepNextButton),this._disable(this.stepPrevButton);break;case Wn.STATUS.RUNNING_STEP:this._disable(this.startButton),this._enable(this.stopButton),this._enable(this.stepNextButton),this._enable(this.stepPrevButton);break;default:console.log("Unexpected Event: ".concat(t))}},zn.prototype._enable=function(t){t.attr("disabled",null)},zn.prototype._disable=function(t){t.attr("disabled",!0)};var Yn=zn;function $n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$n(Object(n),!0).forEach((function(e){Vn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kn(t,e,n){return e&&Jn(t.prototype,e),n&&Jn(t,n),t}var Zn=function(){function t(e,n,r){Hn(this,t);var o=new bt.a(e,r.withDefaultDriver);this.xdsm=new Dn(o,"root",r),this.xdsm.draw(),this.selectable=new qn(this.xdsm,n),this.selectable.enable()}return Kn(t,[{key:"updateMdo",value:function(t){this.xdsm.updateMdo(t),this.selectable.enable()}},{key:"setSelection",value:function(t){this.selectable.setFilter(t)}}]),t}(),Qn=function(){function t(e){Hn(this,t),this._version=t._detectVersion()||Nn,this.default_config={labelizer:{ellipsis:5,subSupScript:!0,showLinkNbOnly:!1},withDefaultDriver:!0},this._config=Xn(Xn({},this.default_config),e),this._config.version=this._version}return Kn(t,[{key:"createXdsm",value:function(t){var e=this,n=this._version,o=mt(".".concat(n));if(o.empty())console.log("No element of ".concat(n,' class. Please add <div class="').concat(n,'"></div> in your HTML.'));else if(t)this._createXdsm(t,n);else{var i=o.attr("data-mdo");if(i)this._createXdsm(JSON.parse(i),n);else(function(t,e){return fetch(t,e).then(r)})(o.attr("data-mdo-file")||"xdsm.json").then((function(t){return e._createXdsm(t,n)}))}}},{key:"createSelectableXdsm",value:function(t,e){return new Zn(t,e,this._config)}},{key:"_createXdsm",value:function(e,n){var r=this,o=t._orderedList(e);mt("body").selectAll("optpb").data(o).enter().append("div").filter((function(t){return e[t].optpb})).attr("class",(function(t){return"optpb ".concat(t)})).style("opacity",0).on("click",(function(){mt(this).transition().duration(500).style("opacity",0).style("pointer-events","none")})).append("pre").html((function(t){return e[t].optpb}));var i={};if(-1===o.indexOf("root")){var a=new bt.a(e,this._config.withDefaultDriver);i.root=new Dn(a,"root",this._config),i.root.draw()}else o.forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){var n=new bt.a(e[t],r._config.withDefaultDriver);i[t]=new Dn(n,t,r._config),i[t].draw(),i[t].svg.select(".optimization").on("click",(function(e){var n=mt(".optpb.".concat(t));n.style("opacity",.9),n.style("left","".concat(e.pageX,"px")).style("top","".concat(e.pageY-28,"px")),n.style("pointer-events","auto")}))}}),this);var s=new Wn(i);if(i.root.hasWorkflow())new Yn(s,n);s.renderNodeStatuses()}}],[{key:"XDSM_V1",get:function(){return Pn}},{key:"XDSM_V2",get:function(){return Nn}},{key:"_detectVersion",value:function(){return mt(".".concat(Pn)).empty()?Nn:Pn}},{key:"_orderedList",value:function(e,n,r){var o=n||"root",i=r||0;if(e[o]){var a=e[o].nodes.map((function(t){return t.subxdsm})).filter((function(t){return t})),s=[o];if(a.length>0)for(var u=0;u<a.length;u+=1)s=s.concat(t._orderedList(e,a[u],i+1));return s}if(0===i)return Object.keys(e).sort();throw new Error("sub-XDSM '".concat(o,"' not found among ").concat(Object.keys(e)))}}]),t}();e.a=Qn},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){"use strict";var r,o=SyntaxError,i=Function,a=TypeError,s=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(t){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(t){try{return u(arguments,"callee").get}catch(t){return c}}}():c,f=n(15)(),p=Object.getPrototypeOf||function(t){return t.__proto__},d={},h="undefined"==typeof Uint8Array?r:p(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?p(p([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?p((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?p((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?p(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},g=function t(e){var n;if("%AsyncFunction%"===e)n=s("async function () {}");else if("%GeneratorFunction%"===e)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=s("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(n=p(o.prototype))}return y[e]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=n(28),b=n(29),w=m.call(Function.call,Array.prototype.concat),_=m.call(Function.apply,Array.prototype.splice),x=m.call(Function.call,String.prototype.replace),S=m.call(Function.call,String.prototype.slice),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,O=function(t){var e=S(t,0,1),n=S(t,-1);if("%"===e&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return x(t,E,(function(t,e,n,o){r[r.length]=n?x(o,A,"$1"):e||t})),r},k=function(t,e){var n,r=t;if(b(v,r)&&(r="%"+(n=v[r])[0]+"%"),b(y,r)){var i=y[r];if(i===d&&(i=g(r)),void 0===i&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');var n=O(t),r=n.length>0?n[0]:"",i=k("%"+r+"%",e),s=i.name,c=i.value,l=!1,f=i.alias;f&&(r=f[0],_(n,w([0,1],f)));for(var p=1,d=!0;p<n.length;p+=1){var h=n[p],g=S(h,0,1),v=S(h,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new o("property names with quotes must have matching quotes");if("constructor"!==h&&d||(l=!0),b(y,s="%"+(r+="."+h)+"%"))c=y[s];else if(null!=c){if(!(h in c)){if(!e)throw new a("base intrinsic for "+t+" exists, but the property is not available.");return}if(u&&p+1>=n.length){var m=u(c,h);c=(d=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:c[h]}else d=b(c,h),c=c[h];d&&!l&&(y[s]=c)}}return c}},function(t,e,n){"use strict";var r=n(18),o=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=f;var i=Object.create(n(14));i.inherits=n(8);var a=n(31),s=n(26);i.inherits(f,a);for(var u=o(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(t){if(!(this instanceof f))return new f(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},,,function(t,e,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(n,r){function o(n){t.removeListener(e,i),r(n)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}v(t,e,i,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&v(t,"error",e,n)}(t,o,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var o,i,a,s;if(c(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),a=i[e]),void 0===a)a=i[e]=n,++t._eventsCount;else if("function"==typeof a?a=i[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=l(t))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=p.bind(r);return o.listener=n,r.wrapFn=o,o}function h(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):g(o,o.length)}function y(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function v(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(i){r.once&&t.removeEventListener(e,o),n(i)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)i(u,this,e);else{var c=u.length,l=g(u,c);for(n=0;n<c;++n)i(l[n],this,e)}return!0},s.prototype.addListener=function(t,e){return f(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return f(this,t,e,!0)},s.prototype.once=function(t,e){return c(e),this.on(t,d(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,d(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,o,i,a;if(c(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return h(this,t,!0)},s.prototype.rawListeners=function(t){return h(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):y.call(t,e)},s.prototype.listenerCount=y,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(25).Buffer)},function(t,e,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(20);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},function(t,e,n){"use strict";var r=n(28),o=n(9),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(a,i),u=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(t){c=null}t.exports=function(t){var e=s(r,a,arguments);if(u&&c){var n=u(e,"length");n.configurable&&c(e,"length",{value:1+l(0,t.length-(arguments.length-1))})}return e};var f=function(){return s(r,i,arguments)};c?c(t.exports,"apply",{value:f}):t.exports.apply=f},function(t,e,n){(function(e){var r=n(62);function o(t,n,o){t=t||function(t){this.queue(t)},n=n||function(){this.queue(null)};var i=!1,a=!1,s=[],u=!1,c=new r;function l(){for(;s.length&&!c.paused;){var t=s.shift();if(null===t)return c.emit("end");c.emit("data",t)}}function f(){c.writable=!1,n.call(c),!c.readable&&c.autoDestroy&&c.destroy()}return c.readable=c.writable=!0,c.paused=!1,c.autoDestroy=!(o&&!1===o.autoDestroy),c.write=function(e){return t.call(this,e),!c.paused},c.queue=c.push=function(t){return u||(null===t&&(u=!0),s.push(t),l()),c},c.on("end",(function(){c.readable=!1,!c.writable&&c.autoDestroy&&e.nextTick((function(){c.destroy()}))})),c.end=function(t){if(!i)return i=!0,arguments.length&&c.write(t),f(),c},c.destroy=function(){if(!a)return a=!0,i=!0,s.length=0,c.writable=c.readable=!1,c.emit("close"),c},c.pause=function(){if(!c.paused)return c.paused=!0,c},c.resume=function(){return c.paused&&(c.paused=!1,c.emit("resume")),l(),c.paused||c.emit("drain"),c},c}t.exports=o,o.through=o}).call(this,n(3))},function(t,e,n){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,o){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,o)}));default:for(i=new Array(s-1),a=0;a<i.length;)i[a++]=arguments[a];return e.nextTick((function(){t.apply(null,i)}))}}}:t.exports=e}).call(this,n(3))},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(68),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(5))},function(t,e,n){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},,function(t,e){t.exports=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},function(t,e,n){(e=t.exports=n(31)).Stream=e,e.Readable=e,e.Writable=n(26),e.Duplex=n(10),e.Transform=n(36),e.PassThrough=n(71)},function(t,e,n){var r=n(25),o=r.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a),i(o,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=o(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";(function(t){var r=n(63),o=n(64),i=n(32);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=p(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(e,n),o=(t=s(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):p(t,e);if("Buffer"===e.type&&i(e.data))return p(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|d(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function h(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return j(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,o);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,o){var i,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,p=0;p<u;p++)if(c(t,i+p)!==c(e,p)){f=!1;break}if(f)return i}return-1}function b(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function w(t,e,n,r){return W(F(e,t.length-n),t,n,r)}function _(t,e,n,r){return W(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return _(t,e,n,r)}function S(t,e,n,r){return W(G(e),t,n,r)}function E(t,e,n,r){return W(function(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)r=(n=t.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,a,s,u,c=t[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(t){var e=t.length;if(e<=k)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=k));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):y.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(i,a),c=this.slice(r,o),l=t.slice(e,n),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function j(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function P(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=C(t[i]);return o}function N(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function M(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,r,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function B(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function q(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(t,e,n,r,i){return i||q(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function L(t,e,n,r,i){return i||q(t,0,n,8),o.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var o=e-t;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},u.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||R(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||R(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):B(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);R(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);R(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):B(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return I(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return I(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=u.isBuffer(t)?t:F(new u(t,r).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function C(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(5))},function(t,e,n){"use strict";(function(e,r,o){var i=n(18);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var o=r.callback;e.pendingcb--,o(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=m;var s,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:i.nextTick;m.WritableState=v;var c=Object.create(n(14));c.inherits=n(8);var l={deprecate:n(69)},f=n(33),p=n(24).Buffer,d=o.Uint8Array||function(){};var h,y=n(34);function g(){}function v(t,e){s=s||n(10),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var o=t.highWaterMark,c=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===t.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,o=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,o){--e.pendingcb,n?(i.nextTick(o,r),i.nextTick(E,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(o(r),t._writableState.errorEmitted=!0,t.emit("error",r),E(t,e))}(t,n,r,e,o);else{var a=x(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||_(t,n),r?u(w,t,n,a,o):w(t,n,a,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function m(t){if(s=s||n(10),!(h.call(m,this)||this instanceof s))return new m(t);this._writableState=new v(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function b(t,e,n,r,o,i,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(o,e.onwrite):t._write(o,i,e.onwrite),e.sync=!1}function w(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),E(t,e)}function _(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,o=new Array(r),i=e.corkedRequestsFree;i.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,b(t,e,!0,e.length,o,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(b(t,e,!1,e.objectMode?1:c.length,c,l,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function x(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),E(t,e)}))}function E(t,e){var n=x(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}c.inherits(m,f),v.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(v.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(t){return!!h.call(this,t)||this===m&&(t&&t._writableState instanceof v)}})):h=function(t){return t instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(t,e,n){var r,o=this._writableState,a=!1,s=!o.objectMode&&(r=t,p.isBuffer(r)||r instanceof d);return s&&!p.isBuffer(t)&&(t=function(t){return p.from(t)}(t)),"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=g),o.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),i.nextTick(e,n)}(this,n):(s||function(t,e,n,r){var o=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),i.nextTick(r,a),o=!1),o}(this,o,t,n))&&(o.pendingcb++,a=function(t,e,n,r,o,i){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=p.from(e,n));return e}(e,r,o);r!==a&&(n=!0,o="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,s,r,o,i);return u}(this,o,s,t,e,n)),a},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||_(this,t))},m.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,E(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),m.prototype.destroy=y.destroy,m.prototype._undestroy=y.undestroy,m.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(3),n(19).setImmediate,n(5))},function(t,e,n){"use strict";var r=Array.prototype.slice,o=n(37),i=Object.keys,a=i?function(t){return i(t)}:n(79),s=Object.keys;a.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return o(t)?s(r.call(t)):s(t)}):Object.keys=a;return Object.keys||a},t.exports=a},function(t,e,n){"use strict";var r=n(80);t.exports=Function.prototype.bind||r},function(t,e,n){"use strict";var r=n(28);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,n){var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"==typeof o.get?o.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"==typeof u.get?u.get:null,l=s&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,y=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,m="function"==typeof BigInt?BigInt.prototype.valueOf:null,b=Object.getOwnPropertySymbols,w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,_="function"==typeof Symbol&&"object"==typeof Symbol.iterator,x=Object.prototype.propertyIsEnumerable,S=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),E=n(97).custom,A=E&&P(E)?E:null,O="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function k(t,e,n){var r="double"===(n.quoteStyle||e)?'"':"'";return r+t+r}function j(t){return String(t).replace(/"/g,"&quot;")}function T(t){return!("[object Array]"!==R(t)||O&&"object"==typeof t&&O in t)}function P(t){if(_)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!w)return!1;try{return w.call(t),!0}catch(t){}return!1}t.exports=function t(e,n,r,o){var s=n||{};if(M(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(M(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!M(s,"customInspect")||s.customInspect;if("boolean"!=typeof u)throw new TypeError('option "customInspect", if provided, must be `true` or `false`');if(M(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return B(e,s);if("number"==typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"==typeof e)return String(e)+"n";var y=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=y&&y>0&&"object"==typeof e)return T(e)?"[Array]":"[Object]";var b=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;n=Array(t.indent+1).join(" ")}return{base:n,prev:Array(e+1).join(n)}}(s,r);if(void 0===o)o=[];else if(D(o,e)>=0)return"[Circular]";function x(e,n,i){if(n&&(o=o.slice()).push(n),i){var a={depth:s.depth};return M(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),t(e,a,r+1,o)}return t(e,s,r+1,o)}if("function"==typeof e){var E=function(t){if(t.name)return t.name;var e=v.call(g.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),N=F(e,x);return"[Function"+(E?": "+E:" (anonymous)")+"]"+(N.length>0?" { "+N.join(", ")+" }":"")}if(P(e)){var q=_?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):w.call(e);return"object"!=typeof e||_?q:I(q)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var G="<"+String(e.nodeName).toLowerCase(),W=e.attributes||[],z=0;z<W.length;z++)G+=" "+W[z].name+"="+k(j(W[z].value),"double",s);return G+=">",e.childNodes&&e.childNodes.length&&(G+="..."),G+="</"+String(e.nodeName).toLowerCase()+">"}if(T(e)){if(0===e.length)return"[]";var Y=F(e,x);return b&&!function(t){for(var e=0;e<t.length;e++)if(D(t[e],"\n")>=0)return!1;return!0}(Y)?"["+C(Y,b)+"]":"[ "+Y.join(", ")+" ]"}if(function(t){return!("[object Error]"!==R(t)||O&&"object"==typeof t&&O in t)}(e)){var $=F(e,x);return 0===$.length?"["+String(e)+"]":"{ ["+String(e)+"] "+$.join(", ")+" }"}if("object"==typeof e&&u){if(A&&"function"==typeof e[A])return e[A]();if("function"==typeof e.inspect)return e.inspect()}if(function(t){if(!i||!t||"object"!=typeof t)return!1;try{i.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var X=[];return a.call(e,(function(t,n){X.push(x(n,e,!0)+" => "+x(t,e))})),U("Map",i.call(e),X,b)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{i.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var V=[];return l.call(e,(function(t){V.push(x(t,e))})),U("Set",c.call(e),V,b)}if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{p.call(t,p)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return L("WeakMap");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{p.call(t,p);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return L("WeakSet");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{return d.call(t),!0}catch(t){}return!1}(e))return L("WeakRef");if(function(t){return!("[object Number]"!==R(t)||O&&"object"==typeof t&&O in t)}(e))return I(x(Number(e)));if(function(t){if(!t||"object"!=typeof t||!m)return!1;try{return m.call(t),!0}catch(t){}return!1}(e))return I(x(m.call(e)));if(function(t){return!("[object Boolean]"!==R(t)||O&&"object"==typeof t&&O in t)}(e))return I(h.call(e));if(function(t){return!("[object String]"!==R(t)||O&&"object"==typeof t&&O in t)}(e))return I(x(String(e)));if(!function(t){return!("[object Date]"!==R(t)||O&&"object"==typeof t&&O in t)}(e)&&!function(t){return!("[object RegExp]"!==R(t)||O&&"object"==typeof t&&O in t)}(e)){var H=F(e,x),J=S?S(e)===Object.prototype:e instanceof Object||e.constructor===Object,K=e instanceof Object?"":"null prototype",Z=!J&&O&&Object(e)===e&&O in e?R(e).slice(8,-1):K?"Object":"",Q=(J||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(Z||K?"["+[].concat(Z||[],K||[]).join(": ")+"] ":"");return 0===H.length?Q+"{}":b?Q+"{"+C(H,b)+"}":Q+"{ "+H.join(", ")+" }"}return String(e)};var N=Object.prototype.hasOwnProperty||function(t){return t in this};function M(t,e){return N.call(t,e)}function R(t){return y.call(t)}function D(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function B(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return B(t.slice(0,e.maxStringLength),e)+r}return k(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,q),"single",e)}function q(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function I(t){return"Object("+t+")"}function L(t){return t+" { ? }"}function U(t,e,n,r){return t+" ("+e+") {"+(r?C(n,r):n.join(", "))+"}"}function C(t,e){if(0===t.length)return"";var n="\n"+e.prev+e.base;return n+t.join(","+n)+"\n"+e.prev}function F(t,e){var n=T(t),r=[];if(n){r.length=t.length;for(var o=0;o<t.length;o++)r[o]=M(t,o)?e(t[o],t):""}var i,a="function"==typeof b?b(t):[];if(_){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var u in t)M(t,u)&&(n&&String(Number(u))===u&&u<t.length||_&&i["$"+u]instanceof Symbol||(/[^\w$]/.test(u)?r.push(e(u,t)+": "+e(t[u],t)):r.push(u+": "+e(t[u],t))));if("function"==typeof b)for(var c=0;c<a.length;c++)x.call(t,a[c])&&r.push("["+e(a[c])+"]: "+e(t[a[c]],t));return r}},function(t,e,n){"use strict";(function(e,r){var o=n(18);t.exports=b;var i,a=n(32);b.ReadableState=m;n(13).EventEmitter;var s=function(t,e){return t.listeners(e).length},u=n(33),c=n(24).Buffer,l=e.Uint8Array||function(){};var f=Object.create(n(14));f.inherits=n(8);var p=n(65),d=void 0;d=p&&p.debuglog?p.debuglog("stream"):function(){};var h,y=n(66),g=n(34);f.inherits(b,u);var v=["error","close","destroy","pause","resume"];function m(t,e){t=t||{};var r=e instanceof(i=i||n(10));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var o=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=n(35).StringDecoder),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function b(t){if(i=i||n(10),!(this instanceof b))return new b(t);this._readableState=new m(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function w(t,e,n,r,o){var i,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,E(t)}(t,a)):(o||(i=function(t,e){var n;r=e,c.isBuffer(r)||r instanceof l||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,e)),i?t.emit("error",i):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):_(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?_(t,a,e,!1):O(t,a)):_(t,a,e,!1))):r||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function _(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&E(t)),O(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=c.from(t,e),e=""),n=!0),w(this,t,e,!1,n)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return h||(h=n(35).StringDecoder),this._readableState.decoder=new h(t),this._readableState.encoding=t,this};var x=8388608;function S(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=x?t=x:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?o.nextTick(A,t):A(t))}function A(t){d("emit readable"),t.emit("readable"),P(t)}function O(t,e){e.readingMore||(e.readingMore=!0,o.nextTick(k,t,e))}function k(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function j(t){d("readable nexttick read 0"),t.read(0)}function T(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),P(t),e.flowing&&!e.reading&&t.read(0)}function P(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function N(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,o=n.data;t-=o.length;for(;n=n.next;){var i=n.data,a=t>i.length?i.length:t;if(a===i.length?o+=i:o+=i.slice(0,t),0===(t-=a)){a===i.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=i.slice(a));break}++r}return e.length-=r,o}(t,e):function(t,e){var n=c.allocUnsafe(t),r=e.head,o=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var i=r.data,a=t>i.length?i.length:t;if(i.copy(n,n.length-t,0,a),0===(t-=a)){a===i.length?(++o,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=i.slice(a));break}++o}return e.length-=o,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function M(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,o.nextTick(R,e,t))}function R(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function D(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}b.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?M(this):E(this),null;if(0===(t=S(t,e))&&e.ended)return 0===e.length&&M(this),null;var r,o=e.needReadable;return d("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",o=!0),e.ended||e.reading?d("reading or ended",o=!1):o&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=S(n,e))),null===(r=t>0?N(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&M(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,d("pipe count=%d opts=%j",i.pipesCount,e);var u=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?l:b;function c(e,r){d("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),t.removeListener("close",v),t.removeListener("finish",m),t.removeListener("drain",f),t.removeListener("error",g),t.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",b),n.removeListener("data",y),p=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||f())}function l(){d("onend"),t.end()}i.endEmitted?o.nextTick(u):n.once("end",u),t.on("unpipe",c);var f=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,P(t))}}(n);t.on("drain",f);var p=!1;var h=!1;function y(e){d("ondata"),h=!1,!1!==t.write(e)||h||((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==D(i.pipes,t))&&!p&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,h=!0),n.pause())}function g(e){d("onerror",e),b(),t.removeListener("error",g),0===s(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",m),b()}function m(){d("onfinish"),t.removeListener("close",v),b()}function b(){d("unpipe"),n.unpipe(t)}return n.on("data",y),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",g),t.once("close",v),t.once("finish",m),t.emit("pipe",n),i.flowing||(d("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,n);return this}var a=D(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},b.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&E(this):o.nextTick(j,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,o.nextTick(T,t,e))}(this,t)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var o in t.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(o){(d("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o)||(n.objectMode||o&&o.length)&&(e.push(o)||(r=!0,t.pause()))})),t)void 0===this[o]&&"function"==typeof t[o]&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));for(var i=0;i<v.length;i++)t.on(v[i],this.emit.bind(this,v[i]));return this._read=function(e){d("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=N}).call(this,n(5),n(3))},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(13).EventEmitter},function(t,e,n){"use strict";var r=n(18);function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(o,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(o,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";var r=n(70).Buffer,o=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=l,this.end=f,e=3;break;default:return this.write=p,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=i,i.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},i.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},i.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var o=a(e[r]);if(o>=0)return o>0&&(t.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if((o=a(e[r]))>=0)return o>0&&(t.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if((o=a(e[r]))>=0)return o>0&&(2===o?o=0:t.lastNeed=o-3),o;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},i.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=a;var r=n(10),o=Object.create(n(14));function i(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);r.call(this,t),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){u(t,e,n)})):u(this,null,null)}function u(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}o.inherits=n(8),o.inherits(a,r),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e,n){"use strict";var r=Object.prototype.toString;t.exports=function(t){var e=r.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),n}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=n(4)("Object.prototype.toString"),i=function(t){return!(r&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o(t)},a=function(t){return!!i(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,t.exports=s?i:a},function(t,e,n){"use strict";var r=n(6),o=n(16),i=n(40),a=n(41),s=n(81),u=o(a(),Object);r(u,{getPolyfill:a,implementation:i,shim:s}),t.exports=u},function(t,e,n){"use strict";var r=function(t){return t!=t};t.exports=function(t,e){return 0===t&&0===e?1/t==1/e:t===e||!(!r(t)||!r(e))}},function(t,e,n){"use strict";var r=n(40);t.exports=function(){return"function"==typeof Object.is?Object.is:r}},function(t,e,n){"use strict";var r,o,i,a,s=n(4),u=n(20)()&&!!Symbol.toStringTag;if(u){r=s("Object.prototype.hasOwnProperty"),o=s("RegExp.prototype.exec"),i={};var c=function(){throw i};a={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=c)}var l=s("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor;t.exports=u?function(t){if(!t||"object"!=typeof t)return!1;var e=f(t,"lastIndex");if(!(e&&r(e,"value")))return!1;try{o(t,a)}catch(t){return t===i}}:function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===l(t)}},function(t,e,n){"use strict";var r=Object,o=TypeError;t.exports=function(){if(null!=this&&this!==r(this))throw new o("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},function(t,e,n){"use strict";var r=n(43),o=n(6).supportsDescriptors,i=Object.getOwnPropertyDescriptor,a=TypeError;t.exports=function(){if(!o)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=i(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return r}},function(t,e,n){"use strict";var r=String.prototype.valueOf,o=Object.prototype.toString,i="function"==typeof Symbol&&!!Symbol.toStringTag;t.exports=function(t){return"string"==typeof t||"object"==typeof t&&(i?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object String]"===o.call(t))}},function(t,e,n){"use strict";var r,o="function"==typeof Map&&Map.prototype?Map:null,i="function"==typeof Set&&Set.prototype?Set:null;o||(r=function(t){return!1});var a=o?Map.prototype.has:null,s=i?Set.prototype.has:null;r||a||(r=function(t){return!1}),t.exports=r||function(t){if(!t||"object"!=typeof t)return!1;try{if(a.call(t),s)try{s.call(t)}catch(t){return!0}return t instanceof o}catch(t){}return!1}},function(t,e,n){"use strict";var r,o="function"==typeof Map&&Map.prototype?Map:null,i="function"==typeof Set&&Set.prototype?Set:null;i||(r=function(t){return!1});var a=o?Map.prototype.has:null,s=i?Set.prototype.has:null;r||s||(r=function(t){return!1}),t.exports=r||function(t){if(!t||"object"!=typeof t)return!1;try{if(s.call(t),a)try{a.call(t)}catch(t){return!0}return t instanceof i}catch(t){}return!1}},function(t,e){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;t.exports=function(t,e,o){if("[object Function]"!==r.call(e))throw new TypeError("iterator must be a function");var i=t.length;if(i===+i)for(var a=0;a<i;a++)e.call(o,t[a],a,t);else for(var s in t)n.call(t,s)&&e.call(o,t[s],s,t)}},function(t,e,n){"use strict";(function(e){var r=n(99);t.exports=function(){return r(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],(function(t){return"function"==typeof e[t]}))}}).call(this,n(5))},function(t,e,n){"use strict";var r=n(9)("%Object.getOwnPropertyDescriptor%");if(r)try{r([],"length")}catch(t){r=null}t.exports=r},function(t,e,n){"use strict";var r=n(27),o=function(t){return null!=t},i=n(20)(),a=n(4),s=Object,u=a("Array.prototype.push"),c=a("Object.prototype.propertyIsEnumerable"),l=i?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(!o(t))throw new TypeError("target must be an object");var n,a,f,p,d,h,y,g=s(t);for(n=1;n<arguments.length;++n){a=s(arguments[n]),p=r(a);var v=i&&(Object.getOwnPropertySymbols||l);if(v)for(d=v(a),f=0;f<d.length;++f)y=d[f],c(a,y)&&u(p,y);for(f=0;f<p.length;++f)h=a[y=p[f]],c(a,y)&&(g[y]=h)}return g}},function(t,e,n){"use strict";var r=n(51);t.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),n={},r=0;r<e.length;++r)n[e[r]]=e[r];var o=Object.assign({},n),i="";for(var a in o)i+=a;return t!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1}()?r:Object.assign:r}},function(t,e,n){"use strict";var r=n(105),o=n(107),i=n(4)("String.prototype.replace"),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var t=o(r(this));return i(i(t,a,""),s,"")}},function(t,e,n){"use strict";var r=n(53);t.exports=function(){return String.prototype.trim&&""==="".trim()?String.prototype.trim:r}},,,,,function(t,e,n){"use strict";n.r(e);var r=n(2),o=n(0),i=n(7),a=n(60);function s(){return new o.a({nodes:[{id:"A"},{id:"B"},{id:"C"},{id:"D"},{id:"E"}],edges:[{from:"A",to:"B",name:"a, b"},{from:"C",to:"A",name:"CA"},{from:"C",to:"B",name:"CB"},{from:"C",to:"D",name:"CD"},{from:"E",to:"A",name:"EA"}],workflow:[]})}function u(){return new o.a({nodes:[{id:"A"},{id:"B"},{id:"C"},{id:"D"},{id:"E"}],edges:[{from:"A",to:"B",vars:{1:"a",2:"b"}},{from:"C",to:"A",vars:{1:"a",3:"c"}},{from:"C",to:"B",vars:{3:"c",2:"b"}},{from:"C",to:"D",vars:{3:"c",4:"d"}},{from:"E",to:"A",vars:{5:"e",1:"a"}}],workflow:[]})}a("Labelizer.strParse('') returns [{'base':'', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(r.a.strParse(""),[{base:"",sub:void 0,sup:void 0}]),t.end()})),a("Labelizer.strParse('+A') throws an error",(function(t){t.throws((function(){r.a.strParse("+")}),"should throw an error"),t.end()})),a("Labelizer.strParse('ConvCheck') returns [{'base':'ConvCheck', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(r.a.strParse("ConvCheck"),[{base:"ConvCheck",sub:void 0,sup:void 0}]),t.end()})),a("Labelizer.strParse('x') returns [{'base':'x', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(r.a.strParse("x"),[{base:"x",sub:void 0,sup:void 0}]),t.end()})),a("Labelizer.strParse('&#x03BB') returns [{'base':'&#x03BB', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(r.a.strParse("&#x03BB"),[{base:"&#x03BB",sub:void 0,sup:void 0}]),t.end()})),a("Labelizer.strParse('&#x03BB_&#x03BB^&#x03BB') returns [{'base':'&#x03BB', 'sub':'&#x03BB', 'sup':'&#x03BB'}]",(function(t){t.deepEqual(r.a.strParse("&#x03BB_&#x03BB^&#x03BB"),[{base:"&#x03BB",sub:"&#x03BB",sup:"&#x03BB"}]),t.end()})),a("Labelizer.strParse('Optimization') returns [{'base':'Optimization', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(r.a.strParse("Optimization"),[{base:"Optimization",sub:void 0,sup:void 0}]),t.end()})),a("Labelizer.strParse('x_12') returns [{'base':'x', 'sub': '12', 'sup':undefined}]",(function(t){t.deepEqual(r.a.strParse("x_12"),[{base:"x",sub:"12",sup:void 0}]),t.end()})),a("Labelizer.strParse('x_13^{(0)}') returns [{'base':'x', 'sub': '13', 'sup': '{(0)}'}]",(function(t){t.deepEqual(r.a.strParse("x_13^{(0)}"),[{base:"x",sub:"13",sup:"{(0)}"}]),t.end()})),a("Labelizer.strParse('x_13^0, y_1^{*}') returns [{'base': 'x', 'sub': '13', 'sup': '{*}'}, {'base':'y', 'sub': '1', 'sup': '*'}]",(function(t){t.deepEqual(r.a.strParse("x_13^{(0)}, y_1^{*}"),[{base:"x",sub:"13",sup:"{(0)}"},{base:"y",sub:"1",sup:"{*}"}]),t.end()})),a("Labelizer.strParse('1:Opt') returns [{'base':'1:Opt', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(r.a.strParse("1:Opt"),[{base:"1:Opt",sub:void 0,sup:void 0}]),t.end()})),a("Labelizer.strParse('1:L-BFGS-B') returns [{'base':'1:L-BFGS-B', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(r.a.strParse("1:L-BFGS-B"),[{base:"1:L-BFGS-B",sub:void 0,sup:void 0}]),t.end()})),a("Labelizer.strParse('y_12_y_34') returns [{'base':'y_12_y_34', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(r.a.strParse("y_12_y_34"),[{base:"y_12_y_34",sub:void 0,sup:void 0}]),t.end()})),a("Labelizer.strParse('y_12_y_34^*') returns [{'base':'y_12_y_34', 'sub':undefined, 'sup':'*'}]",(function(t){t.deepEqual(r.a.strParse("y_12_y_34^*"),[{base:"y_12_y_34",sub:void 0,sup:"*"}]),t.end()})),a("Graph.expand(['a']) returns [['a']]",(function(t){t.deepEqual(o.a.expand(["a"]),[["a"]]),t.end()})),a("Graph.expand([['a']]) returns [['a']]",(function(t){t.deepEqual(o.a.expand([["a"]]),[["a"]]),t.end()})),a("Graph.expand(['a', 'b']) returns [['a', 'b']]",(function(t){t.deepEqual(o.a.expand(["a","b"]),[["a","b"]]),t.end()})),a("Graph.expand([['a', 'b']]) returns [['a', 'b']]",(function(t){t.deepEqual(o.a.expand([["a","b"]]),[["a","b"]]),t.end()})),a("Graph.expand(['a', ['b']]) returns [['a', 'b', 'a']]",(function(t){t.deepEqual(o.a.expand(["a",["b"]]),[["a","b","a"]]),t.end()})),a("Graph.expand([['a'], 'b']) returns ['a', 'b']",(function(t){t.deepEqual(o.a.expand([["a"],"b"]),[["a","b"]]),t.end()})),a("Graph.expand([['a'], 'b', 'c']) returns ['a', 'b', 'c']",(function(t){t.deepEqual(o.a.expand([["a"],"b","c"]),[["a","b","c"]]),t.end()})),a("Graph.expand(['a', ['b'], 'c']) returns [['a', 'b', 'a', 'c']]",(function(t){t.deepEqual(o.a.expand(["a",["b"],"c"]),[["a","b","a","c"]]),t.end()})),a("Graph.expand(['a', [['b']], 'c']) returns [['a', 'b', 'a', 'c']]",(function(t){t.deepEqual(o.a.expand(["a",[["b"]],"c"]),[["a","b","a","c"]]),t.end()})),a("Graph.expand(['a', [['b', [d]]], 'c']) returns [['a', 'b', 'd', 'b', 'a', 'c']]",(function(t){t.deepEqual(o.a.expand(["a",[["b",["d"]]],"c"]),[["a","b","d","b","a","c"]]),t.end()})),a("Graph.expand(['a', ['b1', 'b2'], 'c']) returns [['a', 'b1', 'b2', 'a', 'c']]",(function(t){t.deepEqual(o.a.expand(["a",["b1","b2"],"c"]),[["a","b1","b2","a","c"]]),t.end()})),a("Graph.expand(['a0', ['b1', 'b2', 'b3'], 'c3']) returns [['a0', 'b1', 'b2', 'b3', 'a0', 'c3']]",(function(t){t.deepEqual(o.a.expand(["a0",["b1","b2","b3"],"c3"]),[["a0","b1","b2","b3","a0","c3"]]),t.end()})),a("Graph.expand(['opt', ['mda', ['d1', 'd2', 'd3'],'func']]) returns [['opt', 'mda', 'd1', 'd2', 'd3', 'mda','func', 'opt']]",(function(t){t.deepEqual(o.a.expand(["opt",["mda",["d1","d2","d3"],"func"]]),[["opt","mda","d1","d2","d3","mda","func","opt"]]),t.end()})),a("Graph.expand([{parallel: ['d1', 'd2']}]) returns [[d1], [d2]]",(function(t){t.deepEqual(o.a.expand([{parallel:["d1","d2"]}]),[["d1"],["d2"]]),t.end()})),a("Graph.expand([{parallel: ['d1', 'd2']}]) returns [[d1], [d2]]",(function(t){t.deepEqual(o.a.expand([{parallel:["d1","d2"]}]),[["d1"],["d2"]]),t.end()})),a("Graph.expand(['opt', {parallel: ['d1', 'd2', 'd3']}]) returns [['opt', 'd1'], ['opt', 'd2'], ['opt', 'd3']]",(function(t){t.deepEqual(o.a.expand(["opt",{parallel:["d1","d2","d3"]}]),[["opt","d1"],["opt","d2"],["opt","d3"]]),t.end()})),a("Graph.expand(['opt', [{parallel: ['d1', 'd2', 'd3']}]]) returns [['opt', 'd1', 'opt'], ['opt', 'd2', 'opt'], ['opt', 'd3', 'opt']]",(function(t){t.deepEqual(o.a.expand(["opt",[{parallel:["d1","d2","d3"]}]]),[["opt","d1","opt"],["opt","d2","opt"],["opt","d3","opt"]]),t.end()})),a("Graph.expand(['mda', {parallel: ['d1', 'd2', 'd3']}, 'd4']) returns [['mda', 'd1', 'd4'], ['mda', 'd2', 'd4'], ['mda', 'd3', 'd4']]",(function(t){t.deepEqual(o.a.expand(["mda",{parallel:["d1","d2","d3"]},"d4"]),[["mda","d1","d4"],["mda","d2","d4"],["mda","d3","d4"]]),t.end()})),a("Graph.expand(['opt', 'mda', {parallel: ['d1', 'd2', 'd3']}, 'd4']]) returns [['opt', 'mda'], ['mda', 'd1', 'd4'], ['mda', 'd2', 'd4'], ['mda', 'd3', 'd4']]",(function(t){t.deepEqual(o.a.expand(["opt","mda",{parallel:["d1","d2","d3"]},"d4"]),[["opt","mda"],["mda","d1","d4"],["mda","d2","d4"],["mda","d3","d4"]]),t.end()})),a("Graph.expand(['opt', ['mda', {parallel: ['d1', 'd2', 'd3']}, 'd4']]) returns [['opt', 'mda'], ['mda', 'd1', 'd4'], ['mda', 'd2', 'd4'], ['mda', 'd3', 'd4'], ['d4', 'opt']]",(function(t){t.deepEqual(o.a.expand(["opt",["mda",{parallel:["d1","d2","d3"]},"d4"]]),[["opt","mda"],["mda","d1","d4"],["mda","d2","d4"],["mda","d3","d4"],["d4","opt"]]),t.end()})),a("Graph.expand((['_U_', ['opt', ['mda', {parallel: ['d1', 'd2', 'd3']}, 'd4']]]) returns [['_U_', 'opt', 'mda'], ['mda', 'd1', 'd4'], ['mda', 'd2', 'd4'], ['mda', 'd3', 'd4'], ['d4', 'opt', '_U_']]",(function(t){t.deepEqual(o.a.expand(["_U_",["opt",["mda",{parallel:["d1","d2","d3"]},"d4"]]]),[["_U_","opt","mda"],["mda","d1","d4"],["mda","d2","d4"],["mda","d3","d4"],["d4","opt","_U_"]]),t.end()})),a("Graph.expand((['_U_', ['opt', ['mda', ['d1', 'd2']]]]) returns [['_U_', 'opt', 'mda', 'd1', 'd2', 'mda', 'opt', '_U_']]",(function(t){t.deepEqual(o.a.expand(["_U_",["opt",["mda",["d1","d2"]]]]),[["_U_","opt","mda","d1","d2","mda","opt","_U_"]]),t.end()})),a("Graph.expand((['_U_', ['opt', ['mda', ['d1', 'd2'], 'mda', ['d1', 'd2']]]]) returns [['_U_', 'opt', 'mda', 'd1', 'd2', 'mda', 'mda', 'd1', 'd2', 'mda', 'opt', '_U_']]",(function(t){t.deepEqual(o.a.expand(["_U_",["opt",["mda",["d1","d2"],"mda",["d1","d2"]]]]),[["_U_","opt","mda","d1","d2","mda","mda","d1","d2","mda","opt","_U_"]]),t.end()})),a("Graph.expand((['_U_', ['opt', ['mda', ['d1', 'd2'], {parallel: ['sc1', 'sc2']},'mda', ['d1', 'd2']]]]) returns [['_U_', 'opt', 'mda', 'd1', 'd2', 'mda'], ['mda', 'sc1', 'mda'], ['mda', 'sc2', 'mda'], ['mda', 'd1', 'd2', 'mda', 'opt', '_U_']]",(function(t){t.deepEqual(o.a.expand(["_U_",["opt",["mda",["d1","d2"],{parallel:["sc1","sc2"]},"mda",["d1","d2"]]]]),[["_U_","opt","mda","d1","d2","mda"],["mda","sc1","mda"],["mda","sc2","mda"],["mda","d1","d2","mda","opt","_U_"]]),t.end()})),a("Graph.expand((['d1', {parallel: ['sc1', 'sc2']}, 'd2']) returns [['d1', 'sc1', 'd2'], ['d1', 'sc2', 'd2']]",(function(t){t.deepEqual(o.a.expand(["d1",{parallel:["sc1","sc2"]},"d2"]),[["d1","sc1","d2"],["d1","sc2","d2"]]),t.end()})),a("Graph.expand((['opt', ['d1', {parallel: ['sc1', 'sc2']}]]) returns [['opt', 'd1'] ['d1', 'sc1', 'opt'], ['d1', 'sc2', 'opt']]",(function(t){t.deepEqual(o.a.expand(["opt",["d1",{parallel:["sc1","sc2"]}]]),[["opt","d1"],["d1","sc1","opt"],["d1","sc2","opt"],["opt","opt"]]),t.end()})),a("Graph.chains should expand as list of index couples",(function(t){var e=new o.a({nodes:[{id:"Opt",name:"Opt"},{id:"MDA",name:"MDA"},{id:"DA1",name:"DA1"},{id:"DA2",name:"DA2"},{id:"DA3",name:"DA3"},{id:"Func",name:"Func"}],edges:[],workflow:["Opt",["MDA",["DA1","DA2","DA3"],"Func"]]});t.deepEqual(e.chains,[[[1,2],[2,3],[3,4],[4,5],[5,2],[2,6],[6,1]]]),t.end()})),a("Graph.chains should expand as list of index couples",(function(t){var e=new o.a({nodes:[{id:"Opt",name:"Opt"},{id:"DA1",name:"DA1"},{id:"DA2",name:"DA2"},{id:"DA3",name:"DA3"},{id:"Func",name:"Func"}],edges:[],workflow:[["Opt",["DA1"],"Opt",["DA2"],"Opt",["DA3"],"Func"]]});t.deepEqual(e.chains,[[[1,2],[2,1],[1,3],[3,1],[1,4],[4,1],[1,5]]]),t.end()})),a("Graph.number(['d1']) returns {'toNum':{d1: '0'}, 'toNodes':[['d1']])",(function(t){t.deepEqual(o.a.number(["d1"]),{toNum:{d1:"0"},toNode:[["d1"]]}),t.equal(o.a.number(["d1"]).toNode.length,1),t.end()})),a("Graph.number(['d1', 'd1']) returns {'toNum':{d1: '0,1'}, 'toNodes':[['d1'],['d1']]})",(function(t){t.deepEqual(o.a.number(["d1","d1"]),{toNum:{d1:"0,1"},toNode:[["d1"],["d1"]]}),t.end()})),a("Graph.number(['mda', 'd1']) returns {'toNum':{mda:'0', d1: '1'}, 'toNode':[['mda'], ['d1']]})",(function(t){t.deepEqual(o.a.number(["mda","d1"]),{toNum:{mda:"0",d1:"1"},toNode:[["mda"],["d1"]]}),t.end()})),a("Graph.number(['mda', 'd1', 'd2', 'd3']) returns {mda: '0', d1: '1', d2: '2', d3: '3'})",(function(t){t.deepEqual(o.a.number(["mda","d1","d2","d3"]).toNum,{mda:"0",d1:"1",d2:"2",d3:"3"}),t.end()})),a("Graph.number(['mda', ['d1', 'd2', 'd3']]) returns {mda: '0,4-1', d1: '1', d2: '2', d3: '3'} )",(function(t){t.deepEqual(o.a.number(["mda",["d1","d2","d3"]]).toNum,{mda:"0,4-1",d1:"1",d2:"2",d3:"3"}),t.end()})),a("Graph.number(['mda', {parallel:['d1', 'd2', 'd3']}]) returns {'mda': '0', 'd1': '1', 'd2': '1', 'd3': '1'})",(function(t){t.deepEqual(o.a.number(["mda",{parallel:["d1","d2","d3"]}]).toNum,{mda:"0",d1:"1",d2:"1",d3:"1"}),t.end()})),a("Graph.number(['mda', [{parallel:['d1', 'd2', 'd3']}]]) returns {'toNum':{'mda': '0,2-1', 'd1': '1', 'd2': '1', 'd3': '1'}, 'toNode':[['mda'], ['d1','d2','d3']]})",(function(t){t.deepEqual(o.a.number(["mda",[{parallel:["d1","d2","d3"]}]]).toNum,{mda:"0,2-1",d1:"1",d2:"1",d3:"1"}),t.deepEqual(o.a.number(["mda",[{parallel:["d1","d2","d3"]}]]).toNode,[["mda"],["d1","d2","d3"],["mda"]]),t.end()})),a("Graph.number(['opt', 'mda', ['d1', 'd2', 'd3']]) returns {'opt': '0', 'mda': '1,5-2', 'd1': '2', 'd2': '3', 'd3': '4'})",(function(t){t.deepEqual(o.a.number(["opt","mda",["d1","d2","d3"]]).toNum,{opt:"0",mda:"1,5-2",d1:"2",d2:"3",d3:"4"}),t.end()})),a("Graph.number([['opt', ['mda', ['d1', 'd2', 'd3']]], 'd4']) returns {'opt': '0,6-1', 'mda': '1,5-2', 'd1': '2', 'd2': '3', 'd3': '4', 'd4': '7'})",(function(t){t.deepEqual(o.a.number([["opt",["mda",["d1","d2","d3"]]],"d4"]).toNum,{opt:"0,6-1",mda:"1,5-2",d1:"2",d2:"3",d3:"4",d4:"7"}),t.end()})),a("Graph.number([['Opt', ['mda', ['d1'], 's1']]]) returns {'Opt': '0,5-1', 'mda': '1,3-2', 'd1': '2', 's1': '4'})",(function(t){t.deepEqual(o.a.number([["Opt",["mda",["d1"],"s1"]]]).toNum,{Opt:"0,5-1",mda:"1,3-2",d1:"2",s1:"4"}),t.end()})),a("Graph.findEdgesOf(nodeIdx) returns edges to remove and edges to delete in case of node removal",(function(t){var e=s();t.deepEqual(e.findEdgesOf(1),{toRemove:[e.edges[0],e.edges[1],e.edges[4]],toShift:[e.edges[2],e.edges[3]]}),t.deepEqual(e.findEdgesOf(3),{toRemove:[e.edges[1],e.edges[2],e.edges[3]],toShift:[e.edges[4]]}),t.deepEqual(e.findEdgesOf(4),{toRemove:[e.edges[3]],toShift:[e.edges[4]]}),t.end()})),a("Graph.addNode()",(function(t){var e=s();t.equal(e.nodes.length,6),e.addNode({id:"F",name:"F",kind:"function"}),t.equal(e.nodes.length,7),t.end()})),a("Graph.removeNode()",(function(t){var e=s();t.equal(e.nodes.length,6),e.removeNode(4),t.equal(e.nodes.length,5),t.end()})),a("Graph.getNode()",(function(t){var e=s();t.equal(e.getNode("A"),e.nodes[1]),t.equal(e.getNode("E"),e.nodes[5]),t.end()})),a("Graph.idxOf()",(function(t){var e=s();t.equal(e.idxOf("B"),2),t.equal(e.idxOf("E"),5),t.end()})),a("Graph constructor should create a graph without edges or workflow input data)",(function(t){var e=new o.a({nodes:[{id:"A"},{id:"B"}]});t.deepEqual(e.edges,[]),t.deepEqual(e.chains,[]),t.end()})),a("Graph nodes have a status UNKNOWN by default",(function(t){var e=new o.a({nodes:[{id:"A"},{id:"B"}]});t.deepEqual(e.getNode("A").status,o.a.NODE_STATUS.UNKNOWN),t.end()})),a("Graph nodes can be to a given status PENDING, RUNNING, DONE or FAILED",(function(t){var e=new o.a({nodes:[{id:"A",status:"PENDING"},{id:"B",status:"RUNNING"},{id:"C",status:"DONE"},{id:"D",status:"FAILED"}]});t.deepEqual(e.getNode("A").status,o.a.NODE_STATUS.PENDING),t.deepEqual(e.getNode("B").status,o.a.NODE_STATUS.RUNNING),t.deepEqual(e.getNode("C").status,o.a.NODE_STATUS.DONE),t.deepEqual(e.getNode("D").status,o.a.NODE_STATUS.FAILED),t.end()})),a("Graph throws an error if a node status string not known",(function(t){t.throws((function(){new o.a({nodes:[{id:"A",status:"BADSTATUS"}]})}),"should throw an error"),t.end()})),a("Graph edge can have vars infos id/names from name",(function(t){var e=s().findEdge("A","B");t.deepEqual(e.element.vars,{0:"a",1:"b"}),t.end()})),a("Graph edge can have vars infos id/names",(function(t){var e=u();t.equal(e.getNode("E"),e.nodes[5]);var n=e.findEdge("C","D").element;t.equal(n.vars[3],"c"),t.equal(n.vars[4],"d"),t.deepEqual(n.vars,{3:"c",4:"d"}),t.equal(n.name,"c, d"),t.end()})),a("Graph add new var between two given nodes not linked",(function(t){var e=u();e.addEdgeVar("A","D",{4:"d"});var n=e.findEdge("A","D").element;t.equal(n.vars[4],"d"),t.deepEqual(n.vars,{4:"d"}),t.equal(n.name,"d"),t.end()})),a("Graph a var should appear once even if added twice",(function(t){var e=u();e.addEdgeVar("A","D",{4:"d"}),e.addEdgeVar("A","D",{4:"d"});var n=e.findEdge("A","D").element;t.equal(n.name,"d"),e.removeEdge("A","D");e.findEdge("A","D").index;t.equal(n.index,void 0),t.end()})),a("Graph add new var between two given nodes already linked",(function(t){var e=u();e.addEdgeVar("A","B",{4:"d"});var n=e.findEdge("A","B").element;t.deepEqual(n.vars,{1:"a",2:"b",4:"d"}),t.equal(n.name,"a, b, d"),t.end()})),a("Remove var of an edge",(function(t){var e=u().findEdge("A","B").element;e.removeVar("b"),t.equal(e.name,"a"),t.end()})),a("Remove edge between two given nodes",(function(t){var e=u(),n=e.findEdge("E","A").element;t.notEqual(n,void 0),e.removeEdge("E","A"),n=e.findEdge("E","A").element,t.equal(n,void 0),t.end()})),a("Remove edge one var between two given nodes",(function(t){var e=u(),n=e.findEdge("E","A").element;t.notEqual(n,void 0),e.removeEdgeVar("E","A","e"),n=e.findEdge("E","A").element,t.deepEqual(n.vars,{1:"a"}),t.end()})),a("Remove edge all vars between two given nodes",(function(t){var e=u(),n=e.findEdge("E","A").element;t.notEqual(n,void 0),e.removeEdgeVar("E","A","e"),e.removeEdgeVar("E","A","a"),n=e.findEdge("E","A").element,t.equal(n,void 0),t.end()})),a("find XDSMs order list",(function(t){t.deepEqual(i.a._orderedList({C:{nodes:[]},B:{nodes:[]},root:{nodes:[{name:"a",subxdsm:"A"}]},A:{nodes:[{name:"c",subxdsm:"C"},{name:"b",subxdsm:"B"}]}},"root"),["root","A","C","B"]),t.end()})),a("find XDSMs list of single",(function(t){t.deepEqual(i.a._orderedList({root:{nodes:[{name:"a",subxdsm:"A"}]},A:{nodes:[{name:"c"},{name:"b"}]}}),["root","A"]),t.end()})),a("find XDSMs list of empty xdsms",(function(t){t.deepEqual(i.a._orderedList({root:{nodes:[]}}),["root"]),t.end()}))},function(t,e,n){"use strict";(function(r){var o=n(22),i=n(61),a=n(77),s=n(111),u=n(17),c=void 0!==r&&r&&"function"==typeof r.on&&!0!==r.browser,l=void 0!==r&&r&&"function"==typeof r.exit;function f(t){t||(t={});var e=s();!1!==t.autoclose&&e.once("done",(function(){e.close()}));var n=function(t,r,o){var i=new a(t,r,o);return n._tests.push(i),function t(e){e.on("test",(function(e){t(e)})),e.on("result",(function(t){t.todo||t.ok||"string"==typeof t||(n._exitCode=1)}))}(i),e.push(i),i};n._results=e,n._tests=[],n.createStream=function(t){return e.createStream(t)},n.onFinish=function(t){e.on("done",t)},n.onFailure=function(t){e.on("fail",t)};var r=!1;return n.only=function(){if(r)throw new Error("there can only be one only test");r=!0;var t=n.apply(null,arguments);return e.only(t),t},n._exitCode=0,n.close=function(){e.close()},n}(e=t.exports=function(){var t,e=function(){return n().apply(this,arguments)};return e.only=function(){return n().only.apply(this,arguments)},e.createStream=function(e){if(e||(e={}),!t){var r=u();return n({stream:r,objectMode:e.objectMode}),r}return t.createStream(e)},e.onFinish=function(){return n().onFinish.apply(this,arguments)},e.onFailure=function(){return n().onFailure.apply(this,arguments)},e.getHarness=n,e;function n(e){return e||(e={}),e.autoclose=!c,t||(t=function(t){t||(t={});var e=f({autoclose:o(t.autoclose,!1)}),n=e.createStream({objectMode:t.objectMode}),a=n.pipe(t.stream||i());c&&a.on("error",(function(t){e._exitCode=1}));var s=!1;return n.on("end",(function(){s=!0})),!1===t.exit?e:c&&l?(r.on("exit",(function(t){if("number"!=typeof t||0===t){if(!s)for(var n=e._results._only,o=0;o<e._tests.length;o++){var i=e._tests[o];n&&i!==n||i._exit()}e.close(),r.removeAllListeners("exit"),r.exit(t||e._exitCode)}})),e):e}(e)),t}}()).createHarness=f,e.Test=a,e.test=e,e.test.skip=a.skip}).call(this,n(3))},function(t,e,n){"use strict";(function(e){var r=n(17),o=n(76);t.exports=function(){var t="",n=r((function(e){for(var n=0;n<e.length;n++){var r="string"==typeof e?e.charAt(n):String.fromCharCode(e[n]);"\n"===r?i():t+=r}}),i);return n;function i(){if(o.writeSync&&/^win/.test(e.platform))try{o.writeSync(1,t+"\n")}catch(t){n.emit("error",t)}else try{console.log(t)}catch(t){n.emit("error",t)}t=""}}}).call(this,n(3))},function(t,e,n){t.exports=o;var r=n(13).EventEmitter;function o(){r.call(this)}n(8)(o,r),o.Readable=n(23),o.Writable=n(72),o.Duplex=n(73),o.Transform=n(74),o.PassThrough=n(75),o.Stream=o,o.prototype.pipe=function(t,e){var n=this;function o(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",o),t.on("drain",i),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(l(),0===r.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",o),t.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",c),t.on("error",c),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),a=r[0],s=r[1],u=new i(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=o[t.charCodeAt(n)]<<18|o[t.charCodeAt(n+1)]<<12|o[t.charCodeAt(n+2)]<<6|o[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===s&&(e=o[t.charCodeAt(n)]<<2|o[t.charCodeAt(n+1)]>>4,u[l++]=255&e);1===s&&(e=o[t.charCodeAt(n)]<<10|o[t.charCodeAt(n+1)]<<4|o[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=16383,s=0,u=n-o;s<u;s+=a)i.push(l(t,s,s+a>u?u:s+a));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var o,i,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,p=n?-1:1,d=t[e+f];for(f+=p,i=d&(1<<-l)-1,d>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=p,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=p,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),i-=c}return(d?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+d]=255&s,d+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+d]=255&a,d+=h,a/=256,c-=8);t[n+d-h]|=128*y}},function(t,e){},function(t,e,n){"use strict";var r=n(24).Buffer,o=n(67);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,o,i=r.allocUnsafe(t>>>0),a=this.head,s=0;a;)e=a.data,n=i,o=s,e.copy(n,o),s+=a.data.length,a=a.next;return i},t}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,a,s,u=1,c={},l=!1,f=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){h(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){h(t.data)},r=function(t){i.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(h,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&h(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return c[u]=o,r(u),u++},p.clearImmediate=d}function d(t){delete c[t]}function h(t){if(l)setTimeout(h,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{d(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(5),n(3))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(5))},function(t,e,n){var r=n(25),o=r.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a),a.prototype=Object.create(o.prototype),i(o,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=o(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";t.exports=i;var r=n(36),o=Object.create(n(14));function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}o.inherits=n(8),o.inherits(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(26)},function(t,e,n){t.exports=n(10)},function(t,e,n){t.exports=n(23).Transform},function(t,e,n){t.exports=n(23).PassThrough},function(t,e){},function(t,e,n){"use strict";(function(e,r,o){var i=n(78),a=n(22),s=n(103),u=n(8),c=n(13).EventEmitter,l=n(29),f=n(42),p=n(104),d=n(4),h=n(109),y=n(30),g=n(39),v=d("Object.prototype.propertyIsEnumerable"),m=d("String.prototype.toLowerCase"),b=d("Object.prototype.isPrototypeOf"),w=d("RegExp.prototype.test"),_=d("Object.prototype.toString"),x=d("String.prototype.split"),S=d("String.prototype.replace"),E=d("String.prototype.slice"),A=d("Array.prototype.push"),O=d("Array.prototype.shift");t.exports=N;var k=void 0!==e?e:r.nextTick,j=setTimeout,T=clearTimeout;u(N,c);var P=function(t,e,n){for(var r,o="(anonymous)",i={},a=0;a<arguments.length;a++){var s=arguments[a],u=typeof s;"string"===u?o=s:"object"===u?i=s||i:"function"===u&&(r=s)}return{name:o,opts:i,cb:r}};function N(t,e,n){if(!(this instanceof N))return new N(t,e,n);var o=P(t,e,n);this.readable=!0,this.name=o.name||"(anonymous)",this.assertCount=0,this.pendingCount=0,this._skip=o.opts.skip||!1,this._todo=o.opts.todo||!1,this._timeout=o.opts.timeout,this._plan=void 0,this._cb=o.cb,this._progeny=[],this._teardown=[],this._ok=!0;var i=r.env.NODE_TAPE_OBJECT_PRINT_DEPTH;for(var a in o.opts.objectPrintDepth?this._objectPrintDepth=o.opts.objectPrintDepth:i?"infinity"===m(i)?this._objectPrintDepth=1/0:this._objectPrintDepth=i:this._objectPrintDepth=5,this)this[a]=function(t,e){return"function"==typeof e?function(){return e.apply(t,arguments)}:e}(this,this[a])}N.prototype.run=function(){if(this.emit("prerun"),!this._cb||this._skip)return this._end();null!=this._timeout&&this.timeoutAfter(this._timeout);var t=this._cb(this);if("function"==typeof Promise&&t&&"function"==typeof t.then){var e=this;Promise.resolve(t).then((function(){e.calledEnd||e.end()})).catch((function(t){t instanceof Error||"[object Error]"===_(t)?e.ifError(t):e.fail(t),e.end()}))}else this.emit("run")},N.prototype.test=function(t,e,n){var r=this,o=new N(t,e,n);A(this._progeny,o),this.pendingCount++,this.emit("test",o),o.on("prerun",(function(){r.assertCount++})),r._pendingAsserts()||k((function(){r._end()})),k((function(){r._plan||r.pendingCount!=r._progeny.length||r._end()}))},N.prototype.comment=function(t){var e=this;h(x(p(t),"\n"),(function(t){e.emit("result",S(p(t),/^#\s*/,""))}))},N.prototype.plan=function(t){this._plan=t,this.emit("plan",t)},N.prototype.timeoutAfter=function(t){if(!t)throw new Error("timeoutAfter requires a timespan");var e=this,n=j((function(){e.fail(e.name+" timed out after "+t+"ms"),e.end()}),t);this.once("end",(function(){T(n)}))},N.prototype.end=function(t){arguments.length>=1&&t&&this.ifError(t),this.calledEnd&&this.fail(".end() already called"),this.calledEnd=!0,this._end()},N.prototype.teardown=function(t){"function"!=typeof t?this.fail("teardown: "+y(t)+" is not a function"):this._teardown.push(t)},N.prototype._end=function(t){var e=this;if(this._cb||this._todo||this._skip||this.fail("# TODO "+this.name),this._progeny.length){var n=O(this._progeny);return n.on("end",(function(){e._end()})),void n.run()}!function n(){if(0!==e._teardown.length){var r,o=e._teardown.shift();try{r=o()}catch(t){e.fail(t)}r&&"function"==typeof r.then?r.then(n,(function(e){t=t||e})):n()}else!function(){e.ended||e.emit("end");var t=e._pendingAsserts();!e._planError&&void 0!==e._plan&&t&&(e._planError=!0,e.fail("plan != count",{expected:e._plan,actual:e.assertCount}));e.ended=!0}()}()},N.prototype._exit=function(){void 0===this._plan||this._planError||this.assertCount===this._plan?this.ended||this.fail("test exited without ending: "+this.name,{exiting:!0}):(this._planError=!0,this.fail("plan != count",{expected:this._plan,actual:this.assertCount,exiting:!0}))},N.prototype._pendingAsserts=function(){return void 0===this._plan?1:this._plan-(this._progeny.length+this.assertCount)},N.prototype._assert=function(t,e){var n=this,i=e.extra||{};t=!!t||!!i.skip;var u=a(i.message,e.message,"(unnamed assert)");if(this.calledEnd&&"fail"!==e.operator)this.fail(".end() already called: "+u);else{var c={id:n.assertCount++,ok:t,skip:a(i.skip,e.skip),todo:a(i.todo,e.todo,n._todo),name:u,operator:a(i.operator,e.operator),objectPrintDepth:n._objectPrintDepth};if((l(e,"actual")||l(i,"actual"))&&(c.actual=a(i.actual,e.actual)),(l(e,"expected")||l(i,"expected"))&&(c.expected=a(i.expected,e.expected)),this._ok=!(!this._ok||!t),t||c.todo||(c.error=a(i.error,e.error,new Error(c.name))),!t)for(var f=new Error("exception"),p=x(f.stack||"","\n"),d=o+s.sep,h=0;h<p.length;h++){var y=S(S(p[h],r.cwd(),"/$CWD"),o,"/$TEST"),g=/^(?:[^\s]*\s*\bat\s+)(?:(.*)\s+\()?((?:\/|[a-zA-Z]:\\)[^:)]+:(\d+)(?::(\d+))?)\)?$/.exec(y);if(g){var v=g[1]||"<anonymous>",m=S(S(g[2],"/$CWD",r.cwd()),"/$TEST",o);if(E(m,0,d.length)!==d){c.functionName=x(v,/\s+/)[0],c.file=m,c.line=Number(g[3]),g[4]&&(c.column=Number(g[4])),c.at=v+" ("+m+")";break}}}n.emit("result",c);var b=n._pendingAsserts();b||(i.exiting?n._end():k((function(){n._end()}))),!n._planError&&b<0&&(n._planError=!0,n.fail("plan != count",{expected:n._plan,actual:n._plan-b}))}},N.prototype.fail=function(t,e){this._assert(!1,{message:t,operator:"fail",extra:e})},N.prototype.pass=function(t,e){this._assert(!0,{message:t,operator:"pass",extra:e})},N.prototype.skip=function(t,e){this._assert(!0,{message:t,operator:"skip",skip:!0,extra:e})},N.prototype.ok=N.prototype.true=N.prototype.assert=function(t,e,n){this._assert(t,{message:a(e,"should be truthy"),operator:"ok",expected:!0,actual:t,extra:n})},N.prototype.notOk=N.prototype.false=N.prototype.notok=function(t,e,n){this._assert(!t,{message:a(e,"should be falsy"),operator:"notOk",expected:!1,actual:t,extra:n})},N.prototype.error=N.prototype.ifError=N.prototype.ifErr=N.prototype.iferror=function(t,e,n){this._assert(!t,{message:a(e,String(t)),operator:"error",error:t,extra:n})},N.prototype.equal=N.prototype.equals=N.prototype.isEqual=N.prototype.strictEqual=N.prototype.strictEquals=N.prototype.is=function(t,e,n,r){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(g(t,e),{message:a(n,"should be strictly equal"),operator:"equal",actual:t,expected:e,extra:r})},N.prototype.notEqual=N.prototype.notEquals=N.prototype.isNotEqual=N.prototype.doesNotEqual=N.prototype.isInequal=N.prototype.notStrictEqual=N.prototype.notStrictEquals=N.prototype.isNot=N.prototype.not=function(t,e,n,r){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(!g(t,e),{message:a(n,"should not be strictly equal"),operator:"notEqual",actual:t,expected:e,extra:r})},N.prototype.looseEqual=N.prototype.looseEquals=function(t,e,n,r){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(t==e,{message:a(n,"should be loosely equal"),operator:"looseEqual",actual:t,expected:e,extra:r})},N.prototype.notLooseEqual=N.prototype.notLooseEquals=function(t,e,n,r){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(t!=e,{message:a(n,"should not be loosely equal"),operator:"notLooseEqual",actual:t,expected:e,extra:r})},N.prototype.deepEqual=N.prototype.deepEquals=N.prototype.isEquivalent=N.prototype.same=function(t,e,n,r){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(i(t,e,{strict:!0}),{message:a(n,"should be deeply equivalent"),operator:"deepEqual",actual:t,expected:e,extra:r})},N.prototype.notDeepEqual=N.prototype.notDeepEquals=N.prototype.notEquivalent=N.prototype.notDeeply=N.prototype.notSame=N.prototype.isNotDeepEqual=N.prototype.isNotDeeply=N.prototype.isNotEquivalent=N.prototype.isInequivalent=function(t,e,n,r){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(!i(t,e,{strict:!0}),{message:a(n,"should not be deeply equivalent"),operator:"notDeepEqual",actual:t,expected:e,extra:r})},N.prototype.deepLooseEqual=function(t,e,n,r){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(i(t,e),{message:a(n,"should be loosely deeply equivalent"),operator:"deepLooseEqual",actual:t,expected:e,extra:r})},N.prototype.notDeepLooseEqual=function(t,e,n,r){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(!i(t,e),{message:a(n,"should not be loosely deeply equivalent"),operator:"notDeepLooseEqual",actual:t,expected:e,extra:r})},N.prototype.throws=function(t,e,n,r){"string"==typeof e&&(n=e,e=void 0);var o=void 0;try{t()}catch(t){if(o={error:t},!(Object(t)!==t||v(t,"message")&&l(t,"message"))){var s=t.message;delete t.message,t.message=s}}var u=o;if(o){if("string"==typeof e&&o.error&&o.error.message===e)throw new TypeError('The "error/message" argument is ambiguous. The error message '+y(e)+" is identical to the message.");if("function"==typeof e)u=void 0!==e.prototype&&o.error instanceof e||!b(Error,e)&&!0===e.call({},o.error);else if(f(e))u=e.test(o.error),e=y(e);else if(e&&"object"==typeof e){var c=Object.keys(e);if(e instanceof Error)A(c,"name","message");else if(0===c.length)throw new TypeError("`throws` validation object must not be empty");u=c.every((function(t){return!("string"!=typeof o.error[t]||!f(e[t])||!w(e[t],o.error[t]))||!(!(t in o.error)||!i(o.error[t],e[t],{strict:!0}))}))}}this._assert(!!u,{message:a(n,"should throw"),operator:"throws",actual:o&&o.error,expected:e,error:!u&&o&&o.error,extra:r})},N.prototype.doesNotThrow=function(t,e,n,r){"string"==typeof e&&(n=e,e=void 0);var o=void 0;try{t()}catch(t){o={error:t}}this._assert(!o,{message:a(n,"should not throw"),operator:"throws",actual:o&&o.error,expected:e,error:o&&o.error,extra:r})},N.prototype.match=function(t,e,n,r){if(!f(e))throw new TypeError('The "regexp" argument must be an instance of RegExp. Received type '+typeof e+" ("+y(e)+")");if("string"!=typeof t)throw new TypeError('The "string" argument must be of type string. Received type '+typeof t+" ("+y(t)+")");var o=w(e,t),i=a(n,"The input "+(o?"matched":"did not match")+" the regular expression "+y(e)+". Input: "+y(t));this._assert(o,{message:i,operator:"match",actual:t,expected:e,extra:r})},N.prototype.doesNotMatch=function(t,e,n,r){if(!f(e))throw new TypeError('The "regexp" argument must be an instance of RegExp. Received type '+typeof e+" ("+y(e)+")");if("string"!=typeof t)throw new TypeError('The "string" argument must be of type string. Received type '+typeof t+" ("+y(t)+")");var o=w(e,t),i=a(n,"The input "+(o?"was expected to not match":"did not match")+" the regular expression "+y(e)+". Input: "+y(t));this._assert(!o,{message:i,operator:"doesNotMatch",actual:t,expected:e,extra:r})},N.skip=function(t,e,n){var r=P.apply(null,arguments);return r.opts.skip=!0,N(r.name,r.opts,r.cb)}}).call(this,n(19).setImmediate,n(3),"/")},function(t,e,n){"use strict";var r=n(27),o=n(38),i=n(39),a=n(42),s=n(82),u=n(84),c=n(85),l=n(86),f=n(9),p=n(4),d=n(91),h=n(94),y=n(96),g=n(98),v=n(101),m=p("Date.prototype.getTime"),b=Object.getPrototypeOf,w=p("Object.prototype.toString"),_=f("%Set%",!0),x=p("Map.prototype.has",!0),S=p("Map.prototype.get",!0),E=p("Map.prototype.size",!0),A=p("Set.prototype.add",!0),O=p("Set.prototype.delete",!0),k=p("Set.prototype.has",!0),j=p("Set.prototype.size",!0);function T(t,e,n,r){for(var o,i=h(t);(o=i.next())&&!o.done;)if(D(e,o.value,n,r))return O(t,o.value),!0;return!1}function P(t){return void 0===t?null:"object"!=typeof t?"symbol"!=typeof t&&("string"!=typeof t&&"number"!=typeof t||+t==+t):void 0}function N(t,e,n,r,o,i){var a=P(n);if(null!=a)return a;var s=S(e,a),u=v({},o,{strict:!1});return!(void 0===s&&!x(e,a)||!D(r,s,u,i))&&(!x(t,a)&&D(r,s,u,i))}function M(t,e,n){var r=P(n);return null!=r?r:k(e,r)&&!k(t,r)}function R(t,e,n,r,o,i){for(var a,s,u=h(t);(a=u.next())&&!a.done;)if(D(n,s=a.value,o,i)&&D(r,S(e,s),o,i))return O(t,s),!0;return!1}function D(t,e,n,f){var p=n||{};if(p.strict?i(t,e):t===e)return!0;if(l(t)!==l(e))return!1;if(!t||!e||"object"!=typeof t&&"object"!=typeof e)return p.strict?i(t,e):t==e;var y,O=f.has(t),P=f.has(e);if(O&&P){if(f.get(t)===f.get(e))return!0}else y={};return O||f.set(t,y),P||f.set(e,y),function(t,e,n,i){var l,f;if(typeof t!=typeof e)return!1;if(null==t||null==e)return!1;if(w(t)!==w(e))return!1;if(o(t)!==o(e))return!1;var p=u(t),y=u(e);if(p!==y)return!1;var O=t instanceof Error,P=e instanceof Error;if(O!==P)return!1;if((O||P)&&(t.name!==e.name||t.message!==e.message))return!1;var q=a(t),I=a(e);if(q!==I)return!1;if((q||I)&&(t.source!==e.source||s(t)!==s(e)))return!1;var L=c(t),U=c(e);if(L!==U)return!1;if((L||U)&&m(t)!==m(e))return!1;if(n.strict&&b&&b(t)!==b(e))return!1;if(g(t)!==g(e))return!1;var C=B(t),F=B(e);if(C!==F)return!1;if(C||F){if(t.length!==e.length)return!1;for(l=0;l<t.length;l++)if(t[l]!==e[l])return!1;return!0}if(typeof t!=typeof e)return!1;var G=r(t),W=r(e);if(G.length!==W.length)return!1;for(G.sort(),W.sort(),l=G.length-1;l>=0;l--)if(G[l]!=W[l])return!1;for(l=G.length-1;l>=0;l--)if(!D(t[f=G[l]],e[f],n,i))return!1;var z=d(t),Y=d(e);if(z!==Y)return!1;if("Set"===z||"Set"===Y)return function(t,e,n,r){if(j(t)!==j(e))return!1;var o,i,a,s=h(t),u=h(e);for(;(o=s.next())&&!o.done;)if(o.value&&"object"==typeof o.value)a||(a=new _),A(a,o.value);else if(!k(e,o.value)){if(n.strict)return!1;if(!M(t,e,o.value))return!1;a||(a=new _),A(a,o.value)}if(a){for(;(i=u.next())&&!i.done;)if(i.value&&"object"==typeof i.value){if(!T(a,i.value,n.strict,r))return!1}else if(!n.strict&&!k(t,i.value)&&!T(a,i.value,n.strict,r))return!1;return 0===j(a)}return!0}(t,e,n,i);if("Map"===z)return function(t,e,n,r){if(E(t)!==E(e))return!1;var o,i,a,s,u,c,l=h(t),f=h(e);for(;(o=l.next())&&!o.done;)if(s=o.value[0],u=o.value[1],s&&"object"==typeof s)a||(a=new _),A(a,s);else if(void 0===(c=S(e,s))&&!x(e,s)||!D(u,c,n,r)){if(n.strict)return!1;if(!N(t,e,s,u,n,r))return!1;a||(a=new _),A(a,s)}if(a){for(;(i=f.next())&&!i.done;)if(s=i.value[0],c=i.value[1],s&&"object"==typeof s){if(!R(a,t,s,c,n,r))return!1}else if(!(n.strict||t.has(s)&&D(S(t,s),c,n,r)||R(a,t,s,c,v({},n,{strict:!1}),r)))return!1;return 0===j(a)}return!0}(t,e,n,i);return!0}(t,e,p,f)}function B(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&(!(t.length>0&&"number"!=typeof t[0])&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))))}t.exports=function(t,e,n){return D(t,e,n,y())}},function(t,e,n){"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(37),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{f(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===i.call(t),r=a(t),s=e&&"[object String]"===i.call(t),p=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=c&&n;if(s&&t.length>0&&!o.call(t,0))for(var y=0;y<t.length;++y)p.push(String(y));if(r&&t.length>0)for(var g=0;g<t.length;++g)p.push(String(g));else for(var v in t)h&&"prototype"===v||!o.call(t,v)||p.push(String(v));if(u)for(var m=function(t){if("undefined"==typeof window||!d)return f(t);try{return f(t)}catch(t){return!1}}(t),b=0;b<l.length;++b)m&&"constructor"===l[b]||!o.call(t,l[b])||p.push(l[b]);return p}}t.exports=r},function(t,e,n){"use strict";var r="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString,a="[object Function]";t.exports=function(t){var e=this;if("function"!=typeof e||i.call(e)!==a)throw new TypeError(r+e);for(var n,s=o.call(arguments,1),u=function(){if(this instanceof n){var r=e.apply(this,s.concat(o.call(arguments)));return Object(r)===r?r:this}return e.apply(t,s.concat(o.call(arguments)))},c=Math.max(0,e.length-s.length),l=[],f=0;f<c;f++)l.push("$"+f);if(n=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),e.prototype){var p=function(){};p.prototype=e.prototype,n.prototype=new p,p.prototype=null}return n}},function(t,e,n){"use strict";var r=n(41),o=n(6);t.exports=function(){var t=r();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},function(t,e,n){"use strict";var r=n(6),o=n(16),i=n(43),a=n(44),s=n(83),u=o(i);r(u,{getPolyfill:a,implementation:i,shim:s}),t.exports=u},function(t,e,n){"use strict";var r=n(6).supportsDescriptors,o=n(44),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,c=/a/;t.exports=function(){if(!r||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=u(c),n=i(e,"flags");return n&&n.get===t||a(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var r=Date.prototype.getDay,o=Object.prototype.toString,i="function"==typeof Symbol&&!!Symbol.toStringTag;t.exports=function(t){return"object"==typeof t&&null!==t&&(i?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object Date]"===o.call(t))}},function(t,e,n){"use strict";var r=n(45),o=n(87),i=n(88),a=n(89),s=n(90);t.exports=function(t){return null==t||"object"!=typeof t&&"function"!=typeof t?null:r(t)?"String":o(t)?"Number":i(t)?"Boolean":a(t)?"Symbol":s(t)?"BigInt":void 0}},function(t,e,n){"use strict";var r=Number.prototype.toString,o=Object.prototype.toString,i="function"==typeof Symbol&&!!Symbol.toStringTag;t.exports=function(t){return"number"==typeof t||"object"==typeof t&&(i?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object Number]"===o.call(t))}},function(t,e,n){"use strict";var r=n(4),o=r("Boolean.prototype.toString"),i=r("Object.prototype.toString"),a="function"==typeof Symbol&&!!Symbol.toStringTag;t.exports=function(t){return"boolean"==typeof t||null!==t&&"object"==typeof t&&(a&&Symbol.toStringTag in t?function(t){try{return o(t),!0}catch(t){return!1}}(t):"[object Boolean]"===i(t))}},function(t,e,n){"use strict";var r=Object.prototype.toString;if(n(15)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;t.exports=function(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==r.call(t))return!1;try{return function(t){return"symbol"==typeof t.valueOf()&&i.test(o.call(t))}(t)}catch(t){return!1}}}else t.exports=function(t){return!1}},function(t,e,n){"use strict";if("function"==typeof BigInt){var r=BigInt.prototype.valueOf;t.exports=function(t){return null!=t&&"boolean"!=typeof t&&"string"!=typeof t&&"number"!=typeof t&&"symbol"!=typeof t&&"function"!=typeof t&&("bigint"==typeof t||function(t){try{return r.call(t),!0}catch(t){}return!1}(t))}}else t.exports=function(t){return!1}},function(t,e,n){"use strict";var r=n(46),o=n(47),i=n(92),a=n(93);t.exports=function(t){if(t&&"object"==typeof t){if(r(t))return"Map";if(o(t))return"Set";if(i(t))return"WeakMap";if(a(t))return"WeakSet"}return!1}},function(t,e,n){"use strict";var r,o="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,i="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;o||(r=function(t){return!1});var a=o?o.prototype.has:null,s=i?i.prototype.has:null;r||a||(r=function(t){return!1}),t.exports=r||function(t){if(!t||"object"!=typeof t)return!1;try{if(a.call(t,a),s)try{s.call(t,s)}catch(t){return!0}return t instanceof o}catch(t){}return!1}},function(t,e,n){"use strict";var r,o="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,i="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;o||(r=function(t){return!1});var a=o?o.prototype.has:null,s=i?i.prototype.has:null;r||s||(t.exports=function(t){return!1}),t.exports=r||function(t){if(!t||"object"!=typeof t)return!1;try{if(s.call(t,s),a)try{a.call(t,a)}catch(t){return!0}return t instanceof i}catch(t){}return!1}},function(t,e,n){"use strict";(function(e){var r=n(38);if(n(15)()||n(20)()){var o=Symbol.iterator;t.exports=function(t){return null!=t&&void 0!==t[o]?t[o]():r(t)?Array.prototype[o].call(t):void 0}}else{var i=n(95),a=n(45),s=n(9),u=s("%Map%",!0),c=s("%Set%",!0),l=n(4),f=l("Array.prototype.push"),p=l("String.prototype.charCodeAt"),d=l("String.prototype.slice"),h=function(t){var e=0;return{next:function(){var n,r=e>=t.length;return r||(n=t[e],e+=1),{done:r,value:n}}}},y=function(t,e){if(i(t)||r(t))return h(t);if(a(t)){var n=0;return{next:function(){var e=function(t,e){if(e+1>=t.length)return e+1;var n=p(t,e);if(n<55296||n>56319)return e+1;var r=p(t,e+1);return r<56320||r>57343?e+1:e+2}(t,n),r=d(t,n,e);return n=e,{done:e>t.length,value:r}}}}return e&&void 0!==t["_es6-shim iterator_"]?t["_es6-shim iterator_"]():void 0};if(u||c){var g=n(46),v=n(47),m=l("Map.prototype.forEach",!0),b=l("Set.prototype.forEach",!0);if(void 0===e||!e.versions||!e.versions.node)var w=l("Map.prototype.iterator",!0),_=l("Set.prototype.iterator",!0),x=function(t){var e=!1;return{next:function(){try{return{done:e,value:e?void 0:t.next()}}catch(t){return e=!0,{done:!0,value:void 0}}}}};var S=l("Map.prototype.@@iterator",!0)||l("Map.prototype._es6-shim iterator_",!0),E=l("Set.prototype.@@iterator",!0)||l("Set.prototype._es6-shim iterator_",!0);t.exports=function(t){return function(t){if(g(t)){if(w)return x(w(t));if(S)return S(t);if(m){var e=[];return m(t,(function(t,n){f(e,[n,t])})),h(e)}}if(v(t)){if(_)return x(_(t));if(E)return E(t);if(b){var n=[];return b(t,(function(t){f(n,t)})),h(n)}}}(t)||y(t)}}else t.exports=function(t){if(null!=t)return y(t,!0)}}}).call(this,n(3))},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var r=n(9),o=n(4),i=n(30),a=r("%TypeError%"),s=r("%WeakMap%",!0),u=r("%Map%",!0),c=o("WeakMap.prototype.get",!0),l=o("WeakMap.prototype.set",!0),f=o("WeakMap.prototype.has",!0),p=o("Map.prototype.get",!0),d=o("Map.prototype.set",!0),h=o("Map.prototype.has",!0),y=function(t,e){for(var n,r=t;null!==(n=r.next);r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n};t.exports=function(){var t,e,n,r={assert:function(t){if(!r.has(t))throw new a("Side channel does not contain "+i(t))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(t)return c(t,r)}else if(u){if(e)return p(e,r)}else if(n)return function(t,e){var n=y(t,e);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(t)return f(t,r)}else if(u){if(e)return h(e,r)}else if(n)return function(t,e){return!!y(t,e)}(n,r);return!1},set:function(r,o){s&&r&&("object"==typeof r||"function"==typeof r)?(t||(t=new s),l(t,r,o)):u?(e||(e=new u),d(e,r,o)):(n||(n={key:{},next:null}),function(t,e,n){var r=y(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}}(n,r,o))}};return r}},function(t,e){},function(t,e,n){"use strict";(function(e){var r=n(48),o=n(49),i=n(4),a=i("Object.prototype.toString"),s=n(15)()&&"symbol"==typeof Symbol.toStringTag,u=o(),c=i("String.prototype.slice"),l={},f=n(50),p=Object.getPrototypeOf;s&&f&&p&&r(u,(function(t){if("function"==typeof e[t]){var n=new e[t];if(!(Symbol.toStringTag in n))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=p(n),o=f(r,Symbol.toStringTag);if(!o){var i=p(r);o=f(i,Symbol.toStringTag)}l[t]=o.get}}));var d=n(100);t.exports=function(t){return!!d(t)&&(s?function(t){var e=!1;return r(l,(function(n,r){if(!e)try{var o=n.call(t);o===r&&(e=o)}catch(t){}})),e}(t):c(a(t),8,-1))}}).call(this,n(5))},function(t,e){t.exports=function(t,e,r){if(t.filter)return t.filter(e,r);if(null==t)throw new TypeError;if("function"!=typeof e)throw new TypeError;for(var o=[],i=0;i<t.length;i++)if(n.call(t,i)){var a=t[i];e.call(r,a,i,t)&&o.push(a)}return o};var n=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";(function(e){var r=n(48),o=n(49),i=n(4),a=i("Object.prototype.toString"),s=n(15)()&&"symbol"==typeof Symbol.toStringTag,u=o(),c=i("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},l=i("String.prototype.slice"),f={},p=n(50),d=Object.getPrototypeOf;s&&p&&d&&r(u,(function(t){var n=new e[t];if(!(Symbol.toStringTag in n))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=d(n),o=p(r,Symbol.toStringTag);if(!o){var i=d(r);o=p(i,Symbol.toStringTag)}f[t]=o.get}));t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!s){var e=l(a(t),8,-1);return c(u,e)>-1}return!!p&&function(t){var e=!1;return r(f,(function(n,r){if(!e)try{e=n.call(t)===r}catch(t){}})),e}(t)}}).call(this,n(5))},function(t,e,n){"use strict";var r=n(6),o=n(16),i=n(51),a=n(52),s=n(102),u=o.apply(a()),c=function(t,e){return u(Object,arguments)};r(c,{getPolyfill:a,implementation:i,shim:s}),t.exports=c},function(t,e,n){"use strict";var r=n(6),o=n(52);t.exports=function(){var t=o();return r(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,o="/"===a.charAt(0))}return(o?"/":"")+(e=n(r(e.split("/"),(function(t){return!!t})),!o).join("/"))||"."},e.normalize=function(t){var i=e.isAbsolute(t),a="/"===o(t,-1);return(t=n(r(t.split("/"),(function(t){return!!t})),!i).join("/"))||i||(t="."),t&&a&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var o=r(t.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),s=a,u=0;u<a;u++)if(o[u]!==i[u]){s=u;break}var c=[];for(u=s;u<o.length;u++)c.push("..");return(c=c.concat(i.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,o=!0,i=t.length-1;i>=1;--i)if(47===(e=t.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,o=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!o){n=e+1;break}}else-1===r&&(o=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,o=!0,i=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(o=!1,r=a+1),46===s?-1===e?e=a:1!==i&&(i=1):-1!==e&&(i=-1);else if(!o){n=a+1;break}}return-1===e||-1===r||0===i||1===i&&e===r-1&&e===n+1?"":t.slice(e,r)};var o="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(3))},function(t,e,n){"use strict";var r=n(16),o=n(6),i=n(53),a=n(54),s=n(108),u=r(a());o(u,{getPolyfill:a,implementation:i,shim:s}),t.exports=u},function(t,e,n){"use strict";t.exports=n(106)},function(t,e,n){"use strict";var r=n(9)("%TypeError%");t.exports=function(t,e){if(null==t)throw new r(e||"Cannot call method on "+t);return t}},function(t,e,n){"use strict";var r=n(9),o=r("%String%"),i=r("%TypeError%");t.exports=function(t){if("symbol"==typeof t)throw new i("Cannot convert a Symbol value to a string");return o(t)}},function(t,e,n){"use strict";var r=n(6),o=n(54);t.exports=function(){var t=o();return r(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},function(t,e,n){"use strict";var r=n(110),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty,a=function(t,e,n){for(var r=0,o=t.length;r<o;r++)i.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))},s=function(t,e,n){for(var r=0,o=t.length;r<o;r++)null==n?e(t.charAt(r),r,t):e.call(n,t.charAt(r),r,t)},u=function(t,e,n){for(var r in t)i.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))};t.exports=function(t,e,n){if(!r(e))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),"[object Array]"===o.call(t)?a(t,e,i):"string"==typeof t?s(t,e,i):u(t,e,i)}},function(t,e,n){"use strict";var r,o,i=Function.prototype.toString,a="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof a&&"function"==typeof Object.defineProperty)try{r=Object.defineProperty({},"length",{get:function(){throw o}}),o={},a((function(){throw 42}),null,r)}catch(t){t!==o&&(a=null)}else a=null;var s=/^\s*class\b/,u=function(t){try{var e=i.call(t);return s.test(e)}catch(t){return!1}},c=Object.prototype.toString,l="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,f="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};t.exports=a?function(t){if(t===f)return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;try{a(t,null,r)}catch(t){if(t!==o)return!1}return!u(t)}:function(t){if(t===f)return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(l)return function(t){try{return!u(t)&&(i.call(t),!0)}catch(t){return!1}}(t);if(u(t))return!1;var e=c.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},function(t,e,n){"use strict";(function(e,r){var o=n(22),i=n(13).EventEmitter,a=n(8),s=n(17),u=n(112),c=n(30),l=n(4),f=n(29),p=l("RegExp.prototype.test"),d=l("String.prototype.split"),h=l("String.prototype.replace"),y=l("Array.prototype.shift"),g=l("Array.prototype.push"),v=/:|-|\?/,m=void 0!==e?e:r.nextTick;function b(t){return h(String(t),/\s+/g," ")}function w(){if(!(this instanceof w))return new w;this.count=0,this.fail=0,this.pass=0,this.todo=0,this._stream=s(),this.tests=[],this._only=null,this._isRunning=!1}function _(t){if(!t._only)return y(t.tests);do{var e=y(t.tests);if(e&&t._only===e)return e}while(0!==t.tests.length)}function x(t){return p(v,t)}t.exports=w,a(w,i),w.prototype.createStream=function(t){t||(t={});var e,n=this,r=0;return t.objectMode?(e=s(),n.on("_push",(function t(n,o){o||(o={});var i=r++;n.once("prerun",(function(){var t={type:"test",name:n.name,id:i,skip:n._skip,todo:n._todo};f(o,"parent")&&(t.parent=o.parent),e.queue(t)})),n.on("test",(function(e){t(e,{parent:i})})),n.on("result",(function(t){t&&"object"==typeof t&&(t.test=i,t.type="assert"),e.queue(t)})),n.on("end",(function(){e.queue({type:"end",test:i})}))})),n.on("done",(function(){e.queue(null)}))):((e=u()).queue("TAP version 13\n"),n._stream.pipe(e)),this._isRunning||(this._isRunning=!0,m((function t(){for(var e;e=_(n);)if(e.run(),!e.ended)return e.once("end",(function(){m(t)}));n.emit("done")}))),e},w.prototype.push=function(t){var e=this;g(e.tests,t),e._watch(t),e.emit("_push",t)},w.prototype.only=function(t){this._only=t},w.prototype._watch=function(t){var e=this,n=function(t){e._stream.queue(t)};t.once("prerun",(function(){var e="";t._skip?e="SKIP ":t._todo&&(e="TODO "),n("# "+e+b(t.name)+"\n")})),t.on("result",(function(t){"string"!=typeof t?(n(function(t,e){var n="";n+=(t.ok?"ok ":"not ok ")+e,n+=t.name?" "+b(t.name):"",t.skip?n+=" # SKIP"+("string"==typeof t.skip?" "+b(t.skip):""):t.todo&&(n+=" # TODO"+("string"==typeof t.todo?" "+b(t.todo):""));if(n+="\n",t.ok)return n;var r="  ",i=r+"  ";if(n+=r+"---\n",n+=i+"operator: "+t.operator+"\n",f(t,"expected")||f(t,"actual")){var a=c(t.expected,{depth:t.objectPrintDepth}),s=c(t.actual,{depth:t.objectPrintDepth});Math.max(a.length,s.length)>65||x(a)||x(s)?(n+=i+"expected: |-\n"+i+"  "+a+"\n",n+=i+"actual: |-\n"+i+"  "+s+"\n"):(n+=i+"expected: "+a+"\n",n+=i+"actual:   "+s+"\n")}t.at&&(n+=i+"at: "+t.at+"\n");var u=!t.actual||"object"!=typeof t.actual&&"function"!=typeof t.actual?void 0:t.actual.stack,l=t.error&&t.error.stack,p=o(u,l);if(p){var h=d(String(p),"\n");n+=i+"stack: |-\n";for(var y=0;y<h.length;y++)n+=i+"  "+h[y]+"\n"}return n+=r+"...\n"}(t,e.count+1)),e.count++,t.ok||t.todo?e.pass++:(e.fail++,e.emit("fail"))):n("# "+t+"\n")})),t.on("test",(function(t){e._watch(t)}))},w.prototype.close=function(){var t=this;t.closed&&t._stream.emit("error",new Error("ALREADY CLOSED")),t.closed=!0;var e=function(e){t._stream.queue(e)};e("\n1.."+t.count+"\n"),e("# tests "+t.count+"\n"),e("# pass  "+(t.pass+t.todo)+"\n"),t.todo&&e("# todo  "+t.todo+"\n"),t.fail?e("# fail  "+t.fail+"\n"):e("\n# ok\n"),t._stream.queue(null)}}).call(this,n(19).setImmediate,n(3))},function(t,e,n){(function(e,r){var o=n(17),i=void 0!==e?e:r.nextTick;t.exports=function(t,e){var n=o(t,e);n.pause();var r=n.resume,a=n.pause,s=!1;return n.pause=function(){return s=!0,a.apply(this,arguments)},n.resume=function(){return s=!1,r.apply(this,arguments)},i((function(){s||n.resume()})),n}}).call(this,n(19).setImmediate,n(3))}])}));
//# sourceMappingURL=xdsmjs-test.js.map