!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.xdsmjs=e():t.xdsmjs=e()}(self,(function(){return(()=>{var t={1924:(t,e,n)=>{"use strict";var r=n(210),o=n(5559),i=o(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&i(t,".prototype.")>-1?o(n):n}},5559:(t,e,n)=>{"use strict";var r=n(8612),o=n(210),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(a,i),u=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),p=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(t){c=null}t.exports=function(t){var e=s(r,a,arguments);if(u&&c){var n=u(e,"length");n.configurable&&c(e,"length",{value:1+p(0,t.length-(arguments.length-1))})}return e};var l=function(){return s(r,i,arguments)};c?c(t.exports,"apply",{value:l}):t.exports.apply=l},251:(t,e,n)=>{"use strict";var r=n(2215),o=n(2584),i=n(609),a=n(8420),s=n(2847),u=n(8326),c=n(8923),p=n(3679),l=n(210),f=n(1924),d=n(3483),h=n(3216),y=n(7478),g=n(6430),v=n(3533),m=f("Date.prototype.getTime"),b=Object.getPrototypeOf,_=f("Object.prototype.toString"),w=l("%Set%",!0),x=f("Map.prototype.has",!0),E=f("Map.prototype.get",!0),S=f("Map.prototype.size",!0),A=f("Set.prototype.add",!0),O=f("Set.prototype.delete",!0),j=f("Set.prototype.has",!0),N=f("Set.prototype.size",!0);function k(t,e,n,r){for(var o,i=h(t);(o=i.next())&&!o.done;)if(M(e,o.value,n,r))return O(t,o.value),!0;return!1}function P(t){return void 0===t?null:"object"!=typeof t?"symbol"!=typeof t&&("string"!=typeof t&&"number"!=typeof t||+t==+t):void 0}function q(t,e,n,r,o,i){var a=P(n);if(null!=a)return a;var s=E(e,a),u=v({},o,{strict:!1});return!(void 0===s&&!x(e,a)||!M(r,s,u,i))&&(!x(t,a)&&M(r,s,u,i))}function D(t,e,n){var r=P(n);return null!=r?r:j(e,r)&&!j(t,r)}function T(t,e,n,r,o,i){for(var a,s,u=h(t);(a=u.next())&&!a.done;)if(M(n,s=a.value,o,i)&&M(r,E(e,s),o,i))return O(t,s),!0;return!1}function M(t,e,n,l){var f=n||{};if(f.strict?i(t,e):t===e)return!0;if(p(t)!==p(e))return!1;if(!t||!e||"object"!=typeof t&&"object"!=typeof e)return f.strict?i(t,e):t==e;var y,O=l.has(t),P=l.has(e);if(O&&P){if(l.get(t)===l.get(e))return!0}else y={};return O||l.set(t,y),P||l.set(e,y),function(t,e,n,i){var p,l;if(typeof t!=typeof e)return!1;if(null==t||null==e)return!1;if(_(t)!==_(e))return!1;if(o(t)!==o(e))return!1;var f=u(t),y=u(e);if(f!==y)return!1;var O=t instanceof Error,P=e instanceof Error;if(O!==P)return!1;if((O||P)&&(t.name!==e.name||t.message!==e.message))return!1;var I=a(t),L=a(e);if(I!==L)return!1;if((I||L)&&(t.source!==e.source||s(t)!==s(e)))return!1;var U=c(t),R=c(e);if(U!==R)return!1;if((U||R)&&m(t)!==m(e))return!1;if(n.strict&&b&&b(t)!==b(e))return!1;if(g(t)!==g(e))return!1;var C=B(t),F=B(e);if(C!==F)return!1;if(C||F){if(t.length!==e.length)return!1;for(p=0;p<t.length;p++)if(t[p]!==e[p])return!1;return!0}if(typeof t!=typeof e)return!1;var G=r(t),z=r(e);if(G.length!==z.length)return!1;for(G.sort(),z.sort(),p=G.length-1;p>=0;p--)if(G[p]!=z[p])return!1;for(p=G.length-1;p>=0;p--)if(!M(t[l=G[p]],e[l],n,i))return!1;var W=d(t),$=d(e);if(W!==$)return!1;if("Set"===W||"Set"===$)return function(t,e,n,r){if(N(t)!==N(e))return!1;var o,i,a,s=h(t),u=h(e);for(;(o=s.next())&&!o.done;)if(o.value&&"object"==typeof o.value)a||(a=new w),A(a,o.value);else if(!j(e,o.value)){if(n.strict)return!1;if(!D(t,e,o.value))return!1;a||(a=new w),A(a,o.value)}if(a){for(;(i=u.next())&&!i.done;)if(i.value&&"object"==typeof i.value){if(!k(a,i.value,n.strict,r))return!1}else if(!n.strict&&!j(t,i.value)&&!k(a,i.value,n.strict,r))return!1;return 0===N(a)}return!0}(t,e,n,i);if("Map"===W)return function(t,e,n,r){if(S(t)!==S(e))return!1;var o,i,a,s,u,c,p=h(t),l=h(e);for(;(o=p.next())&&!o.done;)if(s=o.value[0],u=o.value[1],s&&"object"==typeof s)a||(a=new w),A(a,s);else if(void 0===(c=E(e,s))&&!x(e,s)||!M(u,c,n,r)){if(n.strict)return!1;if(!q(t,e,s,u,n,r))return!1;a||(a=new w),A(a,s)}if(a){for(;(i=l.next())&&!i.done;)if(s=i.value[0],c=i.value[1],s&&"object"==typeof s){if(!T(a,t,s,c,n,r))return!1}else if(!(n.strict||t.has(s)&&M(E(t,s),c,n,r)||T(a,t,s,c,v({},n,{strict:!1}),r)))return!1;return 0===N(a)}return!0}(t,e,n,i);return!0}(t,e,f,l)}function B(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&(!(t.length>0&&"number"!=typeof t[0])&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))))}t.exports=function(t,e,n){return M(t,e,n,y())}},8326:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},4289:(t,e,n)=>{"use strict";var r=n(2215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=s&&function(){var t={};try{for(var e in s(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),c=function(t,e,n,r){var o;(!(e in t)||"function"==typeof(o=r)&&"[object Function]"===i.call(o)&&r())&&(u?s(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},p=function(t,e){var n=arguments.length>2?arguments[2]:{},i=r(e);o&&(i=a.call(i,Object.getOwnPropertySymbols(e)));for(var s=0;s<i.length;s+=1)c(t,i[s],e[i[s]],n[i[s]])};p.supportsDescriptors=!!u,t.exports=p},5677:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},7187:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function i(){i.init.call(this)}t.exports=i,t.exports.once=function(t,e){return new Promise((function(n,r){function o(n){t.removeListener(e,i),r(n)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}y(t,e,i,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&y(t,"error",e,n)}(t,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function c(t,e,n,r){var o,i,a,c;if(s(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),a=i[e]),void 0===a)a=i[e]=n,++t._eventsCount;else if("function"==typeof a?a=i[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=u(t))>0&&a.length>o&&!a.warned){a.warned=!0;var p=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=t,p.type=e,p.count=a.length,c=p,console&&console.warn&&console.warn(c)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=p.bind(r);return o.listener=n,r.wrapFn=o,o}function f(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):h(o,o.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function y(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(i){r.once&&t.removeEventListener(e,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var o="error"===t,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)r(u,this,e);else{var c=u.length,p=h(u,c);for(n=0;n<c;++n)r(p[n],this,e)}return!0},i.prototype.addListener=function(t,e){return c(this,t,e,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(t,e){return c(this,t,e,!0)},i.prototype.once=function(t,e){return s(e),this.on(t,l(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,l(this,t,e)),this},i.prototype.removeListener=function(t,e){var n,r,o,i,a;if(s(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},i.prototype.listeners=function(t){return f(this,t,!0)},i.prototype.rawListeners=function(t){return f(this,t,!1)},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},i.prototype.listenerCount=d,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},4029:(t,e,n)=>{"use strict";var r=n(5320),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty,a=function(t,e,n){for(var r=0,o=t.length;r<o;r++)i.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))},s=function(t,e,n){for(var r=0,o=t.length;r<o;r++)null==n?e(t.charAt(r),r,t):e.call(n,t.charAt(r),r,t)},u=function(t,e,n){for(var r in t)i.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))};t.exports=function(t,e,n){if(!r(e))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),"[object Array]"===o.call(t)?a(t,e,i):"string"==typeof t?s(t,e,i):u(t,e,i)}},9804:t=>{var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString;t.exports=function(t,r,o){if("[object Function]"!==n.call(r))throw new TypeError("iterator must be a function");var i=t.length;if(i===+i)for(var a=0;a<i;a++)r.call(o,t[a],a,t);else for(var s in t)e.call(t,s)&&r.call(o,t[s],s,t)}},7648:t=>{"use strict";var e="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";t.exports=function(t){var i=this;if("function"!=typeof i||r.call(i)!==o)throw new TypeError(e+i);for(var a,s=n.call(arguments,1),u=function(){if(this instanceof a){var e=i.apply(this,s.concat(n.call(arguments)));return Object(e)===e?e:this}return i.apply(t,s.concat(n.call(arguments)))},c=Math.max(0,i.length-s.length),p=[],l=0;l<c;l++)p.push("$"+l);if(a=Function("binder","return function ("+p.join(",")+"){ return binder.apply(this,arguments); }")(u),i.prototype){var f=function(){};f.prototype=i.prototype,a.prototype=new f,f.prototype=null}return a}},8612:(t,e,n)=>{"use strict";var r=n(7648);t.exports=Function.prototype.bind||r},210:(t,e,n)=>{"use strict";var r,o=SyntaxError,i=Function,a=TypeError,s=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(t){u=null}var c=function(){throw new a},p=u?function(){try{return c}catch(t){try{return u(arguments,"callee").get}catch(t){return c}}}():c,l=n(1405)(),f=Object.getPrototypeOf||function(t){return t.__proto__},d={},h="undefined"==typeof Uint8Array?r:f(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":l?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?f(""[Symbol.iterator]()):r,"%Symbol%":l?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":p,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},g=function t(e){var n;if("%AsyncFunction%"===e)n=s("async function () {}");else if("%GeneratorFunction%"===e)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=s("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(n=f(o.prototype))}return y[e]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=n(8612),b=n(7642),_=m.call(Function.call,Array.prototype.concat),w=m.call(Function.apply,Array.prototype.splice),x=m.call(Function.call,String.prototype.replace),E=m.call(Function.call,String.prototype.slice),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,O=function(t){var e=E(t,0,1),n=E(t,-1);if("%"===e&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return x(t,S,(function(t,e,n,o){r[r.length]=n?x(o,A,"$1"):e||t})),r},j=function(t,e){var n,r=t;if(b(v,r)&&(r="%"+(n=v[r])[0]+"%"),b(y,r)){var i=y[r];if(i===d&&(i=g(r)),void 0===i&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');var n=O(t),r=n.length>0?n[0]:"",i=j("%"+r+"%",e),s=i.name,c=i.value,p=!1,l=i.alias;l&&(r=l[0],w(n,_([0,1],l)));for(var f=1,d=!0;f<n.length;f+=1){var h=n[f],g=E(h,0,1),v=E(h,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new o("property names with quotes must have matching quotes");if("constructor"!==h&&d||(p=!0),b(y,s="%"+(r+="."+h)+"%"))c=y[s];else if(null!=c){if(!(h in c)){if(!e)throw new a("base intrinsic for "+t+" exists, but the property is not available.");return}if(u&&f+1>=n.length){var m=u(c,h);c=(d=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:c[h]}else d=b(c,h),c=c[h];d&&!p&&(y[s]=c)}}return c}},932:(t,e,n)=>{"use strict";var r=n.g.BigInt;t.exports=function(){return"function"==typeof r&&"function"==typeof BigInt&&"bigint"==typeof r(42)&&"bigint"==typeof BigInt(42)}},1405:(t,e,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(5419);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},5419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},6410:(t,e,n)=>{"use strict";var r=n(5419);t.exports=function(){return r()&&!!Symbol.toStringTag}},7642:(t,e,n)=>{"use strict";var r=n(8612);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},5717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},2584:(t,e,n)=>{"use strict";var r=n(6410)(),o=n(1924)("Object.prototype.toString"),i=function(t){return!(r&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o(t)},a=function(t){return!!i(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,t.exports=s?i:a},3376:(t,e,n)=>{"use strict";if(n(932)()){var r=BigInt.prototype.valueOf;t.exports=function(t){return null!=t&&"boolean"!=typeof t&&"string"!=typeof t&&"number"!=typeof t&&"symbol"!=typeof t&&"function"!=typeof t&&("bigint"==typeof t||function(t){try{return r.call(t),!0}catch(t){}return!1}(t))}}else t.exports=function(t){return!1}},6814:(t,e,n)=>{"use strict";var r=n(1924),o=r("Boolean.prototype.toString"),i=r("Object.prototype.toString"),a=n(6410)();t.exports=function(t){return"boolean"==typeof t||null!==t&&"object"==typeof t&&(a&&Symbol.toStringTag in t?function(t){try{return o(t),!0}catch(t){return!1}}(t):"[object Boolean]"===i(t))}},5320:t=>{"use strict";var e,n,r=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw n}}),n={},o((function(){throw 42}),null,e)}catch(t){t!==n&&(o=null)}else o=null;var i=/^\s*class\b/,a=function(t){try{var e=r.call(t);return i.test(e)}catch(t){return!1}},s=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,c="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};t.exports=o?function(t){if(t===c)return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;try{o(t,null,e)}catch(t){if(t!==n)return!1}return!a(t)}:function(t){if(t===c)return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(u)return function(t){try{return!a(t)&&(r.call(t),!0)}catch(t){return!1}}(t);if(a(t))return!1;var e=s.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},8923:(t,e,n)=>{"use strict";var r=Date.prototype.getDay,o=Object.prototype.toString,i=n(6410)();t.exports=function(t){return"object"==typeof t&&null!==t&&(i?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object Date]"===o.call(t))}},8379:t=>{"use strict";var e,n="function"==typeof Map&&Map.prototype?Map:null,r="function"==typeof Set&&Set.prototype?Set:null;n||(e=function(t){return!1});var o=n?Map.prototype.has:null,i=r?Set.prototype.has:null;e||o||(e=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(o.call(t),i)try{i.call(t)}catch(t){return!0}return t instanceof n}catch(t){}return!1}},4578:(t,e,n)=>{"use strict";var r=Number.prototype.toString,o=Object.prototype.toString,i=n(6410)();t.exports=function(t){return"number"==typeof t||"object"==typeof t&&(i?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object Number]"===o.call(t))}},8420:(t,e,n)=>{"use strict";var r,o,i,a,s=n(1924),u=n(6410)();if(u){r=s("Object.prototype.hasOwnProperty"),o=s("RegExp.prototype.exec"),i={};var c=function(){throw i};a={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=c)}var p=s("Object.prototype.toString"),l=Object.getOwnPropertyDescriptor;t.exports=u?function(t){if(!t||"object"!=typeof t)return!1;var e=l(t,"lastIndex");if(!(e&&r(e,"value")))return!1;try{o(t,a)}catch(t){return t===i}}:function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===p(t)}},9572:t=>{"use strict";var e,n="function"==typeof Map&&Map.prototype?Map:null,r="function"==typeof Set&&Set.prototype?Set:null;r||(e=function(t){return!1});var o=n?Map.prototype.has:null,i=r?Set.prototype.has:null;e||i||(e=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(i.call(t),o)try{o.call(t)}catch(t){return!0}return t instanceof r}catch(t){}return!1}},9981:(t,e,n)=>{"use strict";var r=String.prototype.valueOf,o=Object.prototype.toString,i=n(6410)();t.exports=function(t){return"string"==typeof t||"object"==typeof t&&(i?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object String]"===o.call(t))}},2636:(t,e,n)=>{"use strict";var r=Object.prototype.toString;if(n(1405)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;t.exports=function(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==r.call(t))return!1;try{return function(t){return"symbol"==typeof t.valueOf()&&i.test(o.call(t))}(t)}catch(t){return!1}}}else t.exports=function(t){return!1}},5692:(t,e,n)=>{"use strict";var r=n(9804),o=n(3083),i=n(1924),a=i("Object.prototype.toString"),s=n(6410)(),u=o(),c=i("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},p=i("String.prototype.slice"),l={},f=n(882),d=Object.getPrototypeOf;s&&f&&d&&r(u,(function(t){var e=new n.g[t];if(Symbol.toStringTag in e){var r=d(e),o=f(r,Symbol.toStringTag);if(!o){var i=d(r);o=f(i,Symbol.toStringTag)}l[t]=o.get}}));t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!s||!(Symbol.toStringTag in t)){var e=p(a(t),8,-1);return c(u,e)>-1}return!!f&&function(t){var e=!1;return r(l,(function(n,r){if(!e)try{e=n.call(t)===r}catch(t){}})),e}(t)}},1718:t=>{"use strict";var e,n="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,r="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;n||(e=function(t){return!1});var o=n?n.prototype.has:null,i=r?r.prototype.has:null;e||o||(e=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(o.call(t,o),i)try{i.call(t,i)}catch(t){return!0}return t instanceof n}catch(t){}return!1}},5899:t=>{"use strict";var e,n="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,r="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;n||(e=function(t){return!1});var o=n?n.prototype.has:null,i=r?r.prototype.has:null;e||i||(t.exports=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(i.call(t,i),o)try{o.call(t,o)}catch(t){return!0}return t instanceof r}catch(t){}return!1}},631:(t,e,n)=>{var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"==typeof o.get?o.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"==typeof u.get?u.get:null,p=s&&Set.prototype.forEach,l="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,y=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,m="function"==typeof BigInt?BigInt.prototype.valueOf:null,b=Object.getOwnPropertySymbols,_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,w="function"==typeof Symbol&&"object"==typeof Symbol.iterator,x=Object.prototype.propertyIsEnumerable,E=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),S=n(4654).custom,A=S&&P(S)?S:null,O="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function j(t,e,n){var r="double"===(n.quoteStyle||e)?'"':"'";return r+t+r}function N(t){return String(t).replace(/"/g,"&quot;")}function k(t){return!("[object Array]"!==T(t)||O&&"object"==typeof t&&O in t)}function P(t){if(w)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!_)return!1;try{return _.call(t),!0}catch(t){}return!1}t.exports=function t(e,n,r,o){var s=n||{};if(D(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(D(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!D(s,"customInspect")||s.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(D(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return B(e,s);if("number"==typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"==typeof e)return String(e)+"n";var y=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=y&&y>0&&"object"==typeof e)return k(e)?"[Array]":"[Object]";var b=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;n=Array(t.indent+1).join(" ")}return{base:n,prev:Array(e+1).join(n)}}(s,r);if(void 0===o)o=[];else if(M(o,e)>=0)return"[Circular]";function x(e,n,i){if(n&&(o=o.slice()).push(n),i){var a={depth:s.depth};return D(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),t(e,a,r+1,o)}return t(e,s,r+1,o)}if("function"==typeof e){var S=function(t){if(t.name)return t.name;var e=v.call(g.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),q=F(e,x);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(q.length>0?" { "+q.join(", ")+" }":"")}if(P(e)){var I=w?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):_.call(e);return"object"!=typeof e||w?I:L(I)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var G="<"+String(e.nodeName).toLowerCase(),z=e.attributes||[],W=0;W<z.length;W++)G+=" "+z[W].name+"="+j(N(z[W].value),"double",s);return G+=">",e.childNodes&&e.childNodes.length&&(G+="..."),G+="</"+String(e.nodeName).toLowerCase()+">"}if(k(e)){if(0===e.length)return"[]";var $=F(e,x);return b&&!function(t){for(var e=0;e<t.length;e++)if(M(t[e],"\n")>=0)return!1;return!0}($)?"["+C($,b)+"]":"[ "+$.join(", ")+" ]"}if(function(t){return!("[object Error]"!==T(t)||O&&"object"==typeof t&&O in t)}(e)){var X=F(e,x);return 0===X.length?"["+String(e)+"]":"{ ["+String(e)+"] "+X.join(", ")+" }"}if("object"==typeof e&&u){if(A&&"function"==typeof e[A])return e[A]();if("symbol"!==u&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!i||!t||"object"!=typeof t)return!1;try{i.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var V=[];return a.call(e,(function(t,n){V.push(x(n,e,!0)+" => "+x(t,e))})),R("Map",i.call(e),V,b)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{i.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var H=[];return p.call(e,(function(t){H.push(x(t,e))})),R("Set",c.call(e),H,b)}if(function(t){if(!l||!t||"object"!=typeof t)return!1;try{l.call(t,l);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return U("WeakMap");if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{l.call(t,l)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return U("WeakSet");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{return d.call(t),!0}catch(t){}return!1}(e))return U("WeakRef");if(function(t){return!("[object Number]"!==T(t)||O&&"object"==typeof t&&O in t)}(e))return L(x(Number(e)));if(function(t){if(!t||"object"!=typeof t||!m)return!1;try{return m.call(t),!0}catch(t){}return!1}(e))return L(x(m.call(e)));if(function(t){return!("[object Boolean]"!==T(t)||O&&"object"==typeof t&&O in t)}(e))return L(h.call(e));if(function(t){return!("[object String]"!==T(t)||O&&"object"==typeof t&&O in t)}(e))return L(x(String(e)));if(!function(t){return!("[object Date]"!==T(t)||O&&"object"==typeof t&&O in t)}(e)&&!function(t){return!("[object RegExp]"!==T(t)||O&&"object"==typeof t&&O in t)}(e)){var Y=F(e,x),J=E?E(e)===Object.prototype:e instanceof Object||e.constructor===Object,K=e instanceof Object?"":"null prototype",Z=!J&&O&&Object(e)===e&&O in e?T(e).slice(8,-1):K?"Object":"",Q=(J||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(Z||K?"["+[].concat(Z||[],K||[]).join(": ")+"] ":"");return 0===Y.length?Q+"{}":b?Q+"{"+C(Y,b)+"}":Q+"{ "+Y.join(", ")+" }"}return String(e)};var q=Object.prototype.hasOwnProperty||function(t){return t in this};function D(t,e){return q.call(t,e)}function T(t){return y.call(t)}function M(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function B(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return B(t.slice(0,e.maxStringLength),e)+r}return j(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,I),"single",e)}function I(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function L(t){return"Object("+t+")"}function U(t){return t+" { ? }"}function R(t,e,n,r){return t+" ("+e+") {"+(r?C(n,r):n.join(", "))+"}"}function C(t,e){if(0===t.length)return"";var n="\n"+e.prev+e.base;return n+t.join(","+n)+"\n"+e.prev}function F(t,e){var n=k(t),r=[];if(n){r.length=t.length;for(var o=0;o<t.length;o++)r[o]=D(t,o)?e(t[o],t):""}var i,a="function"==typeof b?b(t):[];if(w){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var u in t)D(t,u)&&(n&&String(Number(u))===u&&u<t.length||w&&i["$"+u]instanceof Symbol||(/[^\w$]/.test(u)?r.push(e(u,t)+": "+e(t[u],t)):r.push(u+": "+e(t[u],t))));if("function"==typeof b)for(var c=0;c<a.length;c++)x.call(t,a[c])&&r.push("["+e(a[c])+"]: "+e(t[a[c]],t));return r}},4244:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,n){return 0===t&&0===n?1/t==1/n:t===n||!(!e(t)||!e(n))}},609:(t,e,n)=>{"use strict";var r=n(4289),o=n(5559),i=n(4244),a=n(5624),s=n(2281),u=o(a(),Object);r(u,{getPolyfill:a,implementation:i,shim:s}),t.exports=u},5624:(t,e,n)=>{"use strict";var r=n(4244);t.exports=function(){return"function"==typeof Object.is?Object.is:r}},2281:(t,e,n)=>{"use strict";var r=n(5624),o=n(4289);t.exports=function(){var t=r();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},8987:(t,e,n)=>{"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(1414),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),p=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(t){var e=t.constructor;return e&&e.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{l(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===i.call(t),r=a(t),s=e&&"[object String]"===i.call(t),f=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=c&&n;if(s&&t.length>0&&!o.call(t,0))for(var y=0;y<t.length;++y)f.push(String(y));if(r&&t.length>0)for(var g=0;g<t.length;++g)f.push(String(g));else for(var v in t)h&&"prototype"===v||!o.call(t,v)||f.push(String(v));if(u)for(var m=function(t){if("undefined"==typeof window||!d)return l(t);try{return l(t)}catch(t){return!1}}(t),b=0;b<p.length;++b)m&&"constructor"===p[b]||!o.call(t,p[b])||f.push(p[b]);return f}}t.exports=r},2215:(t,e,n)=>{"use strict";var r=Array.prototype.slice,o=n(1414),i=Object.keys,a=i?function(t){return i(t)}:n(8987),s=Object.keys;a.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return o(t)?s(r.call(t)):s(t)}):Object.keys=a;return Object.keys||a},t.exports=a},1414:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},2837:(t,e,n)=>{"use strict";var r=n(2215),o=function(t){return null!=t},i=n(5419)(),a=n(1924),s=Object,u=a("Array.prototype.push"),c=a("Object.prototype.propertyIsEnumerable"),p=i?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(!o(t))throw new TypeError("target must be an object");var n,a,l,f,d,h,y,g=s(t);for(n=1;n<arguments.length;++n){a=s(arguments[n]),f=r(a);var v=i&&(Object.getOwnPropertySymbols||p);if(v)for(d=v(a),l=0;l<d.length;++l)y=d[l],c(a,y)&&u(f,y);for(l=0;l<f.length;++l)h=a[y=f[l]],c(a,y)&&(g[y]=h)}return g}},3533:(t,e,n)=>{"use strict";var r=n(4289),o=n(5559),i=n(2837),a=n(8162),s=n(4489),u=o.apply(a()),c=function(t,e){return u(Object,arguments)};r(c,{getPolyfill:a,implementation:i,shim:s}),t.exports=c},8162:(t,e,n)=>{"use strict";var r=n(2837);t.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),n={},r=0;r<e.length;++r)n[e[r]]=e[r];var o=Object.assign({},n),i="";for(var a in o)i+=a;return t!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1}()?r:Object.assign:r}},4489:(t,e,n)=>{"use strict";var r=n(4289),o=n(8162);t.exports=function(){var t=o();return r(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}},3697:t=>{"use strict";var e=Object,n=TypeError;t.exports=function(){if(null!=this&&this!==e(this))throw new n("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},2847:(t,e,n)=>{"use strict";var r=n(4289),o=n(5559),i=n(3697),a=n(1721),s=n(2753),u=o(i);r(u,{getPolyfill:a,implementation:i,shim:s}),t.exports=u},1721:(t,e,n)=>{"use strict";var r=n(3697),o=n(4289).supportsDescriptors,i=Object.getOwnPropertyDescriptor,a=TypeError;t.exports=function(){if(!o)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=i(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return r}},2753:(t,e,n)=>{"use strict";var r=n(4289).supportsDescriptors,o=n(1721),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,c=/a/;t.exports=function(){if(!r||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=u(c),n=i(e,"flags");return n&&n.get===t||a(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},3987:(t,e,n)=>{var r=n(6547),o="undefined"!=typeof setImmediate?setImmediate:process.nextTick;t.exports=function(t,e){var n=r(t,e);n.pause();var i=n.resume,a=n.pause,s=!1;return n.pause=function(){return s=!0,a.apply(this,arguments)},n.resume=function(){return s=!1,i.apply(this,arguments)},o((function(){s||n.resume()})),n}},7478:(t,e,n)=>{"use strict";var r=n(210),o=n(1924),i=n(631),a=r("%TypeError%"),s=r("%WeakMap%",!0),u=r("%Map%",!0),c=o("WeakMap.prototype.get",!0),p=o("WeakMap.prototype.set",!0),l=o("WeakMap.prototype.has",!0),f=o("Map.prototype.get",!0),d=o("Map.prototype.set",!0),h=o("Map.prototype.has",!0),y=function(t,e){for(var n,r=t;null!==(n=r.next);r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n};t.exports=function(){var t,e,n,r={assert:function(t){if(!r.has(t))throw new a("Side channel does not contain "+i(t))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(t)return c(t,r)}else if(u){if(e)return f(e,r)}else if(n)return function(t,e){var n=y(t,e);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(t)return l(t,r)}else if(u){if(e)return h(e,r)}else if(n)return function(t,e){return!!y(t,e)}(n,r);return!1},set:function(r,o){s&&r&&("object"==typeof r||"function"==typeof r)?(t||(t=new s),p(t,r,o)):u?(e||(e=new u),d(e,r,o)):(n||(n={key:{},next:null}),function(t,e,n){var r=y(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}}(n,r,o))}};return r}},1040:(t,e,n)=>{"use strict";var r=n(6237),o=n(2167),i=n(1924)("String.prototype.replace"),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var t=o(r(this));return i(i(t,a,""),s,"")}},6057:(t,e,n)=>{"use strict";var r=n(5559),o=n(4289),i=n(1040),a=n(254),s=n(29),u=r(a());o(u,{getPolyfill:a,implementation:i,shim:s}),t.exports=u},254:(t,e,n)=>{"use strict";var r=n(1040);t.exports=function(){return String.prototype.trim&&"​"==="​".trim()?String.prototype.trim:r}},29:(t,e,n)=>{"use strict";var r=n(4289),o=n(254);t.exports=function(){var t=o();return r(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},5122:(t,e,n)=>{"use strict";var r=n(2107),o=n(9895),i=n(4100),a=n(8772),s=n(6547),u="undefined"!=typeof process&&process&&"function"==typeof process.on&&!0!==process.browser,c="undefined"!=typeof process&&process&&"function"==typeof process.exit;function p(t){var e=a();t&&!1===t.autoclose||e.once("done",(function(){e.close()}));var n=function(t,r,o){var a=new i(t,r,o);return n._tests.push(a),function t(e){e.on("test",(function(e){t(e)})),e.on("result",(function(t){t.todo||t.ok||"string"==typeof t||(n._exitCode=1)}))}(a),e.push(a),a};n._results=e,n._tests=[],n.createStream=function(t){return e.createStream(t)},n.onFinish=function(t){e.on("done",t)},n.onFailure=function(t){e.on("fail",t)};var r=!1;return n.only=function(){if(r)throw new Error("there can only be one only test");r=!0;var t=n.apply(null,arguments);return e.only(t),t},n._exitCode=0,n.close=function(){e.close()},n}t.exports=function(){var t,e=!1,n=function(){return i().apply(this,arguments)};return n.wait=function(){e=!0},n.run=function(){var t=i().run;t&&t()},n.only=function(){return i().only.apply(this,arguments)},n.createStream=function(e){var n=e||{};if(!t){var r=s();return i({stream:r,objectMode:n.objectMode}),r}return t.createStream(n)},n.onFinish=function(){return i().onFinish.apply(this,arguments)},n.onFailure=function(){return i().onFailure.apply(this,arguments)},n.getHarness=i,n;function i(n){return n||(n={}),n.autoclose=!u,t||(t=function(t,e){var n=t||{},i=p({autoclose:r(n.autoclose,!1)}),a=!1,s=!1;e?i.run=l:l();if(!1===n.exit)return i;if(!u||!c)return i;return process.on("exit",(function(t){if("number"!=typeof t||0===t){if(!s)for(var e=i._results._only,n=0;n<i._tests.length;n++){var r=i._tests[n];e&&r!==e||r._exit()}i.close(),process.removeAllListeners("exit"),process.exit(t||i._exitCode)}})),i;function l(){if(!a){a=!0;var t=i.createStream({objectMode:n.objectMode}),e=t.pipe(n.stream||o());u&&e.on("error",(function(t){i._exitCode=1})),t.on("end",(function(){s=!0}))}}}(n,e)),t}}(),t.exports.createHarness=p,t.exports.Test=i,t.exports.test=t.exports,t.exports.test.skip=i.skip},9895:(t,e,n)=>{"use strict";var r=n(6547),o=n(2906);t.exports=function(){var t="",e=r((function(e){for(var r=0;r<e.length;r++){var o="string"==typeof e?e.charAt(r):String.fromCharCode(e[r]);"\n"===o?n():t+=o}}),n);return e;function n(){if(o.writeSync&&/^win/.test(process.platform))try{o.writeSync(1,t+"\n")}catch(t){e.emit("error",t)}else try{console.log(t)}catch(t){e.emit("error",t)}t=""}}},8772:(t,e,n)=>{"use strict";var r=n(2107),o=n(7187).EventEmitter,i=n(5717),a=n(6547),s=n(3987),u=n(631),c=n(1924),p=n(7642),l=c("RegExp.prototype.test"),f=c("String.prototype.split"),d=c("String.prototype.replace"),h=c("Array.prototype.shift"),y=c("Array.prototype.push"),g=/:|-|\?/,v="undefined"!=typeof setImmediate?setImmediate:process.nextTick;function m(t){return d(String(t),/\s+/g," ")}function b(){if(!(this instanceof b))return new b;this.count=0,this.fail=0,this.pass=0,this.todo=0,this._stream=a(),this.tests=[],this._only=null,this._isRunning=!1}function _(t){if(!t._only)return h(t.tests);do{var e=h(t.tests);if(e&&t._only===e)return e}while(0!==t.tests.length)}function w(t){return l(g,t)}t.exports=b,i(b,o),b.prototype.createStream=function(t){t||(t={});var e,n=this,r=0;return t.objectMode?(e=a(),n.on("_push",(function t(n,o){o||(o={});var i=r++;n.once("prerun",(function(){var t={type:"test",name:n.name,id:i,skip:n._skip,todo:n._todo};p(o,"parent")&&(t.parent=o.parent),e.queue(t)})),n.on("test",(function(e){t(e,{parent:i})})),n.on("result",(function(t){t&&"object"==typeof t&&(t.test=i,t.type="assert"),e.queue(t)})),n.on("end",(function(){e.queue({type:"end",test:i})}))})),n.on("done",(function(){e.queue(null)}))):((e=s()).queue("TAP version 13\n"),n._stream.pipe(e)),this._isRunning||(this._isRunning=!0,v((function t(){for(var e;e=_(n);)if(e.run(),!e.ended)return void e.once("end",(function(){v(t)}));n.emit("done")}))),e},b.prototype.push=function(t){var e=this;y(e.tests,t),e._watch(t),e.emit("_push",t)},b.prototype.only=function(t){this._only=t},b.prototype._watch=function(t){var e=this,n=function(t){e._stream.queue(t)};t.once("prerun",(function(){var e="";t._skip?e="SKIP ":t._todo&&(e="TODO "),n("# "+e+m(t.name)+"\n")})),t.on("result",(function(t){"string"!=typeof t?(n(function(t,e){var n="";n+=(t.ok?"ok ":"not ok ")+e,n+=t.name?" "+m(t.name):"",t.skip?n+=" # SKIP"+("string"==typeof t.skip?" "+m(t.skip):""):t.todo&&(n+=" # TODO"+("string"==typeof t.todo?" "+m(t.todo):""));if(n+="\n",t.ok)return n;var o="  ",i=o+"  ";if(n+=o+"---\n",n+=i+"operator: "+t.operator+"\n",p(t,"expected")||p(t,"actual")){var a=u(t.expected,{depth:t.objectPrintDepth}),s=u(t.actual,{depth:t.objectPrintDepth});Math.max(a.length,s.length)>65||w(a)||w(s)?(n+=i+"expected: |-\n"+i+"  "+a+"\n",n+=i+"actual: |-\n"+i+"  "+s+"\n"):(n+=i+"expected: "+a+"\n",n+=i+"actual:   "+s+"\n")}t.at&&(n+=i+"at: "+t.at+"\n");var c=!t.actual||"object"!=typeof t.actual&&"function"!=typeof t.actual?void 0:t.actual.stack,l=t.error&&t.error.stack,d=r(c,l);if(d){var h=f(String(d),"\n");n+=i+"stack: |-\n";for(var y=0;y<h.length;y++)n+=i+"  "+h[y]+"\n"}return n+=o+"...\n"}(t,e.count+1)),e.count++,t.ok||t.todo?e.pass++:(e.fail++,e.emit("fail"))):n("# "+t+"\n")})),t.on("test",(function(t){e._watch(t)}))},b.prototype.close=function(){var t=this;t.closed&&t._stream.emit("error",new Error("ALREADY CLOSED")),t.closed=!0;var e=function(e){t._stream.queue(e)};e("\n1.."+t.count+"\n"),e("# tests "+t.count+"\n"),e("# pass  "+(t.pass+t.todo)+"\n"),t.todo&&e("# todo  "+t.todo+"\n"),t.fail?e("# fail  "+t.fail+"\n"):e("\n# ok\n"),t._stream.queue(null)}},4100:(t,e,n)=>{"use strict";var r=n(251),o=n(2107),i=n(643),a=n(5717),s=n(7187).EventEmitter,u=n(7642),c=n(8420),p=n(6057),l=n(1924),f=n(4029),d=n(631),h=n(609),y=l("Object.prototype.propertyIsEnumerable"),g=l("String.prototype.toLowerCase"),v=l("Object.prototype.isPrototypeOf"),m=l("RegExp.prototype.test"),b=l("Object.prototype.toString"),_=l("String.prototype.split"),w=l("String.prototype.replace"),x=l("String.prototype.slice"),E=l("Array.prototype.push"),S=l("Array.prototype.shift");t.exports=k;var A="undefined"!=typeof setImmediate?setImmediate:process.nextTick,O=setTimeout,j=clearTimeout;a(k,s);var N=function(t,e,n){for(var r,o="(anonymous)",i={},a=0;a<arguments.length;a++){var s=arguments[a],u=typeof s;"string"===u?o=s:"object"===u?i=s||i:"function"===u&&(r=s)}return{name:o,opts:i,cb:r}};function k(t,e,n){if(!(this instanceof k))return new k(t,e,n);var r=N(t,e,n);this.readable=!0,this.name=r.name||"(anonymous)",this.assertCount=0,this.pendingCount=0,this._skip=r.opts.skip||!1,this._todo=r.opts.todo||!1,this._timeout=r.opts.timeout,this._plan=void 0,this._cb=r.cb,this._progeny=[],this._teardown=[],this._ok=!0;var o=process.env.NODE_TAPE_OBJECT_PRINT_DEPTH;for(var i in r.opts.objectPrintDepth?this._objectPrintDepth=r.opts.objectPrintDepth:o?"infinity"===g(o)?this._objectPrintDepth=1/0:this._objectPrintDepth=o:this._objectPrintDepth=5,this)this[i]=function(t,e){return"function"==typeof e?function(){return e.apply(t,arguments)}:e}(this,this[i])}k.prototype.run=function(){if(this.emit("prerun"),this._cb&&!this._skip){null!=this._timeout&&this.timeoutAfter(this._timeout);var t=this._cb(this);if("function"==typeof Promise&&t&&"function"==typeof t.then){var e=this;Promise.resolve(t).then((function(){e.calledEnd||e.end()})).catch((function(t){t instanceof Error||"[object Error]"===b(t)?e.ifError(t):e.fail(t),e.end()}))}else this.emit("run")}else this._end()},k.prototype.test=function(t,e,n){var r=this,o=new k(t,e,n);E(this._progeny,o),this.pendingCount++,this.emit("test",o),o.on("prerun",(function(){r.assertCount++})),r._pendingAsserts()||A((function(){r._end()})),A((function(){r._plan||r.pendingCount!=r._progeny.length||r._end()}))},k.prototype.comment=function(t){var e=this;f(_(p(t),"\n"),(function(t){e.emit("result",w(p(t),/^#\s*/,""))}))},k.prototype.plan=function(t){this._plan=t,this.emit("plan",t)},k.prototype.timeoutAfter=function(t){if(!t)throw new Error("timeoutAfter requires a timespan");var e=this,n=O((function(){e.fail(e.name+" timed out after "+t+"ms"),e.end()}),t);this.once("end",(function(){j(n)}))},k.prototype.end=function(t){arguments.length>=1&&t&&this.ifError(t),this.calledEnd&&this.fail(".end() already called"),this.calledEnd=!0,this._end()},k.prototype.teardown=function(t){"function"!=typeof t?this.fail("teardown: "+d(t)+" is not a function"):this._teardown.push(t)},k.prototype._end=function(t){var e=this;if(this._cb||this._todo||this._skip||this.fail("# TODO "+this.name),this._progeny.length){var n=S(this._progeny);return n.on("end",(function(){e._end()})),void n.run()}!function n(){if(0!==e._teardown.length){var r,o=e._teardown.shift();try{r=o()}catch(t){e.fail(t)}r&&"function"==typeof r.then?r.then(n,(function(e){t=t||e})):n()}else!function(){e.ended||e.emit("end");var t=e._pendingAsserts();!e._planError&&void 0!==e._plan&&t&&(e._planError=!0,e.fail("plan != count",{expected:e._plan,actual:e.assertCount}));e.ended=!0}()}()},k.prototype._exit=function(){void 0===this._plan||this._planError||this.assertCount===this._plan?this.ended||this.fail("test exited without ending: "+this.name,{exiting:!0}):(this._planError=!0,this.fail("plan != count",{expected:this._plan,actual:this.assertCount,exiting:!0}))},k.prototype._pendingAsserts=function(){return void 0===this._plan?1:this._plan-(this._progeny.length+this.assertCount)},k.prototype._assert=function(t,e){var n=this,r=e.extra||{};t=!!t||!!r.skip;var a=o(r.message,e.message,"(unnamed assert)");if(this.calledEnd&&"fail"!==e.operator)this.fail(".end() already called: "+a);else{var s={id:n.assertCount++,ok:t,skip:o(r.skip,e.skip),todo:o(r.todo,e.todo,n._todo),name:a,operator:o(r.operator,e.operator),objectPrintDepth:n._objectPrintDepth};if((u(e,"actual")||u(r,"actual"))&&(s.actual=o(r.actual,e.actual)),(u(e,"expected")||u(r,"expected"))&&(s.expected=o(r.expected,e.expected)),this._ok=!(!this._ok||!t),t||s.todo||(s.error=o(r.error,e.error,new Error(s.name))),!t)for(var c=new Error("exception"),p=_(c.stack||"","\n"),l="/"+i.sep,f=0;f<p.length;f++){var d=w(w(p[f],process.cwd(),"/$CWD"),"/","/$TEST"),h=/^(?:[^\s]*\s*\bat\s+)(?:(.*)\s+\()?((?:\/|[a-zA-Z]:\\)[^:)]+:(\d+)(?::(\d+))?)\)?$/.exec(d);if(h){var y=h[1]||"<anonymous>",g=w(w(h[2],"/$CWD",process.cwd()),"/$TEST","/");if(x(g,0,l.length)!==l){s.functionName=_(y,/\s+/)[0],s.file=g,s.line=Number(h[3]),h[4]&&(s.column=Number(h[4])),s.at=y+" ("+g+")";break}}}n.emit("result",s);var v=n._pendingAsserts();v||(r.exiting?n._end():A((function(){n._end()}))),!n._planError&&v<0&&(n._planError=!0,n.fail("plan != count",{expected:n._plan,actual:n._plan-v}))}},k.prototype.fail=function(t,e){this._assert(!1,{message:t,operator:"fail",extra:e})},k.prototype.pass=function(t,e){this._assert(!0,{message:t,operator:"pass",extra:e})},k.prototype.skip=function(t,e){this._assert(!0,{message:t,operator:"skip",skip:!0,extra:e})};k.prototype.ok=k.prototype.true=k.prototype.assert=function(t,e,n){this._assert(t,{message:o(e,"should be truthy"),operator:"ok",expected:!0,actual:t,extra:n})},k.prototype.notOk=k.prototype.false=k.prototype.notok=function(t,e,n){this._assert(!t,{message:o(e,"should be falsy"),operator:"notOk",expected:!1,actual:t,extra:n})},k.prototype.error=k.prototype.ifError=k.prototype.ifErr=k.prototype.iferror=function(t,e,n){this._assert(!t,{message:o(e,String(t)),operator:"error",error:t,extra:n})},k.prototype.equal=k.prototype.equals=k.prototype.isEqual=k.prototype.strictEqual=k.prototype.strictEquals=k.prototype.is=function(t,e,n,r){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(h(t,e),{message:o(n,"should be strictly equal"),operator:"equal",actual:t,expected:e,extra:r})},k.prototype.notEqual=k.prototype.notEquals=k.prototype.isNotEqual=k.prototype.doesNotEqual=k.prototype.isInequal=k.prototype.notStrictEqual=k.prototype.notStrictEquals=k.prototype.isNot=k.prototype.not=function(t,e,n,r){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(!h(t,e),{message:o(n,"should not be strictly equal"),operator:"notEqual",actual:t,expected:e,extra:r})},k.prototype.looseEqual=k.prototype.looseEquals=function(t,e,n,r){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(t==e,{message:o(n,"should be loosely equal"),operator:"looseEqual",actual:t,expected:e,extra:r})},k.prototype.notLooseEqual=k.prototype.notLooseEquals=function(t,e,n,r){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(t!=e,{message:o(n,"should not be loosely equal"),operator:"notLooseEqual",actual:t,expected:e,extra:r})},k.prototype.deepEqual=k.prototype.deepEquals=k.prototype.isEquivalent=k.prototype.same=function(t,e,n,i){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(r(t,e,{strict:!0}),{message:o(n,"should be deeply equivalent"),operator:"deepEqual",actual:t,expected:e,extra:i})},k.prototype.notDeepEqual=k.prototype.notDeepEquals=k.prototype.notEquivalent=k.prototype.notDeeply=k.prototype.notSame=k.prototype.isNotDeepEqual=k.prototype.isNotDeeply=k.prototype.isNotEquivalent=k.prototype.isInequivalent=function(t,e,n,i){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(!r(t,e,{strict:!0}),{message:o(n,"should not be deeply equivalent"),operator:"notDeepEqual",actual:t,expected:e,extra:i})},k.prototype.deepLooseEqual=function(t,e,n,i){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(r(t,e),{message:o(n,"should be loosely deeply equivalent"),operator:"deepLooseEqual",actual:t,expected:e,extra:i})},k.prototype.notDeepLooseEqual=function(t,e,n,i){if(arguments.length<2)throw new TypeError("two arguments must be provided to compare");this._assert(!r(t,e),{message:o(n,"should not be loosely deeply equivalent"),operator:"notDeepLooseEqual",actual:t,expected:e,extra:i})},k.prototype.throws=function(t,e,n,i){var a;"string"==typeof e&&(n=e,e=void 0);try{t()}catch(t){if(a={error:t},!(Object(t)!==t||y(t,"message")&&u(t,"message"))){var s=t.message;delete t.message,t.message=s}}var p=a;if(a){if("string"==typeof e&&a.error&&a.error.message===e)throw new TypeError('The "error/message" argument is ambiguous. The error message '+d(e)+" is identical to the message.");if("function"==typeof e)p=void 0!==e.prototype&&a.error instanceof e||!v(Error,e)&&!0===e.call({},a.error);else if(c(e))p=e.test(a.error),e=d(e);else if(e&&"object"==typeof e){var l=Object.keys(e);if(e instanceof Error)E(l,"name","message");else if(0===l.length)throw new TypeError("`throws` validation object must not be empty");p=l.every((function(t){return!("string"!=typeof a.error[t]||!c(e[t])||!m(e[t],a.error[t]))||!(!(t in a.error)||!r(a.error[t],e[t],{strict:!0}))}))}}this._assert(!!p,{message:o(n,"should throw"),operator:"throws",actual:a&&a.error,expected:e,error:!p&&a&&a.error,extra:i})},k.prototype.doesNotThrow=function(t,e,n,r){var i;"string"==typeof e&&(n=e,e=void 0);try{t()}catch(t){i={error:t}}this._assert(!i,{message:o(n,"should not throw"),operator:"throws",actual:i&&i.error,expected:e,error:i&&i.error,extra:r})},k.prototype.match=function(t,e,n,r){if(!c(e))throw new TypeError('The "regexp" argument must be an instance of RegExp. Received type '+typeof e+" ("+d(e)+")");if("string"!=typeof t)throw new TypeError('The "string" argument must be of type string. Received type '+typeof t+" ("+d(t)+")");var i=m(e,t),a=o(n,"The input "+(i?"matched":"did not match")+" the regular expression "+d(e)+". Input: "+d(t));this._assert(i,{message:a,operator:"match",actual:t,expected:e,extra:r})},k.prototype.doesNotMatch=function(t,e,n,r){if(!c(e))throw new TypeError('The "regexp" argument must be an instance of RegExp. Received type '+typeof e+" ("+d(e)+")");if("string"!=typeof t)throw new TypeError('The "string" argument must be of type string. Received type '+typeof t+" ("+d(t)+")");var i=m(e,t),a=o(n,"The input "+(i?"was expected to not match":"did not match")+" the regular expression "+d(e)+". Input: "+d(t));this._assert(!i,{message:a,operator:"doesNotMatch",actual:t,expected:e,extra:r})},k.skip=function(t,e,n){var r=N.apply(null,arguments);return r.opts.skip=!0,new k(r.name,r.opts,r.cb)}},2107:t=>{t.exports=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},6547:(t,e,n)=>{var r=n(7956);function o(t,e,n){t=t||function(t){this.queue(t)},e=e||function(){this.queue(null)};var o=!1,i=!1,a=[],s=!1,u=new r;function c(){for(;a.length&&!u.paused;){var t=a.shift();if(null===t)return u.emit("end");u.emit("data",t)}}function p(){u.writable=!1,e.call(u),!u.readable&&u.autoDestroy&&u.destroy()}return u.readable=u.writable=!0,u.paused=!1,u.autoDestroy=!(n&&!1===n.autoDestroy),u.write=function(e){return t.call(this,e),!u.paused},u.queue=u.push=function(t){return s||(null===t&&(s=!0),a.push(t),c()),u},u.on("end",(function(){u.readable=!1,!u.writable&&u.autoDestroy&&process.nextTick((function(){u.destroy()}))})),u.end=function(t){if(!o)return o=!0,arguments.length&&u.write(t),p(),u},u.destroy=function(){if(!i)return i=!0,o=!0,a.length=0,u.writable=u.readable=!1,u.emit("close"),u},u.pause=function(){if(!u.paused)return u.paused=!0,u},u.resume=function(){return u.paused&&(u.paused=!1,u.emit("resume")),c(),u.paused||u.emit("drain"),u},u}t.exports=o,o.through=o},3679:(t,e,n)=>{"use strict";var r=n(9981),o=n(4578),i=n(6814),a=n(2636),s=n(3376);t.exports=function(t){return null==t||"object"!=typeof t&&"function"!=typeof t?null:r(t)?"String":o(t)?"Number":i(t)?"Boolean":a(t)?"Symbol":s(t)?"BigInt":void 0}},6430:(t,e,n)=>{"use strict";var r=n(9804),o=n(3083),i=n(1924),a=i("Object.prototype.toString"),s=n(6410)(),u=o(),c=i("String.prototype.slice"),p={},l=n(882),f=Object.getPrototypeOf;s&&l&&f&&r(u,(function(t){if("function"==typeof n.g[t]){var e=new n.g[t];if(Symbol.toStringTag in e){var r=f(e),o=l(r,Symbol.toStringTag);if(!o){var i=f(r);o=l(i,Symbol.toStringTag)}p[t]=o.get}}}));var d=n(5692);t.exports=function(t){return!!d(t)&&(s&&Symbol.toStringTag in t?function(t){var e=!1;return r(p,(function(n,r){if(!e)try{var o=n.call(t);o===r&&(e=o)}catch(t){}})),e}(t):c(a(t),8,-1))}},4654:()=>{},2906:()=>{},643:()=>{},7956:()=>{},3083:(t,e,n)=>{"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"];t.exports=function(){for(var t=[],e=0;e<r.length;e++)"function"==typeof n.g[r[e]]&&(t[t.length]=r[e]);return t}},6237:(t,e,n)=>{"use strict";t.exports=n(4559)},2167:(t,e,n)=>{"use strict";var r=n(210),o=r("%String%"),i=r("%TypeError%");t.exports=function(t){if("symbol"==typeof t)throw new i("Cannot convert a Symbol value to a string");return o(t)}},4559:(t,e,n)=>{"use strict";var r=n(210)("%TypeError%");t.exports=function(t,e){if(null==t)throw new r(e||"Cannot call method on "+t);return t}},882:(t,e,n)=>{"use strict";var r=n(210)("%Object.getOwnPropertyDescriptor%");if(r)try{r([],"length")}catch(t){r=null}t.exports=r},3216:(t,e,n)=>{"use strict";var r=n(2584);if(n(1405)()||n(5419)()){var o=Symbol.iterator;t.exports=function(t){return null!=t&&void 0!==t[o]?t[o]():r(t)?Array.prototype[o].call(t):void 0}}else{var i=n(5677),a=n(9981),s=n(210),u=s("%Map%",!0),c=s("%Set%",!0),p=n(1924),l=p("Array.prototype.push"),f=p("String.prototype.charCodeAt"),d=p("String.prototype.slice"),h=function(t){var e=0;return{next:function(){var n,r=e>=t.length;return r||(n=t[e],e+=1),{done:r,value:n}}}},y=function(t,e){if(i(t)||r(t))return h(t);if(a(t)){var n=0;return{next:function(){var e=function(t,e){if(e+1>=t.length)return e+1;var n=f(t,e);if(n<55296||n>56319)return e+1;var r=f(t,e+1);return r<56320||r>57343?e+1:e+2}(t,n),r=d(t,n,e);return n=e,{done:e>t.length,value:r}}}}return e&&void 0!==t["_es6-shim iterator_"]?t["_es6-shim iterator_"]():void 0};if(u||c){var g=n(8379),v=n(9572),m=p("Map.prototype.forEach",!0),b=p("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var _=p("Map.prototype.iterator",!0),w=p("Set.prototype.iterator",!0),x=function(t){var e=!1;return{next:function(){try{return{done:e,value:e?void 0:t.next()}}catch(t){return e=!0,{done:!0,value:void 0}}}}};var E=p("Map.prototype.@@iterator",!0)||p("Map.prototype._es6-shim iterator_",!0),S=p("Set.prototype.@@iterator",!0)||p("Set.prototype._es6-shim iterator_",!0);t.exports=function(t){return function(t){if(g(t)){if(_)return x(_(t));if(E)return E(t);if(m){var e=[];return m(t,(function(t,n){l(e,[n,t])})),h(e)}}if(v(t)){if(w)return x(w(t));if(S)return S(t);if(b){var n=[];return b(t,(function(t){l(n,t)})),h(n)}}}(t)||y(t)}}else t.exports=function(t){if(null!=t)return y(t,!0)}}},3483:(t,e,n)=>{"use strict";var r=n(8379),o=n(9572),i=n(1718),a=n(5899);t.exports=function(t){if(t&&"object"==typeof t){if(r(t))return"Map";if(o(t))return"Set";if(i(t))return"WeakMap";if(a(t))return"WeakSet"}return!1}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{"use strict";function t(){}n.r(r),t.strParse=function(t,e){if(""===t)return[{base:"",sub:void 0,sup:void 0}];var n=t.split(",");if(!1===e)return n.map((function(t){return{base:t,sub:void 0,sup:void 0}}));var r=/_/g,o=/([0-9-]+:)?([&#;A-Za-z0-9-.]+)(_[&#;A-Za-z0-9-._]+)?(\^.+)?/;return n.map((function(t){var e,n,i;if((t.match(r)||[]).length>1){var a=t.match(/(.+)\^(.+)/);return a?{base:a[1],sub:void 0,sup:a[2]}:{base:t,sub:void 0,sup:void 0}}var s=t.match(o);if(!s)throw new Error("Labelizer.strParse: Can not parse '".concat(t,"'"));return e=(s[1]?s[1]:"")+s[2],s[3]&&(n=s[3].substring(1)),s[4]&&(i=s[4].substring(1)),{base:e,sub:n,sup:i}}),this)},t._createVarListLabel=function(e,n,r,o,i,a){t.strParse(n,i).every((function(t,n,i){var s=0,u=0;return o<1||n<5&&r.nodes()[0].getBBox().width<100?(r.append("tspan").html((function(){return a?"<a class='subxdsm-link' href=\"#".concat(a,'">').concat(t.base,"</a>"):t.base})),t.sub&&(s=10,r.append("tspan").attr("class","sub").attr("dy",s).html(t.sub)),t.sup&&(u=-10,r.append("tspan").attr("class","sup").attr("dx",-5).attr("dy",-s+u).html(t.sup),s=0),n<i.length-1&&r.append("tspan").attr("dy",-s-u).html(", "),!0):(r.append("tspan").attr("dy",-s-u).html("..."),e.classed("ellipsized",!0),!1)}),this)},t._createLinkNbLabel=function(t,e,n){var r=e.split(","),o="".concat(r.length," var");r.length>1&&(o+="s"),n.append("tspan").html(o),t.classed("ellipsized",!0)},t.labelize=function(){var e=0,n=!0,r=!1,o="node",i=!1;function a(a){a.each((function(s){var u=a.append("text");r&&"node"!==o?t._createLinkNbLabel(a,s.name,u):t._createVarListLabel(a,s.name,u,e,n,i)}))}return a.ellipsis=function(t){return arguments.length?(e=t,a):e},a.subSupScript=function(t){return arguments.length?(n=t,a):n},a.linkNbOnly=function(t){return arguments.length?(r=t,a):r},a.labelKind=function(t){return arguments.length?(o=t,a):o},a.subXdsmLink=function(t){return arguments.length?(i=t,a):i},a},t.tooltipize=function(){var e="",n=!1;function r(r){var o=[];n?t.strParse(e).forEach((function(t){var e=t.base;t.sub&&(e+="<sub>".concat(t.sub,"</sub>")),t.sup&&(e+="<sup>".concat(t.sup,"</sup>")),o.push(e)})):o=e.split(",");r.html(o.join(", "))}return r.text=function(t){return arguments.length?(e=t,r):e},r.subSupScript=function(t){return arguments.length?(n=t,r):n},r};const e=t;var o={UNKNOWN:"UNKNOWN",PENDING:"PENDING",RUNNING:"RUNNING",DONE:"DONE",FAILED:"FAILED"};function i(t,e,n,r,i){var a=e||t,s=n||"function",u=r||o.UNKNOWN;if(void 0===o[u])throw Error("Unknown status '".concat(u,"' for node ").concat(a,"(id=").concat(t,")"));this.id=t,this.name=a,this.isMulti=s.search(/_multi$/)>=0,this.type=this.isMulti?s.substr(0,s.length-"_multi".length):s,this.status=u,this.subxdsm=i}function a(t,e,n,r,o,i){var a=this;if(this.id="link_".concat(t,"_").concat(e),"string"==typeof n){this.name=n,this.vars={},this.name.split(",").forEach((function(t,e){a.vars[e]=t.trim()}))}else{this.vars=n;var s=[];for(var u in this.vars)Object.prototype.hasOwnProperty.call(this.vars,u)&&s.push(this.vars[u]);this.name=s.join(", ")}this.row=r,this.col=o,this.iotype=r<o?"in":"out",this.isMulti=i}function s(t,e){var n=this,r=void 0===e||e;this.nodes=[],r&&(this.nodes=[new i("_U_","User","driver")]),this.edges=[],this.chains=[];var o=s.number(t.workflow),a=o.toNum;this.nodesByStep=o.toNode,t.nodes.forEach((function(t){var e=a[t.id];n.nodes.push(new i(t.id,e?"".concat(e,":").concat(t.name):t.name,t.type,t.status,t.subxdsm))}),this),this.uid=this.nodes[0].id,t.edges&&t.edges.forEach((function(t){n.addEdge(t.from,t.to,t.vars?t.vars:t.name)}),this),t.workflow&&this._makeChaining(t.workflow)}function u(t){var e,n=[];return t.forEach((function(t){if(t instanceof Array){if(Object.prototype.hasOwnProperty.call(t[0],"parallel")){if(!e)throw new Error("Bad workflow structure : cannot parallel loop without previous starting point.");n=n.slice(0,n.length-1).concat(t[0].parallel.map((function(t){return[e].concat(u([t]),e)})))}else n=e?n.concat(u(t),e):n.concat(u(t));e=n[n.length-1]}else if(Object.prototype.hasOwnProperty.call(t,"parallel"))n=e?n.slice(0,n.length-1).concat(t.parallel.map((function(t){return[e].concat(u([t]))}))):n.concat(t.parallel.map((function(t){return u([t])}))),e=void 0;else{for(var r=n.length-1,o=!1;r>=0&&n[r]instanceof Array;)n[r]=n[r].concat(t),r-=1,o=!0;o||n.push(t),e=t}})),n}i.prototype.isComposite=function(){return"mdo"===this.type||"sub-optimization"===this.type||"group"===this.type||"implicit-group"===this.type},i.prototype.getSubXdsmId=function(){if(this.isComposite()){var t=this.name.indexOf("_scn-");if(-1!==t)return console.log("Use of <name>_scn-<id> pattern in node.name to detect sub scenario 'scn-<id>' is deprecated. Use node.subxdsm property instead (i.e. node.subxdsm = <id>)"),this.name.substr(t+1);if(this.subxdsm)return this.subxdsm;console.log("".concat("Warning: Sub XDSM id not found. Bad type or name for node: ").concat(JSON.stringify(this)))}return null},a.prototype.addVar=function(t){if("string"==typeof t)""===this.name?this.name=t:this.name+=", ".concat(t),this.vars[this.vars.length]=t;else for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){this.vars[e]=t[e];var n=[];for(var r in this.vars)Object.prototype.hasOwnProperty.call(this.vars,r)&&n.push(this.vars[r]);this.name=n.join(", ")}},a.prototype.removeVar=function(t){var e=!1;for(var n in this.vars)n===t&&(this.vars.delete(n),e=!0);if(!e){var r={};for(var o in this.vars)this.vars[o]===t?e=!0:r[o]=this.vars[o];this.vars=r}if(e){var i=[];for(var a in this.vars)Object.prototype.hasOwnProperty.call(this.vars,a)&&i.push(this.vars[a]);this.name=i.join(", ")}},s.NODE_STATUS=o,s.prototype._makeChaining=function(t){var e=this;s.expand(t).forEach((function(t){if(t.length<2)throw new Error("Bad process chain (".concat(t.length,"elt)"));e.chains.push([]);var n=e.nodes.map((function(t){return t.id}));t.forEach((function(r,o){if(0!==o){var i=n.indexOf(t[o-1]);if(i<0)throw new Error("Process chain element (".concat(t[o-1],") not found"));var a=n.indexOf(t[o]);if(a<0)throw new Error("Process chain element (".concat(t[o],") not found"));i!==a&&e.chains[e.chains.length-1].push([i,a])}}),e)}),this)},s.prototype.idxOf=function(t){var e=this.nodes.map((function(t){return t.id})).indexOf(t);if(e<0)throw new Error("Graph.idxOf: ".concat(t," not found in ").concat(JSON.stringify(this.nodes)));return e},s.prototype.getNode=function(t){var e;return this.nodes.forEach((function(n){n.id===t&&(e=n)}),this),e},s.prototype.getNodeFromIndex=function(t){if(!(t>=0&&t<this.nodes.length))throw new Error("Index out of range : ".concat(t," not in [0, ").concat(this.nodes.length-1,"]"));return this.nodes[t]},s.prototype.addNode=function(t){this.nodes.push(new i(t.id,t.name,t.kind))},s.prototype.removeNode=function(t){var e=this,n=this.findEdgesOf(t);n.toRemove.forEach((function(t){var n=e.edges.indexOf(t);n>-1&&e.edges.splice(n,1)}),this),n.toShift.forEach((function(t){t.row>1&&(t.row-=1),t.col>1&&(t.col-=1)}),this),this.nodes.splice(t,1)},s.prototype.moveLeft=function(t){if(t>1){var e=this.nodes[t-1];this.nodes[t-1]=this.nodes[t],this.nodes[t]=e}},s.prototype.moveRight=function(t){if(t<this.nodes.length-1){var e=this.nodes[t+1];this.nodes[t+1]=this.nodes[t],this.nodes[t]=e}},s.prototype.addEdge=function(t,e,n){var r=this.idxOf(t),o=this.idxOf(e),i=this.nodes[r].isMulti||this.nodes[o].isMulti;this.edges.push(new a(t,e,n,r,o,i))},s.prototype.removeEdge=function(t,e){var n=this.findEdge(t,e);this.edges.splice(n.index,1)},s.prototype.addEdgeVar=function(t,e,n){var r=this.findEdge(t,e).element;r?(console.log(n),r.addVar(n)):this.addEdge(t,e,n)},s.prototype.removeEdgeVar=function(t,e,n){var r=this.findEdge(t,e),o=r.element,i=r.index;o&&o.removeVar(n),""===o.name&&this.edges.splice(i,1)},s.prototype.findEdgesOf=function(t){var e=[],n=[];return this.edges.forEach((function(r){r.row===t||r.col===t?e.push(r):(r.row>t||r.col>t)&&n.push(r)}),this),{toRemove:e,toShift:n}},s.prototype.findEdge=function(t,e){var n,r=-1,o=this.idxOf(t),i=this.idxOf(e);return this.edges.some((function(t,e){if(t.row===o&&t.col===i){if(n)throw Error("edge have be uniq between two nodes, but got: ".concat(JSON.stringify(n)," and ").concat(JSON.stringify(t)));return n=t,r=e,!0}return!1}),this),{element:n,index:r}},s._isPatchNeeded=function(t){for(var e=t.map((function(t){return t[t.length-1]})),n=e[0],r=0;r<e.length;r+=1)if(e[r]!==n)return!0;return!1},s._patchParallel=function(t){var e=this,n=[];t.forEach((function(t){t instanceof Array?n.push(t):s._isPatchNeeded(n)&&n.forEach((function(e){e.push(t)}),e)}),this)},s.expand=function(t){var e=u(t),n=[],r=[];return s._patchParallel(e),e.forEach((function(t){if(t instanceof Array)r.length>0&&(r.push(t[0]),n.push(r),r=[]),n.push(t);else{if(n.length>0&&0===r.length){var e=n[n.length-1],o=e[e.length-1];r.push(o)}r.push(t)}}),this),r.length>0&&n.push(r),n},s.number=function(t,e){var n=void 0===e?0:e,r={},o=[];function i(t,e){t in o?o[t].push(e):o[t]=[e]}function a(t,e,o){void 0===o?(n=String(e),i(e,t)):(n="".concat(o,"-").concat(e),i(o,t)),t in r?r[t]+=",".concat(n):r[t]=n}return function t(e,n){var r=0;if(e instanceof Array)if(0===e.length)r=n;else if(1===e.length)r=t(e[0],n);else{var o=e[0],i=e.slice(1),s=t(o,n);if(i[0]instanceof Array){var u=t(i[0],s);a(o,s,u),s=u+1,i.shift()}r=t(i,s)}else if(e instanceof Object&&"parallel"in e){var c=e.parallel.map((function(e){return t(e,n)}));r=Math.max.apply(null,c)}else a(e,n),r=n+1;return r}(t,n),{toNum:r,toNode:o}};const c=s;function p(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function l(){}function f(t){return null==t?l:function(){return this.querySelector(t)}}function d(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function h(){return[]}function y(t){return null==t?h:function(){return this.querySelectorAll(t)}}function g(t){return function(){return this.matches(t)}}function v(t){return function(e){return e.matches(t)}}var m=Array.prototype.find;function b(){return this.firstElementChild}var _=Array.prototype.filter;function w(){return this.children}function x(t){return new Array(t.length)}function E(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function S(t){return function(){return t}}function A(t,e,n,r,o,i){for(var a,s=0,u=e.length,c=i.length;s<c;++s)(a=e[s])?(a.__data__=i[s],r[s]=a):n[s]=new E(t,i[s]);for(;s<u;++s)(a=e[s])&&(o[s]=a)}function O(t,e,n,r,o,i,a){var s,u,c,p=new Map,l=e.length,f=i.length,d=new Array(l);for(s=0;s<l;++s)(u=e[s])&&(d[s]=c=a.call(u,u.__data__,s,e)+"",p.has(c)?o[s]=u:p.set(c,u));for(s=0;s<f;++s)c=a.call(t,i[s],s,i)+"",(u=p.get(c))?(r[s]=u,u.__data__=i[s],p.delete(c)):n[s]=new E(t,i[s]);for(s=0;s<l;++s)(u=e[s])&&p.get(d[s])===u&&(o[s]=u)}function j(t){return t.__data__}function N(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}E.prototype={constructor:E,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var k="http://www.w3.org/1999/xhtml";const P={svg:"http://www.w3.org/2000/svg",xhtml:k,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function q(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),P.hasOwnProperty(e)?{space:P[e],local:t}:t}function D(t){return function(){this.removeAttribute(t)}}function T(t){return function(){this.removeAttributeNS(t.space,t.local)}}function M(t,e){return function(){this.setAttribute(t,e)}}function B(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function I(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function L(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function U(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function R(t){return function(){this.style.removeProperty(t)}}function C(t,e,n){return function(){this.style.setProperty(t,e,n)}}function F(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function G(t,e){return t.style.getPropertyValue(e)||U(t).getComputedStyle(t,null).getPropertyValue(e)}function z(t){return function(){delete this[t]}}function W(t,e){return function(){this[t]=e}}function $(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function X(t){return t.trim().split(/^|\s+/)}function V(t){return t.classList||new H(t)}function H(t){this._node=t,this._names=X(t.getAttribute("class")||"")}function Y(t,e){for(var n=V(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function J(t,e){for(var n=V(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function K(t){return function(){Y(this,t)}}function Z(t){return function(){J(this,t)}}function Q(t,e){return function(){(e.apply(this,arguments)?Y:J)(this,t)}}function tt(){this.textContent=""}function et(t){return function(){this.textContent=t}}function nt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function rt(){this.innerHTML=""}function ot(t){return function(){this.innerHTML=t}}function it(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function at(){this.nextSibling&&this.parentNode.appendChild(this)}function st(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ut(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===k&&e.documentElement.namespaceURI===k?e.createElement(t):e.createElementNS(n,t)}}function ct(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function pt(t){var e=q(t);return(e.local?ct:ut)(e)}function lt(){return null}function ft(){var t=this.parentNode;t&&t.removeChild(this)}function dt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ht(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function gt(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?e.length=o:delete this.__on}}}function vt(t,e,n){return function(){var r,o=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=e);this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},o?o.push(r):this.__on=[r]}}function mt(t,e,n){var r=U(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function bt(t,e){return function(){return mt(this,t,e)}}function _t(t,e){return function(){return mt(this,t,e.apply(this,arguments))}}H.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var wt=[null];function xt(t,e){this._groups=t,this._parents=e}function Et(){return new xt([[document.documentElement]],wt)}xt.prototype=Et.prototype={constructor:xt,select:function(t){"function"!=typeof t&&(t=f(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=e[o],u=s.length,c=r[o]=new Array(u),p=0;p<u;++p)(i=s[p])&&(a=t.call(i,i.__data__,p,s))&&("__data__"in i&&(a.__data__=i.__data__),c[p]=a);return new xt(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:d(e)}}(t):y(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a,s=e[i],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),o.push(a));return new xt(r,o)},selectChild:function(t){return this.select(null==t?b:function(t){return function(){return m.call(this.children,t)}}("function"==typeof t?t:v(t)))},selectChildren:function(t){return this.selectAll(null==t?w:function(t){return function(){return _.call(this.children,t)}}("function"==typeof t?t:v(t)))},filter:function(t){"function"!=typeof t&&(t=g(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,u=r[o]=[],c=0;c<s;++c)(i=a[c])&&t.call(i,i.__data__,c,a)&&u.push(i);return new xt(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,j);var n=e?O:A,r=this._parents,o=this._groups;"function"!=typeof t&&(t=S(t));for(var i=o.length,a=new Array(i),s=new Array(i),u=new Array(i),c=0;c<i;++c){var p=r[c],l=o[c],f=l.length,h=d(t.call(p,p&&p.__data__,c,r)),y=h.length,g=s[c]=new Array(y),v=a[c]=new Array(y),m=u[c]=new Array(f);n(p,l,g,v,m,h,e);for(var b,_,w=0,x=0;w<y;++w)if(b=g[w]){for(w>=x&&(x=w+1);!(_=v[x])&&++x<y;);b._next=_||null}}return(a=new xt(a,r))._enter=s,a._exit=u,a},enter:function(){return new xt(this._enter||this._groups.map(x),this._parents)},exit:function(){return new xt(this._exit||this._groups.map(x),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(o=e(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){if(!(t instanceof xt))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var u,c=e[s],p=n[s],l=c.length,f=a[s]=new Array(l),d=0;d<l;++d)(u=c[d]||p[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new xt(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=N);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],u=s.length,c=o[i]=new Array(u),p=0;p<u;++p)(a=s[p])&&(c[p]=a);c.sort(e)}return new xt(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,s=i.length;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=q(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?T:D:"function"==typeof e?n.local?L:I:n.local?B:M)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?R:"function"==typeof e?F:C)(t,e,null==n?"":n)):G(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?z:"function"==typeof e?$:W)(t,e)):this.node()[t]},classed:function(t,e){var n=X(t+"");if(arguments.length<2){for(var r=V(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?Q:e?K:Z)(n,e))},text:function(t){return arguments.length?this.each(null==t?tt:("function"==typeof t?nt:et)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?rt:("function"==typeof t?it:ot)(t)):this.node().innerHTML},raise:function(){return this.each(at)},lower:function(){return this.each(st)},append:function(t){var e="function"==typeof t?t:pt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:pt(t),r=null==e?lt:"function"==typeof e?e:f(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ft)},clone:function(t){return this.select(t?ht:dt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=yt(t+""),a=i.length;if(!(arguments.length<2)){for(s=e?vt:gt,r=0;r<a;++r)this.each(s(i[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,p=s.length;c<p;++c)for(r=0,u=s[c];r<a;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?_t:bt)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,o=t[e],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};const St=Et;function At(t){return"string"==typeof t?new xt([[document.querySelector(t)]],[document.documentElement]):new xt([[t]],wt)}function Ot(t){return"string"==typeof t?new xt([document.querySelectorAll(t)],[document.documentElement]):new xt([null==t?[]:d(t)],wt)}var jt={value:()=>{}};function Nt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new kt(r)}function kt(t){this._=t}function Pt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function qt(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function Dt(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=jt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}kt.prototype=Nt.prototype={constructor:kt,on:function(t,e){var n,r=this._,o=Pt(t+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<a;)if(n=(t=o[i]).type)r[n]=Dt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Dt(r[n],t.name,null);return this}for(;++i<a;)if((n=(t=o[i]).type)&&(n=qt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new kt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};const Tt=Nt;var Mt,Bt,It=0,Lt=0,Ut=0,Rt=0,Ct=0,Ft=0,Gt="object"==typeof performance&&performance.now?performance:Date,zt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Wt(){return Ct||(zt($t),Ct=Gt.now()+Ft)}function $t(){Ct=0}function Xt(){this._call=this._time=this._next=null}function Vt(t,e,n){var r=new Xt;return r.restart(t,e,n),r}function Ht(){Ct=(Rt=Gt.now())+Ft,It=Lt=0;try{!function(){Wt(),++It;for(var t,e=Mt;e;)(t=Ct-e._time)>=0&&e._call.call(null,t),e=e._next;--It}()}finally{It=0,function(){var t,e,n=Mt,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Mt=e);Bt=t,Jt(r)}(),Ct=0}}function Yt(){var t=Gt.now(),e=t-Rt;e>1e3&&(Ft-=e,Rt=t)}function Jt(t){It||(Lt&&(Lt=clearTimeout(Lt)),t-Ct>24?(t<1/0&&(Lt=setTimeout(Ht,t-Gt.now()-Ft)),Ut&&(Ut=clearInterval(Ut))):(Ut||(Rt=Gt.now(),Ut=setInterval(Yt,1e3)),It=1,zt(Ht)))}function Kt(t,e,n){var r=new Xt;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Xt.prototype=Vt.prototype={constructor:Xt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Wt():+n)+(null==e?0:+e),this._next||Bt===this||(Bt?Bt._next=this:Mt=this,Bt=this),this._call=t,this._time=n,Jt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jt())}};var Zt=Tt("start","end","cancel","interrupt"),Qt=[];function te(t,e,n,r,o,i){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function i(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(i){var c,p,l,f;if(1!==n.state)return u();for(c in o)if((f=o[c]).name===n.name){if(3===f.state)return Kt(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete o[c]):+c<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete o[c])}if(Kt((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(l=n.tween.length),c=0,p=-1;c<l;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++p]=f);r.length=p+1}}function s(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(t,o);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=Vt(i,0,n.time)}(t,n,{name:e,index:r,group:o,on:Zt,tween:Qt,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function ee(t,e){var n=re(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function ne(t,e){var n=re(t,e);if(n.state>3)throw new Error("too late; already running");return n}function re(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function oe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var ie,ae=180/Math.PI,se={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ue(t,e,n,r,o,i){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*ae,skewX:Math.atan(u)*ae,scaleX:a,scaleY:s}}function ce(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var s=[],u=[];return i=t(i),a=t(a),function(t,r,o,i,a,s){if(t!==o||r!==i){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:oe(t,o)},{i:u-2,x:oe(r,i)})}else(o||i)&&a.push("translate("+o+e+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,u),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:oe(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(i.rotate,a.rotate,s,u),function(t,e,n,i){t!==e?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:oe(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(i.skewX,a.skewX,s,u),function(t,e,n,r,i,a){if(t!==n||e!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:oe(t,n)},{i:s-2,x:oe(e,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,u),i=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var pe=ce((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?se:ue(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),le=ce((function(t){return null==t?se:(ie||(ie=document.createElementNS("http://www.w3.org/2000/svg","g")),ie.setAttribute("transform",t),(t=ie.transform.baseVal.consolidate())?ue((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):se)}),", ",")",")");function fe(t,e){var n,r;return function(){var o=ne(this,t),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}o.tween=r}}function de(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=ne(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:e,value:n},u=0,c=o.length;u<c;++u)if(o[u].name===e){o[u]=s;break}u===c&&o.push(s)}i.tween=o}}function he(t,e,n){var r=t._id;return t.each((function(){var t=ne(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return re(t,r).value[e]}}function ye(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ge(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ve(){}var me=.7,be=1/me,_e="\\s*([+-]?\\d+)\\s*",we="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",xe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ee=/^#([0-9a-f]{3,8})$/,Se=new RegExp("^rgb\\("+[_e,_e,_e]+"\\)$"),Ae=new RegExp("^rgb\\("+[xe,xe,xe]+"\\)$"),Oe=new RegExp("^rgba\\("+[_e,_e,_e,we]+"\\)$"),je=new RegExp("^rgba\\("+[xe,xe,xe,we]+"\\)$"),Ne=new RegExp("^hsl\\("+[we,xe,xe]+"\\)$"),ke=new RegExp("^hsla\\("+[we,xe,xe,we]+"\\)$"),Pe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qe(){return this.rgb().formatHex()}function De(){return this.rgb().formatRgb()}function Te(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ee.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Me(e):3===n?new Ue(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Be(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Be(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Se.exec(t))?new Ue(e[1],e[2],e[3],1):(e=Ae.exec(t))?new Ue(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Oe.exec(t))?Be(e[1],e[2],e[3],e[4]):(e=je.exec(t))?Be(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ne.exec(t))?Ge(e[1],e[2]/100,e[3]/100,1):(e=ke.exec(t))?Ge(e[1],e[2]/100,e[3]/100,e[4]):Pe.hasOwnProperty(t)?Me(Pe[t]):"transparent"===t?new Ue(NaN,NaN,NaN,0):null}function Me(t){return new Ue(t>>16&255,t>>8&255,255&t,1)}function Be(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ue(t,e,n,r)}function Ie(t){return t instanceof ve||(t=Te(t)),t?new Ue((t=t.rgb()).r,t.g,t.b,t.opacity):new Ue}function Le(t,e,n,r){return 1===arguments.length?Ie(t):new Ue(t,e,n,null==r?1:r)}function Ue(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Re(){return"#"+Fe(this.r)+Fe(this.g)+Fe(this.b)}function Ce(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Fe(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ge(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new We(t,e,n,r)}function ze(t){if(t instanceof We)return new We(t.h,t.s,t.l,t.opacity);if(t instanceof ve||(t=Te(t)),!t)return new We;if(t instanceof We)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,s=i-o,u=(i+o)/2;return s?(a=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new We(a,s,u,t.opacity)}function We(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function $e(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Xe(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}ye(ve,Te,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:qe,formatHex:qe,formatHsl:function(){return ze(this).formatHsl()},formatRgb:De,toString:De}),ye(Ue,Le,ge(ve,{brighter:function(t){return t=null==t?be:Math.pow(be,t),new Ue(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?me:Math.pow(me,t),new Ue(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Re,formatHex:Re,formatRgb:Ce,toString:Ce})),ye(We,(function(t,e,n,r){return 1===arguments.length?ze(t):new We(t,e,n,null==r?1:r)}),ge(ve,{brighter:function(t){return t=null==t?be:Math.pow(be,t),new We(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?me:Math.pow(me,t),new We(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Ue($e(t>=240?t-240:t+120,o,r),$e(t,o,r),$e(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Ve=t=>()=>t;function He(t,e){return function(n){return t+n*e}}function Ye(t){return 1==(t=+t)?Je:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Ve(isNaN(e)?n:e)}}function Je(t,e){var n=e-t;return n?He(t,n):Ve(isNaN(t)?e:t)}const Ke=function t(e){var n=Ye(e);function r(t,e){var r=n((t=Le(t)).r,(e=Le(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=Je(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Ze(t){return function(e){var n,r,o=e.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=Le(e[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=t(i),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=i(t),r.g=a(t),r.b=s(t),r+""}}}Ze((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,s=r<e-1?t[r+2]:2*i-o;return Xe((n-r/e)*e,a,o,i,s)}})),Ze((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Xe((n-r/e)*e,o,i,a,s)}}));var Qe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tn=new RegExp(Qe.source,"g");function en(t,e){var n,r,o,i=Qe.lastIndex=tn.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Qe.exec(t))&&(r=tn.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:oe(n,r)})),i=tn.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function nn(t,e){var n;return("number"==typeof e?oe:e instanceof Te?Ke:(n=Te(e))?(e=n,Ke):en)(t,e)}function rn(t){return function(){this.removeAttribute(t)}}function on(t){return function(){this.removeAttributeNS(t.space,t.local)}}function an(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function sn(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function un(t,e,n){var r,o,i;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===o?i:(o=s,i=e(r=a,u));this.removeAttribute(t)}}function cn(t,e,n){var r,o,i;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===o?i:(o=s,i=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function pn(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ln(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function fn(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ln(t,o)),n}return o._value=e,o}function dn(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&pn(t,o)),n}return o._value=e,o}function hn(t,e){return function(){ee(this,t).delay=+e.apply(this,arguments)}}function yn(t,e){return e=+e,function(){ee(this,t).delay=e}}function gn(t,e){return function(){ne(this,t).duration=+e.apply(this,arguments)}}function vn(t,e){return e=+e,function(){ne(this,t).duration=e}}function mn(t,e){if("function"!=typeof e)throw new Error;return function(){ne(this,t).ease=e}}function bn(t,e,n){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?ee:ne;return function(){var a=i(this,t),s=a.on;s!==r&&(o=(r=s).copy()).on(e,n),a.on=o}}var _n=St.prototype.constructor;function wn(t){return function(){this.style.removeProperty(t)}}function xn(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function En(t,e,n){var r,o;function i(){var i=e.apply(this,arguments);return i!==o&&(r=(o=i)&&xn(t,i,n)),r}return i._value=e,i}function Sn(t){return function(e){this.textContent=t.call(this,e)}}function An(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Sn(r)),e}return r._value=t,r}var On=0;function jn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Nn(){return++On}var kn=St.prototype;jn.prototype=function(t){return St().transition(t)}.prototype={constructor:jn,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=f(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,u,c=r[a],p=c.length,l=i[a]=new Array(p),d=0;d<p;++d)(s=c[d])&&(u=t.call(s,s.__data__,d,c))&&("__data__"in s&&(u.__data__=s.__data__),l[d]=u,te(l[d],e,n,d,l,re(s,n)));return new jn(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=y(t));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var u,c=r[s],p=c.length,l=0;l<p;++l)if(u=c[l]){for(var f,d=t.call(u,u.__data__,l,c),h=re(u,n),g=0,v=d.length;g<v;++g)(f=d[g])&&te(f,e,n,g,d,h);i.push(d),a.push(u)}return new jn(i,a,e,n)},filter:function(t){"function"!=typeof t&&(t=g(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,u=r[o]=[],c=0;c<s;++c)(i=a[c])&&t.call(i,i.__data__,c,a)&&u.push(i);return new jn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var u,c=e[s],p=n[s],l=c.length,f=a[s]=new Array(l),d=0;d<l;++d)(u=c[d]||p[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new jn(a,this._parents,this._name,this._id)},selection:function(){return new _n(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Nn(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],u=s.length,c=0;c<u;++c)if(a=s[c]){var p=re(a,e);te(a,t,n,c,s,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new jn(r,this._parents,t,n)},call:kn.call,nodes:kn.nodes,node:kn.node,size:kn.size,empty:kn.empty,each:kn.each,on:function(t,e){var n=this._id;return arguments.length<2?re(this.node(),n).on.on(t):this.each(bn(n,t,e))},attr:function(t,e){var n=q(t),r="transform"===n?le:nn;return this.attrTween(t,"function"==typeof e?(n.local?cn:un)(n,r,he(this,"attr."+t,e)):null==e?(n.local?on:rn)(n):(n.local?sn:an)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=q(t);return this.tween(n,(r.local?fn:dn)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?pe:nn;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var i=G(this,t),a=(this.style.removeProperty(t),G(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}(t,r)).on("end.style."+t,wn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,o,i;return function(){var a=G(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=G(this,t)),a===u?null:a===r&&u===o?i:(o=u,i=e(r=a,s))}}(t,r,he(this,"style."+t,e))).each(function(t,e){var n,r,o,i,a="style."+e,s="end."+a;return function(){var u=ne(this,t),c=u.on,p=null==u.value[a]?i||(i=wn(e)):void 0;c===n&&o===p||(r=(n=c).copy()).on(s,o=p),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,o,i=n+"";return function(){var a=G(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,En(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(he(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,An(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,o=re(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==e?fe:de)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?hn:yn)(e,t)):re(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?gn:vn)(e,t)):re(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(mn(e,t)):re(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;ne(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},u={value:function(){0==--o&&i()}};n.each((function(){var n=ne(this,r),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===o&&i()}))},[Symbol.iterator]:kn[Symbol.iterator]};var Pn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function qn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}St.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,o,i=t.__transition,a=!0;if(i){for(o in e=null==e?null:e+"",i)(n=i[o]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete t.__transition}}(this,t)}))},St.prototype.transition=function(t){var e,n;t instanceof jn?(e=t._id,t=t._name):(e=Nn(),(n=Pn).time=Wt(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],u=s.length,c=0;c<u;++c)(a=s[c])&&te(a,t,e,c,s,n||qn(a,e));return new jn(r,this._parents,t,e)};function Dn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dn(Object(n),!0).forEach((function(e){Mn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bn="xdsm",In="xdsm2";function Ln(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r}function Un(t,e,n){this.graph=t,this.version=n.version||In;var r=At(".".concat(this.version));this.svg=r.append("svg").attr("width",1e3).attr("height",500).attr("viewBox","0 0 ".concat(1e3," ").concat(500)).attr("id",e),this.grid=[],this.nodes=[],this.edges=[],this.svgid=e,this.default_config={labelizer:{ellipsis:5,subSupScript:!0,showLinkNbOnly:!1},layout:{origin:{x:100,y:20},cellsize:{w:250,h:75},padding:20},withDefaultDriver:!0,withTitleTooltip:!0},this.config=Tn(Tn({},this.default_config),n),this.config.labelizer=Tn(Tn({},this.default_config.labelizer),n.labelizer),this.config.layout=Tn(Tn({},this.default_config.layout),n.layout),this.config.withTitleTooltip&&(this.tooltip=At("body").append("div").attr("class","xdsm-tooltip").style("opacity",0)),this._initialize()}Un.prototype.setVersion=function(t){this.version=t},Un.prototype.addNode=function(t){this.graph.addNode(t),this.draw()},Un.prototype.removeNode=function(t){this.graph.removeNode(t),this.draw()},Un.prototype.hasWorkflow=function(){return 0!==this.graph.chains.length},Un.prototype._initialize=function(){var t=this;t._createTitle(),t.nodeGroup=t.svg.append("g").attr("class","nodes"),t.edgeGroup=t.svg.append("g").attr("class","edges")},Un.prototype.updateMdo=function(t){this.graph=new c(t,this.config.withDefaultDriver),this.refresh()},Un.prototype.refresh=function(){var t=this;t.svg.selectAll("g").remove(),t.nodeGroup=t.svg.append("g").attr("class","nodes"),t.edgeGroup=t.svg.append("g").attr("class","edges"),t.draw()},Un.prototype.draw=function(){var t=this;t.nodes=t._createTextGroup("node",t.nodeGroup,t._customRect),t.edges=t._createTextGroup("edge",t.edgeGroup,t._customTrapz),t._createWorkflow(),t._createDataflow(),t._createBorder();var e=t.config.layout.cellsize.w*(t.graph.nodes.length+1),n=t.config.layout.cellsize.h*(t.graph.nodes.length+1);t.svg.attr("width",e).attr("height",n).attr("viewBox","0 0 ".concat(e," ").concat(n)),t.svg.selectAll(".border").attr("height",n-4).attr("width",e-4)},Un.prototype._createTextGroup=function(t,n,r){var o=this,i=n.selectAll(".".concat(t)).data(this.graph["".concat(t,"s")],(function(t){return t.id})),a=e.labelize().labelKind(t).ellipsis(o.config.labelizer.ellipsis).subSupScript(o.config.labelizer.subSupScript).linkNbOnly(o.config.labelizer.showLinkNbOnly),s=i.enter().append("g").attr("class",(function(e){var n="node"===t?e.type:"dataInter";return"dataInter"!==n||0!==e.row&&0!==e.col||(n="dataIO"),"id".concat(e.id," ").concat(t," ").concat(n)})).each((function(t){At(this).call(a.subXdsmLink(t.subxdsm))})).each((function(t,e){var n=o.grid,r=At(this);void 0===n[e]&&(n[e]=new Array(o.graph.nodes.length)),r.select("text").each((function(t,o){var i=At(this),a=r.data()[0],s=void 0===a.row?e:a.row,u=void 0===a.col?e:a.col,c=i.nodes()[o].getBBox();n[s][u]=new Ln(-c.width/2,0,c.width,c.height),i.attr("width",(function(){return n[s][u].width})).attr("height",(function(){return n[s][u].height})).attr("x",(function(){return n[s][u].x})).attr("y",(function(){return n[s][u].y}))}))})).each((function(t,e){var n=At(this);n.call(r.bind(o),t,e,0),t.isMulti&&(n.call(r.bind(o),t,e,1*Number(3)),n.call(r.bind(o),t,e,2*Number(3)))})).merge(i);i.exit().remove(),o.tooltip?Ot(".ellipsized").on("mouseover",(function(t,n){o.tooltip.transition().duration(200).style("opacity",.9);var r=e.tooltipize().subSupScript(o.config.labelizer.subSupScript).text(n.name);o.tooltip.call(r).style("width","".concat(300,"px")).style("left","".concat(t.pageX,"px")).style("top","".concat(t.pageY-28,"px"))})).on("mouseout",(function(){o.tooltip.transition().duration(500).style("opacity",0)})):Ot(".ellipsized").attr("title",(function(t){return t.name.split(",").join(", ")})),o._layoutText(s,r,(i.empty(),0))},Un.prototype._layoutText=function(t,e,n){var r=this;t.transition().duration(n).attr("transform",(function(t,e){var n=void 0===t.col?e:t.col,o=void 0===t.row?e:t.row,i=r.config.layout.cellsize.w*n+r.config.layout.origin.x,a=r.config.layout.cellsize.h*o+r.config.layout.origin.y;return"translate(".concat(r.config.layout.origin.x+i,",").concat(r.config.layout.origin.y+a,")")}))},Un.prototype._createWorkflow=function(){var t=this;this.svg.selectAll(".workflow").data([t.graph]).enter().insert("g",":first-child").attr("class","workflow").selectAll("g").data(t.graph.chains).enter().insert("g").attr("class","workflow-chain").selectAll("path").data((function(t){return t})).enter().append("path").attr("class",(function(t){return"link_".concat(t[0],"_").concat(t[1])})).attr("transform",(function(e){var n,r,o=Math.max(e[0],e[1]),i=Math.min(e[0],e[1]);return e[0]<e[1]?(n=t.config.layout.cellsize.w*o+t.config.layout.origin.x,r=t.config.layout.cellsize.h*i+t.config.layout.origin.y):(n=t.config.layout.cellsize.w*i+t.config.layout.origin.x,r=t.config.layout.cellsize.h*o+t.config.layout.origin.y),"translate(".concat(t.config.layout.origin.x+n,",").concat(t.config.layout.origin.y+r,")")})).attr("d",(function(e){var n=t.config.layout.cellsize.w*Math.abs(e[0]-e[1]),r=t.config.layout.cellsize.h*Math.abs(e[0]-e[1]),o=[];return e[0]<e[1]?(0!==e[0]&&o.push("".concat(-n,",0")),o.push("0,0"),0!==e[1]&&o.push("0,".concat(r))):(0!==e[0]&&o.push("".concat(n,",0")),o.push("0,0"),0!==e[1]&&o.push("0,".concat(-r))),"M".concat(o.join(" "))}))},Un.prototype._createDataflow=function(){var t=this;t.svg.selectAll(".dataflow").data([t]).enter().insert("g",":first-child").attr("class","dataflow");var e=t.svg.select(".dataflow").selectAll("path").data(t.graph.edges,(function(t){return t.id}));e.enter().append("path").merge(e).transition().duration((e.empty(),0)).attr("transform",(function(e,n){var r=void 0===e.col?n:e.col,o=void 0===e.row?n:e.row,i=t.config.layout.cellsize.w*r+t.config.layout.origin.x,a=t.config.layout.cellsize.h*o+t.config.layout.origin.y;return"translate(".concat(t.config.layout.origin.x+i,",").concat(t.config.layout.origin.y+a,")")})).attr("d",(function(e){var n=t.config.layout.cellsize.w*Math.abs(e.col-e.row),r=t.config.layout.cellsize.h*Math.abs(e.col-e.row),o=[];return"in"===e.iotype?(0!==e.row&&o.push("".concat(-n,",0")),o.push("0,0"),0!==e.col&&o.push("0,".concat(r))):(0!==e.row&&o.push("".concat(n,",0")),o.push("0,0"),0!==e.col&&o.push("0,".concat(-r))),"M".concat(o.join(" "))})),e.exit().remove()},Un.prototype._customRect=function(t,e,n,r){var o=this,i=o.grid;if(this.version!==In||"group"!==e.type&&"implicit-group"!==e.type&&"sub-optimization"!==e.type&&"mdo"!==e.type)t.insert("rect",":first-child").classed("shape",!0).attr("x",(function(){return i[n][n].x+r-o.config.layout.padding})).attr("y",(function(){return-i[n][n].height*(2/3)-o.config.layout.padding-r})).attr("width",(function(){return i[n][n].width+2*o.config.layout.padding})).attr("height",(function(){return i[n][n].height+2*o.config.layout.padding})).attr("rx",(function(){return"driver"===e.type||"optimization"===e.type||"mda"===e.type||"doe"===e.type?(i[n][n].height+2*o.config.layout.padding)/2:0})).attr("ry",(function(){return"driver"===e.type||"optimization"===e.type||"mda"===e.type||"doe"===e.type?(i[n][n].height+2*o.config.layout.padding)/2:0}));else{var a=i[n][n].x+r-o.config.layout.padding,s=-i[n][n].height*(2/3)-o.config.layout.padding-r,u=i[n][n].x+r+o.config.layout.padding+i[n][n].width,c=-i[n][n].height*(2/3)+o.config.layout.padding-r+i[n][n].height,p=10,l="".concat(a+p,",").concat(s," ").concat(u-p,",").concat(s," ").concat(u,",").concat(s+p," ").concat(u,",").concat(c-p," ").concat(u-p,",").concat(c," ").concat(a+p,",").concat(c," ").concat(a,",").concat(c-p," ").concat(a,",").concat(s+p);t.insert("polygon",":first-child").classed("shape",!0).attr("points",l)}},Un.prototype._customTrapz=function(t,e,n,r){var o=this.grid;t.insert("polygon",":first-child").classed("shape",!0).attr("points",(function(t){var e=o[t.row][t.col].width,n=o[t.row][t.col].height;return["".concat(-5-e/2+r,", ").concat(-5-n*(2/3)-r," "),"".concat(e/2+5+r+5,", ").concat(-5-n*(2/3)-r," "),"".concat(e/2+5+r-5+5,", ").concat(5+n/3-r," "),"".concat(-5-e/2+r-5,", ").concat(5+n/3-r," ")].join(" ")}))},Un.prototype._createTitle=function(){var t=this;t.svg.selectAll(".title").data([t.svgid]).enter().append("g").classed("title",!0).append("a").attr("id",t.svgid).append("text").text("root"===t.svgid?"":t.svgid).attr("transform","translate(".concat(t.config.layout.origin.x,", ").concat(t.config.layout.origin.y-5,")"))},Un.prototype._createBorder=function(){this.svg.selectAll(".border").data([this]).enter().append("rect").classed("border",!0).attr("x",4).attr("y",4).style("stroke","black").style("fill","none").style("stroke-width",0)};const Rn=Un;function Cn(t,e){this._xdsm=t,this._selection=null,this._prevSelection=null,this._callback=e,this.enable()}Cn.prototype.enable=function(){this._addEventHandler(".node"),this._addEventHandler(".edge")},Cn.prototype._addEventHandler=function(t){var e=this;Ot(t).on("click",(function(){var t=At('[data-xdsm-selected="true"]');e._unselect(t);var n=At(this);(t.empty()||t.data()[0].id!==n.data()[0].id)&&e._select(n),e._callback(e.getFilter())}))},Cn.prototype._select=function(t){t.attr("data-xdsm-selected",!0),t.select(".shape").transition().duration(100).style("stroke-width","4px")},Cn.prototype._unselect=function(t){t.attr("data-xdsm-selected",null),t.select(".shape").transition().duration(100).style("stroke-width",null)},Cn.prototype.getFilter=function(){var t={fr:void 0,to:void 0},e=At('[data-xdsm-selected="true"]');if(!e.empty()){var n=e.data()[0];n.iotype?(t.fr=this._xdsm.graph.getNodeFromIndex(n.row).id,t.to=this._xdsm.graph.getNodeFromIndex(n.col).id):(t.fr=n.id,t.to=n.id)}return t},Cn.prototype.setFilter=function(t){var e,n=this,r=At('[data-xdsm-selected="true"]');t.fr===t.to?void 0!==t.fr&&(e=At(".id".concat(t.fr)),n._select(e)):void 0!==t.fr&&void 0!==t.to&&(e=At(".idlink_".concat(t.fr,"_").concat(t.to)),n._select(e)),(!e||e.empty()||!r.empty()&&r.data()[0].id!==e.data()[0].id)&&n._unselect(r)};const Fn=Cn;var Gn=700,zn=Le("seagreen"),Wn=Le("firebrick"),$n=Le("darkseagreen"),Xn=Le("darkcyan");function Vn(t,e,n){this.rootId=e,void 0===e&&(this.rootId="root"),this.root=t[this.rootId],this.xdsms=t,this.duration=Gn,this.initialDelay=n||0,this._observers=[],this.reset()}Vn.STATUS={READY:"ready",RUNNING_STEP:"running_step",RUNNING_AUTO:"running_auto",STOPPED:"stopped",DONE:"done",DISABLED:"disabled"},Vn.prototype.reset=function(){this.curStep=0,this.subAnimations={},this._updateStatus(Vn.STATUS.READY)},Vn.prototype.start=function(){this._scheduleAnimation(),this._updateStatus(Vn.STATUS.RUNNING_AUTO)},Vn.prototype.stop=function(){this._reset("all"),this._updateStatus(Vn.STATUS.STOPPED)},Vn.prototype.stepPrev=function(){this._step("prev")},Vn.prototype.stepNext=function(){this._step("next")},Vn.prototype.setXdsmVersion=function(t){Object.values(this.xdsms).forEach((function(e){e.setVersion(t),e.refresh()}),this)},Vn.prototype._step=function(t){var e="prev"===t,n=this,r=n.xdsms[n.rootId].graph,o=r.nodesByStep,i=e?-1:1;if(!(!e&&n.done()||e&&n.ready())){if(!n._subAnimationInProgress())n.curStep+=i,n._reset(),o[n.curStep].forEach((function(t){n.running()&&o[n.curStep-i].forEach((function(r){e?n._pulseLink(0,t,r):n._pulseLink(0,r,t);var o="g.id".concat(r);n._pulseNode(0,o,"out")}));var r="g.id".concat(t);n._pulseNode(0,r,"in")}));o[n.curStep].some(n._isSubXdsm,this)&&o[n.curStep].forEach((function(e){if(n._isSubXdsm(e)){var o=r.getNode(e).getSubXdsmId();n.subAnimations[o]||(n.subAnimations[o]=new Vn(n.xdsms,o)),n.subAnimations[o]._step(t)}}),this),this.done()?this._updateStatus(Vn.STATUS.DONE):this.ready()?this._updateStatus(Vn.STATUS.READY):this._updateStatus(Vn.STATUS.RUNNING_STEP)}},Vn.prototype.running=function(){return!this.ready()&&!this.done()},Vn.prototype.ready=function(){return 0===this.curStep},Vn.prototype.done=function(){return this.curStep===this.root.graph.nodesByStep.length-1},Vn.prototype.isStatus=function(t){return this.status===t},Vn.prototype.addObserver=function(t){t&&this._observers.push(t)},Vn.prototype.renderNodeStatuses=function(){var t=this,e=t.xdsms[t.rootId].graph;e.nodes.forEach((function(n){var r="g.".concat(n.id);switch(n.status){case c.NODE_STATUS.RUNNING:t._pulseNode(0,r,"in",zn);break;case c.NODE_STATUS.FAILED:t._pulseNode(0,r,"in",Wn);break;case c.NODE_STATUS.PENDING:t._pulseNode(0,r,"in",$n);break;case c.NODE_STATUS.DONE:t._pulseNode(0,r,"in",Xn)}if(t._isSubXdsm(n.id)){var o=e.getNode(n.id).getSubXdsmId();new Vn(t.xdsms,o).renderNodeStatuses()}}))},Vn.prototype._updateStatus=function(t){this.status=t,this._notifyObservers(t)},Vn.prototype._notifyObservers=function(){var t=this;this._observers.map((function(e){return e.update(t.status)}))},Vn.prototype._pulse=function(t,e,n,r){var o=r||zn,i=At("svg#".concat(this.rootId)).selectAll(e).transition().delay(t);"out"!==n&&(i=i.transition().duration(200).style("stroke-width","8px").style("stroke",o).style("fill",(function(t){return t.id?o.brighter():null}))),"in"!==n&&i.transition().duration(2100).style("stroke-width",null).style("stroke",null).style("fill",null)},Vn.prototype._pulseNode=function(t,e,n,r){this._pulse(t,"".concat(e," > rect"),n,r),this._pulse(t,"".concat(e," > polygon"),n,r)},Vn.prototype._pulseLink=function(t,e,n){var r=this.xdsms[this.rootId].graph,o=r.idxOf(e),i=r.idxOf(n);this._pulse(t,"path.link_".concat(o,"_").concat(i))},Vn.prototype._onAnimationStart=function(t){At("svg#".concat(this.rootId)).select("g.title").select("text").transition().delay(t).style("fill",zn),At("svg#".concat(this.rootId)).select("rect.border").transition().delay(t).style("stroke-width","5px").duration(200).transition().duration(1e3).style("stroke","black").style("stroke-width","0px")},Vn.prototype._onAnimationDone=function(t){var e=this;At("svg#".concat(this.rootId)).select("g.title").select("text").transition().delay(t).style("fill",null).on("end",(function(){e._updateStatus(Vn.STATUS.DONE)}))},Vn.prototype._isSubXdsm=function(t){var e="g.id".concat(t),n=At("svg#".concat(this.rootId)).select(e);return n.classed("mdo")||n.classed("sub-optimization")||n.classed("group")||n.classed("implicit-group")},Vn.prototype._scheduleAnimation=function(){var t=this,e=this,n=this.initialDelay,r=e.xdsms[e.rootId].graph;return e._onAnimationStart(n),r.nodesByStep.forEach((function(o,i,a){var s=[];o.forEach((function(t){var o=n+i*Gn;if(i>0){a[i-1].forEach((function(n){e._pulseLink(o,n,t)}));var u="g.id".concat(t);if(e._isSubXdsm(t)){e._pulseNode(o,u,"in");var c=r.getNode(t).getSubXdsmId(),p=new Vn(e.xdsms,c,o+200)._scheduleAnimation();s.push(p),e._pulseNode(p+o+200,u,"out")}else e._pulseNode(o,u)}}),t),s.length>0&&(n+=Math.max.apply(null,s)),n+=200}),this),e._onAnimationDone(r.nodesByStep.length*Gn+n),r.nodesByStep.length*Gn},Vn.prototype._reset=function(t){var e=At("svg#".concat(this.rootId));t&&(e=Ot("svg")),e.selectAll("rect").transition().duration(0).style("stroke-width",null).style("stroke",null),e.selectAll("polygon").transition().duration(0).style("stroke-width",null).style("stroke",null),e.selectAll(".title > text").transition().duration(0).style("fill",null),e.selectAll(".node > rect").transition().duration(0).style("stroke-width",null).style("stroke",null).style("fill",null),e.selectAll(".node > polygon").transition().duration(0).style("stroke-width",null).style("stroke",null).style("fill",null),e.selectAll("path").transition().duration(0).style("stroke-width",null).style("stroke",null).style("fill",null)},Vn.prototype._resetPreviousStep=function(){var t=this;this.root.graph.nodesByStep[this.curStep-1].forEach((function(e){var n="g.id".concat(e);t._pulseNode(0,n,"out")}),this)},Vn.prototype._subAnimationInProgress=function(){var t=!1;for(var e in this.subAnimations)Object.prototype.hasOwnProperty.call(this.subAnimations,e)&&(t=t||this.subAnimations[e].running());return t};const Hn=Vn;function Yn(t,e){var n=this;this.animation=t,this.defaultVersion=e||In;var r=At(".xdsm-toolbar").append("div").classed("button_group",!0);r.append("button").attr("id","start").append("i").attr("class","icon-start"),r.append("button").attr("id","stop").append("i").attr("class","icon-stop"),r.append("button").attr("id","step-prev").append("i").attr("class","icon-step-prev"),r.append("button").attr("id","step-next").append("i").attr("class","icon-step-next"),r.append("label").text("XDSM").attr("id","xdsm-version-label"),r.append("select").attr("id","xdsm-version-toggle"),this.startButton=At("button#start"),this.stopButton=At("button#stop"),this.stepPrevButton=At("button#step-prev"),this.stepNextButton=At("button#step-next"),this.toggleVersionButton=At("select#xdsm-version-toggle");var o={v1:Bn,v2:In};this.toggleVersionButton.selectAll("versions").data(["v1","v2"]).enter().append("option").text((function(t){return t})).attr("value",(function(t){return o[t]})).property("selected",(function(t){return e===o[t]})),this.startButton.on("click",(function(){n.animation.start()})),this.stopButton.on("click",(function(){n.animation.stop()})),this.stepPrevButton.on("click",(function(){n.animation.stepPrev()})),this.stepNextButton.on("click",(function(){n.animation.stepNext()})),this.toggleVersionButton.on("change",(function(){var t=At("select#xdsm-version-toggle").property("value"),e=At(".".concat(t));e.empty()&&t===Bn&&(e=At(".".concat(In))).classed(In,!1).classed(Bn,!0),e.empty()&&t===In&&(e=At(".".concat(Bn))).classed(Bn,!1).classed(In,!0),n.animation.setXdsmVersion(t)})),this.animation.addObserver(this),this.update(this.animation.status)}Yn.prototype.update=function(t){switch(t){case Hn.STATUS.STOPPED:case Hn.STATUS.DONE:this.animation.reset();case Hn.STATUS.READY:this._enable(this.startButton),this._disable(this.stopButton),this._enable(this.stepNextButton),this._enable(this.stepPrevButton);break;case Hn.STATUS.RUNNING_AUTO:this._disable(this.startButton),this._enable(this.stopButton),this._disable(this.stepNextButton),this._disable(this.stepPrevButton);break;case Hn.STATUS.RUNNING_STEP:this._disable(this.startButton),this._enable(this.stopButton),this._enable(this.stepNextButton),this._enable(this.stepPrevButton);break;default:console.log("Unexpected Event: ".concat(t))}},Yn.prototype._enable=function(t){t.attr("disabled",null)},Yn.prototype._disable=function(t){t.attr("disabled",!0)};const Jn=Yn;function Kn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kn(Object(n),!0).forEach((function(e){Qn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nr(t,e,n){return e&&er(t.prototype,e),n&&er(t,n),t}var rr=function(){function t(e,n,r){tr(this,t);var o=new c(e,r.withDefaultDriver);this.xdsm=new Rn(o,"root",r),this.xdsm.draw(),this.selectable=new Fn(this.xdsm,n),this.selectable.enable()}return nr(t,[{key:"updateMdo",value:function(t){this.xdsm.updateMdo(t),this.selectable.enable()}},{key:"setSelection",value:function(t){this.selectable.setFilter(t)}}]),t}();const or=function(){function t(e){tr(this,t),this._version=t._detectVersion()||In,this.default_config={labelizer:{ellipsis:5,subSupScript:!0,showLinkNbOnly:!1},withDefaultDriver:!0},this._config=Zn(Zn({},this.default_config),e),this._config.version=this._version}return nr(t,[{key:"createXdsm",value:function(t){var e=this,n=this._version,r=At(".".concat(n));if(r.empty())console.log("No element of ".concat(n,' class. Please add <div class="').concat(n,'"></div> in your HTML.'));else if(t)this._createXdsm(t,n);else{var o=r.attr("data-mdo");if(o)this._createXdsm(JSON.parse(o),n);else(function(t,e){return fetch(t,e).then(p)})(r.attr("data-mdo-file")||"xdsm.json").then((function(t){return e._createXdsm(t,n)}))}}},{key:"createSelectableXdsm",value:function(t,e){return new rr(t,e,this._config)}},{key:"_createXdsm",value:function(e,n){var r=this,o=t._orderedList(e);At("body").selectAll("optpb").data(o).enter().append("div").filter((function(t){return e[t].optpb})).attr("class",(function(t){return"optpb ".concat(t)})).style("opacity",0).on("click",(function(){At(this).transition().duration(500).style("opacity",0).style("pointer-events","none")})).append("pre").html((function(t){return e[t].optpb}));var i={};if(-1===o.indexOf("root")){var a=new c(e,this._config.withDefaultDriver);i.root=new Rn(a,"root",this._config),i.root.draw()}else o.forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){var n=new c(e[t],r._config.withDefaultDriver);i[t]=new Rn(n,t,r._config),i[t].draw(),i[t].svg.select(".optimization").on("click",(function(e){var n=At(".optpb.".concat(t));n.style("opacity",.9),n.style("left","".concat(e.pageX,"px")).style("top","".concat(e.pageY-28,"px")),n.style("pointer-events","auto")}))}}),this);var s=new Hn(i);if(i.root.hasWorkflow())new Jn(s,n);s.renderNodeStatuses()}}],[{key:"XDSM_V1",get:function(){return Bn}},{key:"XDSM_V2",get:function(){return In}},{key:"_detectVersion",value:function(){return At(".".concat(Bn)).empty()?In:Bn}},{key:"_orderedList",value:function(e,n,r){var o=n||"root",i=r||0;if(e[o]){var a=e[o].nodes.map((function(t){return t.subxdsm})).filter((function(t){return t})),s=[o];if(a.length>0)for(var u=0;u<a.length;u+=1)s=s.concat(t._orderedList(e,a[u],i+1));return s}if(0===i)return Object.keys(e).sort();throw new Error("sub-XDSM '".concat(o,"' not found among ").concat(Object.keys(e)))}}]),t}();var ir=n(5122);function ar(){return new c({nodes:[{id:"A"},{id:"B"},{id:"C"},{id:"D"},{id:"E"}],edges:[{from:"A",to:"B",name:"a, b"},{from:"C",to:"A",name:"CA"},{from:"C",to:"B",name:"CB"},{from:"C",to:"D",name:"CD"},{from:"E",to:"A",name:"EA"}],workflow:[]})}function sr(){return new c({nodes:[{id:"A"},{id:"B"},{id:"C"},{id:"D"},{id:"E"}],edges:[{from:"A",to:"B",vars:{1:"a",2:"b"}},{from:"C",to:"A",vars:{1:"a",3:"c"}},{from:"C",to:"B",vars:{3:"c",2:"b"}},{from:"C",to:"D",vars:{3:"c",4:"d"}},{from:"E",to:"A",vars:{5:"e",1:"a"}}],workflow:[]})}ir("Labelizer.strParse('') returns [{'base':'', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(e.strParse(""),[{base:"",sub:void 0,sup:void 0}]),t.end()})),ir("Labelizer.strParse('+A') throws an error",(function(t){t.throws((function(){e.strParse("+")}),"should throw an error"),t.end()})),ir("Labelizer.strParse('ConvCheck') returns [{'base':'ConvCheck', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(e.strParse("ConvCheck"),[{base:"ConvCheck",sub:void 0,sup:void 0}]),t.end()})),ir("Labelizer.strParse('x') returns [{'base':'x', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(e.strParse("x"),[{base:"x",sub:void 0,sup:void 0}]),t.end()})),ir("Labelizer.strParse('&#x03BB') returns [{'base':'&#x03BB', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(e.strParse("&#x03BB"),[{base:"&#x03BB",sub:void 0,sup:void 0}]),t.end()})),ir("Labelizer.strParse('&#x03BB_&#x03BB^&#x03BB') returns [{'base':'&#x03BB', 'sub':'&#x03BB', 'sup':'&#x03BB'}]",(function(t){t.deepEqual(e.strParse("&#x03BB_&#x03BB^&#x03BB"),[{base:"&#x03BB",sub:"&#x03BB",sup:"&#x03BB"}]),t.end()})),ir("Labelizer.strParse('Optimization') returns [{'base':'Optimization', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(e.strParse("Optimization"),[{base:"Optimization",sub:void 0,sup:void 0}]),t.end()})),ir("Labelizer.strParse('x_12') returns [{'base':'x', 'sub': '12', 'sup':undefined}]",(function(t){t.deepEqual(e.strParse("x_12"),[{base:"x",sub:"12",sup:void 0}]),t.end()})),ir("Labelizer.strParse('x_13^{(0)}') returns [{'base':'x', 'sub': '13', 'sup': '{(0)}'}]",(function(t){t.deepEqual(e.strParse("x_13^{(0)}"),[{base:"x",sub:"13",sup:"{(0)}"}]),t.end()})),ir("Labelizer.strParse('x_13^0, y_1^{*}') returns [{'base': 'x', 'sub': '13', 'sup': '{*}'}, {'base':'y', 'sub': '1', 'sup': '*'}]",(function(t){t.deepEqual(e.strParse("x_13^{(0)}, y_1^{*}"),[{base:"x",sub:"13",sup:"{(0)}"},{base:"y",sub:"1",sup:"{*}"}]),t.end()})),ir("Labelizer.strParse('1:Opt') returns [{'base':'1:Opt', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(e.strParse("1:Opt"),[{base:"1:Opt",sub:void 0,sup:void 0}]),t.end()})),ir("Labelizer.strParse('1:L-BFGS-B') returns [{'base':'1:L-BFGS-B', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(e.strParse("1:L-BFGS-B"),[{base:"1:L-BFGS-B",sub:void 0,sup:void 0}]),t.end()})),ir("Labelizer.strParse('y_12_y_34') returns [{'base':'y_12_y_34', 'sub':undefined, 'sup':undefined}]",(function(t){t.deepEqual(e.strParse("y_12_y_34"),[{base:"y_12_y_34",sub:void 0,sup:void 0}]),t.end()})),ir("Labelizer.strParse('y_12_y_34^*') returns [{'base':'y_12_y_34', 'sub':undefined, 'sup':'*'}]",(function(t){t.deepEqual(e.strParse("y_12_y_34^*"),[{base:"y_12_y_34",sub:void 0,sup:"*"}]),t.end()})),ir("Graph.expand(['a']) returns [['a']]",(function(t){t.deepEqual(c.expand(["a"]),[["a"]]),t.end()})),ir("Graph.expand([['a']]) returns [['a']]",(function(t){t.deepEqual(c.expand([["a"]]),[["a"]]),t.end()})),ir("Graph.expand(['a', 'b']) returns [['a', 'b']]",(function(t){t.deepEqual(c.expand(["a","b"]),[["a","b"]]),t.end()})),ir("Graph.expand([['a', 'b']]) returns [['a', 'b']]",(function(t){t.deepEqual(c.expand([["a","b"]]),[["a","b"]]),t.end()})),ir("Graph.expand(['a', ['b']]) returns [['a', 'b', 'a']]",(function(t){t.deepEqual(c.expand(["a",["b"]]),[["a","b","a"]]),t.end()})),ir("Graph.expand([['a'], 'b']) returns ['a', 'b']",(function(t){t.deepEqual(c.expand([["a"],"b"]),[["a","b"]]),t.end()})),ir("Graph.expand([['a'], 'b', 'c']) returns ['a', 'b', 'c']",(function(t){t.deepEqual(c.expand([["a"],"b","c"]),[["a","b","c"]]),t.end()})),ir("Graph.expand(['a', ['b'], 'c']) returns [['a', 'b', 'a', 'c']]",(function(t){t.deepEqual(c.expand(["a",["b"],"c"]),[["a","b","a","c"]]),t.end()})),ir("Graph.expand(['a', [['b']], 'c']) returns [['a', 'b', 'a', 'c']]",(function(t){t.deepEqual(c.expand(["a",[["b"]],"c"]),[["a","b","a","c"]]),t.end()})),ir("Graph.expand(['a', [['b', [d]]], 'c']) returns [['a', 'b', 'd', 'b', 'a', 'c']]",(function(t){t.deepEqual(c.expand(["a",[["b",["d"]]],"c"]),[["a","b","d","b","a","c"]]),t.end()})),ir("Graph.expand(['a', ['b1', 'b2'], 'c']) returns [['a', 'b1', 'b2', 'a', 'c']]",(function(t){t.deepEqual(c.expand(["a",["b1","b2"],"c"]),[["a","b1","b2","a","c"]]),t.end()})),ir("Graph.expand(['a0', ['b1', 'b2', 'b3'], 'c3']) returns [['a0', 'b1', 'b2', 'b3', 'a0', 'c3']]",(function(t){t.deepEqual(c.expand(["a0",["b1","b2","b3"],"c3"]),[["a0","b1","b2","b3","a0","c3"]]),t.end()})),ir("Graph.expand(['opt', ['mda', ['d1', 'd2', 'd3'],'func']]) returns [['opt', 'mda', 'd1', 'd2', 'd3', 'mda','func', 'opt']]",(function(t){t.deepEqual(c.expand(["opt",["mda",["d1","d2","d3"],"func"]]),[["opt","mda","d1","d2","d3","mda","func","opt"]]),t.end()})),ir("Graph.expand([{parallel: ['d1', 'd2']}]) returns [[d1], [d2]]",(function(t){t.deepEqual(c.expand([{parallel:["d1","d2"]}]),[["d1"],["d2"]]),t.end()})),ir("Graph.expand([{parallel: ['d1', 'd2']}]) returns [[d1], [d2]]",(function(t){t.deepEqual(c.expand([{parallel:["d1","d2"]}]),[["d1"],["d2"]]),t.end()})),ir("Graph.expand(['opt', {parallel: ['d1', 'd2', 'd3']}]) returns [['opt', 'd1'], ['opt', 'd2'], ['opt', 'd3']]",(function(t){t.deepEqual(c.expand(["opt",{parallel:["d1","d2","d3"]}]),[["opt","d1"],["opt","d2"],["opt","d3"]]),t.end()})),ir("Graph.expand(['opt', [{parallel: ['d1', 'd2', 'd3']}]]) returns [['opt', 'd1', 'opt'], ['opt', 'd2', 'opt'], ['opt', 'd3', 'opt']]",(function(t){t.deepEqual(c.expand(["opt",[{parallel:["d1","d2","d3"]}]]),[["opt","d1","opt"],["opt","d2","opt"],["opt","d3","opt"]]),t.end()})),ir("Graph.expand(['mda', {parallel: ['d1', 'd2', 'd3']}, 'd4']) returns [['mda', 'd1', 'd4'], ['mda', 'd2', 'd4'], ['mda', 'd3', 'd4']]",(function(t){t.deepEqual(c.expand(["mda",{parallel:["d1","d2","d3"]},"d4"]),[["mda","d1","d4"],["mda","d2","d4"],["mda","d3","d4"]]),t.end()})),ir("Graph.expand(['opt', 'mda', {parallel: ['d1', 'd2', 'd3']}, 'd4']]) returns [['opt', 'mda'], ['mda', 'd1', 'd4'], ['mda', 'd2', 'd4'], ['mda', 'd3', 'd4']]",(function(t){t.deepEqual(c.expand(["opt","mda",{parallel:["d1","d2","d3"]},"d4"]),[["opt","mda"],["mda","d1","d4"],["mda","d2","d4"],["mda","d3","d4"]]),t.end()})),ir("Graph.expand(['opt', ['mda', {parallel: ['d1', 'd2', 'd3']}, 'd4']]) returns [['opt', 'mda'], ['mda', 'd1', 'd4'], ['mda', 'd2', 'd4'], ['mda', 'd3', 'd4'], ['d4', 'opt']]",(function(t){t.deepEqual(c.expand(["opt",["mda",{parallel:["d1","d2","d3"]},"d4"]]),[["opt","mda"],["mda","d1","d4"],["mda","d2","d4"],["mda","d3","d4"],["d4","opt"]]),t.end()})),ir("Graph.expand((['_U_', ['opt', ['mda', {parallel: ['d1', 'd2', 'd3']}, 'd4']]]) returns [['_U_', 'opt', 'mda'], ['mda', 'd1', 'd4'], ['mda', 'd2', 'd4'], ['mda', 'd3', 'd4'], ['d4', 'opt', '_U_']]",(function(t){t.deepEqual(c.expand(["_U_",["opt",["mda",{parallel:["d1","d2","d3"]},"d4"]]]),[["_U_","opt","mda"],["mda","d1","d4"],["mda","d2","d4"],["mda","d3","d4"],["d4","opt","_U_"]]),t.end()})),ir("Graph.expand((['_U_', ['opt', ['mda', ['d1', 'd2']]]]) returns [['_U_', 'opt', 'mda', 'd1', 'd2', 'mda', 'opt', '_U_']]",(function(t){t.deepEqual(c.expand(["_U_",["opt",["mda",["d1","d2"]]]]),[["_U_","opt","mda","d1","d2","mda","opt","_U_"]]),t.end()})),ir("Graph.expand((['_U_', ['opt', ['mda', ['d1', 'd2'], 'mda', ['d1', 'd2']]]]) returns [['_U_', 'opt', 'mda', 'd1', 'd2', 'mda', 'mda', 'd1', 'd2', 'mda', 'opt', '_U_']]",(function(t){t.deepEqual(c.expand(["_U_",["opt",["mda",["d1","d2"],"mda",["d1","d2"]]]]),[["_U_","opt","mda","d1","d2","mda","mda","d1","d2","mda","opt","_U_"]]),t.end()})),ir("Graph.expand((['_U_', ['opt', ['mda', ['d1', 'd2'], {parallel: ['sc1', 'sc2']},'mda', ['d1', 'd2']]]]) returns [['_U_', 'opt', 'mda', 'd1', 'd2', 'mda'], ['mda', 'sc1', 'mda'], ['mda', 'sc2', 'mda'], ['mda', 'd1', 'd2', 'mda', 'opt', '_U_']]",(function(t){t.deepEqual(c.expand(["_U_",["opt",["mda",["d1","d2"],{parallel:["sc1","sc2"]},"mda",["d1","d2"]]]]),[["_U_","opt","mda","d1","d2","mda"],["mda","sc1","mda"],["mda","sc2","mda"],["mda","d1","d2","mda","opt","_U_"]]),t.end()})),ir("Graph.expand((['d1', {parallel: ['sc1', 'sc2']}, 'd2']) returns [['d1', 'sc1', 'd2'], ['d1', 'sc2', 'd2']]",(function(t){t.deepEqual(c.expand(["d1",{parallel:["sc1","sc2"]},"d2"]),[["d1","sc1","d2"],["d1","sc2","d2"]]),t.end()})),ir("Graph.expand((['opt', ['d1', {parallel: ['sc1', 'sc2']}]]) returns [['opt', 'd1'] ['d1', 'sc1', 'opt'], ['d1', 'sc2', 'opt']]",(function(t){t.deepEqual(c.expand(["opt",["d1",{parallel:["sc1","sc2"]}]]),[["opt","d1"],["d1","sc1","opt"],["d1","sc2","opt"],["opt","opt"]]),t.end()})),ir("Graph.chains should expand as list of index couples",(function(t){var e=new c({nodes:[{id:"Opt",name:"Opt"},{id:"MDA",name:"MDA"},{id:"DA1",name:"DA1"},{id:"DA2",name:"DA2"},{id:"DA3",name:"DA3"},{id:"Func",name:"Func"}],edges:[],workflow:["Opt",["MDA",["DA1","DA2","DA3"],"Func"]]});t.deepEqual(e.chains,[[[1,2],[2,3],[3,4],[4,5],[5,2],[2,6],[6,1]]]),t.end()})),ir("Graph.chains should expand as list of index couples",(function(t){var e=new c({nodes:[{id:"Opt",name:"Opt"},{id:"DA1",name:"DA1"},{id:"DA2",name:"DA2"},{id:"DA3",name:"DA3"},{id:"Func",name:"Func"}],edges:[],workflow:[["Opt",["DA1"],"Opt",["DA2"],"Opt",["DA3"],"Func"]]});t.deepEqual(e.chains,[[[1,2],[2,1],[1,3],[3,1],[1,4],[4,1],[1,5]]]),t.end()})),ir("Graph.number(['d1']) returns {'toNum':{d1: '0'}, 'toNodes':[['d1']])",(function(t){t.deepEqual(c.number(["d1"]),{toNum:{d1:"0"},toNode:[["d1"]]}),t.equal(c.number(["d1"]).toNode.length,1),t.end()})),ir("Graph.number(['d1', 'd1']) returns {'toNum':{d1: '0,1'}, 'toNodes':[['d1'],['d1']]})",(function(t){t.deepEqual(c.number(["d1","d1"]),{toNum:{d1:"0,1"},toNode:[["d1"],["d1"]]}),t.end()})),ir("Graph.number(['mda', 'd1']) returns {'toNum':{mda:'0', d1: '1'}, 'toNode':[['mda'], ['d1']]})",(function(t){t.deepEqual(c.number(["mda","d1"]),{toNum:{mda:"0",d1:"1"},toNode:[["mda"],["d1"]]}),t.end()})),ir("Graph.number(['mda', 'd1', 'd2', 'd3']) returns {mda: '0', d1: '1', d2: '2', d3: '3'})",(function(t){t.deepEqual(c.number(["mda","d1","d2","d3"]).toNum,{mda:"0",d1:"1",d2:"2",d3:"3"}),t.end()})),ir("Graph.number(['mda', ['d1', 'd2', 'd3']]) returns {mda: '0,4-1', d1: '1', d2: '2', d3: '3'} )",(function(t){t.deepEqual(c.number(["mda",["d1","d2","d3"]]).toNum,{mda:"0,4-1",d1:"1",d2:"2",d3:"3"}),t.end()})),ir("Graph.number(['mda', {parallel:['d1', 'd2', 'd3']}]) returns {'mda': '0', 'd1': '1', 'd2': '1', 'd3': '1'})",(function(t){t.deepEqual(c.number(["mda",{parallel:["d1","d2","d3"]}]).toNum,{mda:"0",d1:"1",d2:"1",d3:"1"}),t.end()})),ir("Graph.number(['mda', [{parallel:['d1', 'd2', 'd3']}]]) returns {'toNum':{'mda': '0,2-1', 'd1': '1', 'd2': '1', 'd3': '1'}, 'toNode':[['mda'], ['d1','d2','d3']]})",(function(t){t.deepEqual(c.number(["mda",[{parallel:["d1","d2","d3"]}]]).toNum,{mda:"0,2-1",d1:"1",d2:"1",d3:"1"}),t.deepEqual(c.number(["mda",[{parallel:["d1","d2","d3"]}]]).toNode,[["mda"],["d1","d2","d3"],["mda"]]),t.end()})),ir("Graph.number(['opt', 'mda', ['d1', 'd2', 'd3']]) returns {'opt': '0', 'mda': '1,5-2', 'd1': '2', 'd2': '3', 'd3': '4'})",(function(t){t.deepEqual(c.number(["opt","mda",["d1","d2","d3"]]).toNum,{opt:"0",mda:"1,5-2",d1:"2",d2:"3",d3:"4"}),t.end()})),ir("Graph.number([['opt', ['mda', ['d1', 'd2', 'd3']]], 'd4']) returns {'opt': '0,6-1', 'mda': '1,5-2', 'd1': '2', 'd2': '3', 'd3': '4', 'd4': '7'})",(function(t){t.deepEqual(c.number([["opt",["mda",["d1","d2","d3"]]],"d4"]).toNum,{opt:"0,6-1",mda:"1,5-2",d1:"2",d2:"3",d3:"4",d4:"7"}),t.end()})),ir("Graph.number([['Opt', ['mda', ['d1'], 's1']]]) returns {'Opt': '0,5-1', 'mda': '1,3-2', 'd1': '2', 's1': '4'})",(function(t){t.deepEqual(c.number([["Opt",["mda",["d1"],"s1"]]]).toNum,{Opt:"0,5-1",mda:"1,3-2",d1:"2",s1:"4"}),t.end()})),ir("Graph.findEdgesOf(nodeIdx) returns edges to remove and edges to delete in case of node removal",(function(t){var e=ar();t.deepEqual(e.findEdgesOf(1),{toRemove:[e.edges[0],e.edges[1],e.edges[4]],toShift:[e.edges[2],e.edges[3]]}),t.deepEqual(e.findEdgesOf(3),{toRemove:[e.edges[1],e.edges[2],e.edges[3]],toShift:[e.edges[4]]}),t.deepEqual(e.findEdgesOf(4),{toRemove:[e.edges[3]],toShift:[e.edges[4]]}),t.end()})),ir("Graph.addNode()",(function(t){var e=ar();t.equal(e.nodes.length,6),e.addNode({id:"F",name:"F",kind:"function"}),t.equal(e.nodes.length,7),t.end()})),ir("Graph.removeNode()",(function(t){var e=ar();t.equal(e.nodes.length,6),e.removeNode(4),t.equal(e.nodes.length,5),t.end()})),ir("Graph.getNode()",(function(t){var e=ar();t.equal(e.getNode("A"),e.nodes[1]),t.equal(e.getNode("E"),e.nodes[5]),t.end()})),ir("Graph.idxOf()",(function(t){var e=ar();t.equal(e.idxOf("B"),2),t.equal(e.idxOf("E"),5),t.end()})),ir("Graph constructor should create a graph without edges or workflow input data)",(function(t){var e=new c({nodes:[{id:"A"},{id:"B"}]});t.deepEqual(e.edges,[]),t.deepEqual(e.chains,[]),t.end()})),ir("Graph nodes have a status UNKNOWN by default",(function(t){var e=new c({nodes:[{id:"A"},{id:"B"}]});t.deepEqual(e.getNode("A").status,c.NODE_STATUS.UNKNOWN),t.end()})),ir("Graph nodes can be to a given status PENDING, RUNNING, DONE or FAILED",(function(t){var e=new c({nodes:[{id:"A",status:"PENDING"},{id:"B",status:"RUNNING"},{id:"C",status:"DONE"},{id:"D",status:"FAILED"}]});t.deepEqual(e.getNode("A").status,c.NODE_STATUS.PENDING),t.deepEqual(e.getNode("B").status,c.NODE_STATUS.RUNNING),t.deepEqual(e.getNode("C").status,c.NODE_STATUS.DONE),t.deepEqual(e.getNode("D").status,c.NODE_STATUS.FAILED),t.end()})),ir("Graph throws an error if a node status string not known",(function(t){t.throws((function(){new c({nodes:[{id:"A",status:"BADSTATUS"}]})}),"should throw an error"),t.end()})),ir("Graph edge can have vars infos id/names from name",(function(t){var e=ar().findEdge("A","B");t.deepEqual(e.element.vars,{0:"a",1:"b"}),t.end()})),ir("Graph edge can have vars infos id/names",(function(t){var e=sr();t.equal(e.getNode("E"),e.nodes[5]);var n=e.findEdge("C","D").element;t.equal(n.vars[3],"c"),t.equal(n.vars[4],"d"),t.deepEqual(n.vars,{3:"c",4:"d"}),t.equal(n.name,"c, d"),t.end()})),ir("Graph add new var between two given nodes not linked",(function(t){var e=sr();e.addEdgeVar("A","D",{4:"d"});var n=e.findEdge("A","D").element;t.equal(n.vars[4],"d"),t.deepEqual(n.vars,{4:"d"}),t.equal(n.name,"d"),t.end()})),ir("Graph a var should appear once even if added twice",(function(t){var e=sr();e.addEdgeVar("A","D",{4:"d"}),e.addEdgeVar("A","D",{4:"d"});var n=e.findEdge("A","D").element;t.equal(n.name,"d"),e.removeEdge("A","D");e.findEdge("A","D").index;t.equal(n.index,void 0),t.end()})),ir("Graph add new var between two given nodes already linked",(function(t){var e=sr();e.addEdgeVar("A","B",{4:"d"});var n=e.findEdge("A","B").element;t.deepEqual(n.vars,{1:"a",2:"b",4:"d"}),t.equal(n.name,"a, b, d"),t.end()})),ir("Remove var of an edge",(function(t){var e=sr().findEdge("A","B").element;e.removeVar("b"),t.equal(e.name,"a"),t.end()})),ir("Remove edge between two given nodes",(function(t){var e=sr(),n=e.findEdge("E","A").element;t.notEqual(n,void 0),e.removeEdge("E","A"),n=e.findEdge("E","A").element,t.equal(n,void 0),t.end()})),ir("Remove edge one var between two given nodes",(function(t){var e=sr(),n=e.findEdge("E","A").element;t.notEqual(n,void 0),e.removeEdgeVar("E","A","e"),n=e.findEdge("E","A").element,t.deepEqual(n.vars,{1:"a"}),t.end()})),ir("Remove edge all vars between two given nodes",(function(t){var e=sr(),n=e.findEdge("E","A").element;t.notEqual(n,void 0),e.removeEdgeVar("E","A","e"),e.removeEdgeVar("E","A","a"),n=e.findEdge("E","A").element,t.equal(n,void 0),t.end()})),ir("find XDSMs order list",(function(t){t.deepEqual(or._orderedList({C:{nodes:[]},B:{nodes:[]},root:{nodes:[{name:"a",subxdsm:"A"}]},A:{nodes:[{name:"c",subxdsm:"C"},{name:"b",subxdsm:"B"}]}},"root"),["root","A","C","B"]),t.end()})),ir("find XDSMs list of single",(function(t){t.deepEqual(or._orderedList({root:{nodes:[{name:"a",subxdsm:"A"}]},A:{nodes:[{name:"c"},{name:"b"}]}}),["root","A"]),t.end()})),ir("find XDSMs list of empty xdsms",(function(t){t.deepEqual(or._orderedList({root:{nodes:[]}}),["root"]),t.end()}))})(),r})()}));
//# sourceMappingURL=xdsmjs-test.js.map